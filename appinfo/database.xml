<?xml version="1.0" encoding="ISO-8859-1" ?>
<database>
	<name>*dbname*</name>
	<create>true</create>
	<overwrite>false</overwrite>
	<charset>utf8</charset>
	<table>
		<name>*dbprefix*text_documents</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>current_version</name>
				<type>integer</type>
				<notnull>true</notnull>
				<unsigned>true</unsigned>
				<length>4</length>
				<default>0</default>
			</field>
			<field>
				<name>last_saved_version</name>
				<type>integer</type>
				<notnull>true</notnull>
				<unsigned>true</unsigned>
				<length>4</length>
				<default>0</default>
			</field>
			<field>
				<name>last_saved_version_time</name>
				<type>integer</type>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>last_saved_version_etag</name>
				<type>text</type>
				<length>64</length>
			</field>
			<field>
				<name>base_version_etag</name>
				<type>text</type>
				<length>64</length>
			</field>
		</declaration>
	</table>

	<table>
		<name>*dbprefix*text_sessions</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>user_id</name>
				<type>text</type>
				<length>64</length>
			</field>
			<field>
				<name>guest_name</name>
				<type>text</type>
				<length>64</length>
			</field>
			<field>
				<name>color</name>
				<type>text</type>
				<length>64</length>
			</field>
			<field>
				<name>token</name>
				<type>text</type>
				<length>64</length>
			</field>
			<field>
				<name>document_id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<length>4</length>
			</field>
			<field>
				<name>last_contact</name>
				<type>integer</type>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>

			<index>
				<name>rd_session_token_idx</name>
				<unique>false</unique>
				<field>
					<name>token</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>

	<table>
		<name>*dbprefix*text_steps</name>
		<declaration>
			<field>
				<name>id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>document_id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>session_id</name>
				<type>integer</type>
				<notnull>true</notnull>
				<unsigned>true</unsigned>
				<length>4</length>
			</field>
			<field>
				<name>data</name>
				<type>clob</type>
			</field>
			<field>
				<name>version</name>
				<type>integer</type>
				<notnull>true</notnull>
				<unsigned>true</unsigned>
				<length>4</length>
				<default>0</default>
			</field>

			<index>
				<name>rd_steps_did_idx</name>
				<unique>false</unique>
				<field>
					<name>document_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>rd_steps_version_idx</name>
				<unique>false</unique>
				<field>
					<name>version</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
</database>
