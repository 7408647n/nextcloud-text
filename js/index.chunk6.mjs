/*! third party licenses: js/vendor.LICENSE.txt */
var lo=Object.defineProperty;var ho=(o,i,f)=>i in o?lo(o,i,{enumerable:!0,configurable:!0,writable:!0,value:f}):o[i]=f;var _t=(o,i,f)=>ho(o,typeof i!="symbol"?i+"":i,f);import{g as fo}from"./index.chunk5.mjs";import{p as te,l as Ie,c as po,d as go}from"./modulepreload-polyfill.chunk.mjs";import{p as It,V as mo,U as $n}from"./NcNoteCard-BLPU1den.chunk.mjs";import{c as Pe,f as ne,a as Bn,b as vo,d as zt,g as wo,i as yo,e as bo,h as xo,w as re,j as qn,k as zn,t as ke,l as Re,m as Fe,_ as oe,n as Eo,o as Wn,p as Vn,q as Ao,r as Oo,s as No,u as _o,v as To,x as jo,y as Co,z as So,A as Io,B as Po,C as ko,D as Ro,E as Fo}from"./es.string.replace.chunk.mjs";import{U as Lo}from"./index.chunk3.mjs";import{g as Qt}from"./index.chunk2.mjs";import{l as Gn}from"./index.chunk4.mjs";var Lt={},Do=Pe,Mo=ne,Uo=function(o){if(Do(o)==="Function")return Mo(o)},wn=Uo,$o=Bn,Bo=vo,qo=wn(wn.bind),zo=function(o,i){return $o(o),i===void 0?o:Bo?qo(o,i):function(){return o.apply(i,arguments)}},Wo=Pe,Zn=Array.isArray||function(o){return Wo(o)==="Array"},Vo=ne,Go=zt,Hn=yo,Zo=bo,Ho=wo,Xo=xo,Xn=function(){},Kn=Ho("Reflect","construct"),Le=/^\s*(?:class|function)\b/,Ko=Vo(Le.exec),Qo=!Le.test(Xn),Bt=function(o){if(!Hn(o))return!1;try{return Kn(Xn,[],o),!0}catch{return!1}},Qn=function(o){if(!Hn(o))return!1;switch(Zo(o)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Qo||!!Ko(Le,Xo(o))}catch{return!0}};Qn.sham=!0;var Yn=!Kn||Go(function(){var o;return Bt(Bt.call)||!Bt(Object)||!Bt(function(){o=!0})||o})?Qn:Bt,yn=Zn,Yo=Yn,Jo=qn,ti=re,ei=ti("species"),bn=Array,ni=function(o){var i;return yn(o)&&(i=o.constructor,Yo(i)&&(i===bn||yn(i.prototype))?i=void 0:Jo(i)&&(i=i[ei],i===null&&(i=void 0))),i===void 0?bn:i},ri=ni,Jn=function(o,i){return new(ri(o))(i===0?0:i)},oi=zo,ii=ne,si=zn,ai=ke,ci=Re,ui=Jn,xn=ii([].push),Tt=function(o){var i=o===1,f=o===2,x=o===3,v=o===4,N=o===6,E=o===7,d=o===5||N;return function(O,c,s,h){for(var a=ai(O),l=si(a),m=ci(l),y=oi(c,s),_=0,k=h||ui,g=i?k(O,m):f||E?k(O,0):void 0,b,j;m>_;_++)if((d||_ in l)&&(b=l[_],j=y(b,_,a),o))if(i)g[_]=j;else if(j)switch(o){case 3:return!0;case 5:return b;case 6:return _;case 2:xn(g,b)}else switch(o){case 4:return!1;case 7:xn(g,b)}return N?-1:x||v?v:g}},tr={forEach:Tt(0),map:Tt(1),filter:Tt(2),some:Tt(3),every:Tt(4),find:Tt(5),findIndex:Tt(6),filterReject:Tt(7)},li=zt,hi=re,fi=Fe,pi=hi("species"),De=function(o){return fi>=51||!li(function(){var i=[],f=i.constructor={};return f[pi]=function(){return{foo:1}},i[o](Boolean).foo!==1})},di=oe,gi=tr.map,mi=De,vi=mi("map");di({target:"Array",proto:!0,forced:!vi},{map:function(o){return gi(this,o,arguments.length>1?arguments[1]:void 0)}});var wi=Yn,yi=Eo,bi=TypeError,xi=function(o){if(wi(o))return o;throw new bi(yi(o)+" is not a constructor")},En=Wn,Ei=xi,Ai=Vn,Oi=re,Ni=Oi("species"),_i=function(o,i){var f=En(o).constructor,x;return f===void 0||Ai(x=En(f)[Ni])?i:Ei(x)},Oe=No,er=ne,Ti=Ao,ji=Wn,Ci=Vn,Si=_o,Ii=_i,Pi=To,ki=jo,An=Co,Ri=So,On=Io,Fi=Oo,Li=zt,Ft=Fi.UNSUPPORTED_Y,Di=4294967295,Mi=Math.min,Ne=er([].push),_e=er("".slice),Ui=!Li(function(){var o=/(?:)/,i=o.exec;o.exec=function(){return i.apply(this,arguments)};var f="ab".split(o);return f.length!==2||f[0]!=="a"||f[1]!=="b"}),Nn="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Ti("split",function(o,i,f){var x="0".split(void 0,0).length?function(v,N){return v===void 0&&N===0?[]:Oe(i,this,v,N)}:i;return[function(v,N){var E=Si(this),d=Ci(v)?void 0:Ri(v,o);return d?Oe(d,v,E,N):Oe(x,An(E),v,N)},function(v,N){var E=ji(this),d=An(v);if(!Nn){var O=f(x,E,d,N,x!==i);if(O.done)return O.value}var c=Ii(E,RegExp),s=E.unicode,h=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(Ft?"g":"y"),a=new c(Ft?"^(?:"+E.source+")":E,h),l=N===void 0?Di:N>>>0;if(l===0)return[];if(d.length===0)return On(a,d)===null?[d]:[];for(var m=0,y=0,_=[];y<d.length;){a.lastIndex=Ft?0:y;var k=On(a,Ft?_e(d,y):d),g;if(k===null||(g=Mi(ki(a.lastIndex+(Ft?y:0)),d.length))===m)y=Pi(d,y,s);else{if(Ne(_,_e(d,m,y)),_.length===l)return _;for(var b=1;b<=k.length-1;b++)if(Ne(_,k[b]),_.length===l)return _;y=m=g}}return Ne(_,_e(d,m)),_}]},Nn||!Ui,Ft);var $i=oe,Bi=tr.filter,qi=De,zi=qi("filter");$i({target:"Array",proto:!0,forced:!zi},{filter:function(o){return Bi(this,o,arguments.length>1?arguments[1]:void 0)}});var Wi=Bn,Vi=ke,Gi=zn,Zi=Re,_n=TypeError,Tn="Reduce of empty array with no initial value",jn=function(o){return function(i,f,x,v){var N=Vi(i),E=Gi(N),d=Zi(N);if(Wi(f),d===0&&x<2)throw new _n(Tn);var O=o?d-1:0,c=o?-1:1;if(x<2)for(;;){if(O in E){v=E[O],O+=c;break}if(O+=c,o?O<0:d<=O)throw new _n(Tn)}for(;o?O>=0:d>O;O+=c)O in E&&(v=f(v,E[O],O,N));return v}},Hi={left:jn(!1),right:jn(!0)},Xi=zt,Ki=function(o,i){var f=[][o];return!!f&&Xi(function(){f.call(null,i||function(){return 1},1)})},Qi=Po,Yi=Pe,Ji=Yi(Qi.process)==="process",ts=oe,es=Hi.left,ns=Ki,Cn=Fe,rs=Ji,os=!rs&&Cn>79&&Cn<83,is=os||!ns("reduce");ts({target:"Array",proto:!0,forced:is},{reduce:function(o){var i=arguments.length;return es(this,o,i,i>1?arguments[1]:void 0)}});var ss=TypeError,as=9007199254740991,cs=function(o){if(o>as)throw ss("Maximum allowed index exceeded");return o},us=ko,ls=Ro,hs=Fo,fs=function(o,i,f){us?ls.f(o,i,hs(0,f)):o[i]=f},ps=oe,ds=zt,gs=Zn,ms=qn,vs=ke,ws=Re,Sn=cs,In=fs,ys=Jn,bs=De,xs=re,Es=Fe,nr=xs("isConcatSpreadable"),As=Es>=51||!ds(function(){var o=[];return o[nr]=!1,o.concat()[0]!==o}),Os=function(o){if(!ms(o))return!1;var i=o[nr];return i!==void 0?!!i:gs(o)},Ns=!As||!bs("concat");ps({target:"Array",proto:!0,arity:1,forced:Ns},{concat:function(o){var i=vs(this),f=ys(i,0),x=0,v,N,E,d,O;for(v=-1,E=arguments.length;v<E;v++)if(O=v===-1?i:arguments[v],Os(O))for(d=ws(O),Sn(x+d),N=0;N<d;N++,x++)N in O&&In(f,x,O[N]);else Sn(x+1),In(f,x++,O);return f.length=x,f}}),Object.defineProperty(Lt,"__esModule",{value:!0});var _s=Lt.encodePath=Ts;Lt.basename=js,Lt.dirname=Cs,Lt.joinPaths=Se,Lt.isSamePath=Ss;function Ts(o){return o&&o.split("/").map(encodeURIComponent).join("/")}function js(o){return o.replace(/\\/g,"/").replace(/.*\//,"")}function Cs(o){return o.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function Se(){for(var o=arguments.length,i=new Array(o),f=0;f<o;f++)i[f]=arguments[f];if(arguments.length<1)return"";var x=i.filter(function(s){return s.length>0});if(x.length<1)return"";var v=x[x.length-1],N=x[0].charAt(0)==="/",E=v.charAt(v.length-1)==="/",d=x.reduce(function(s,h){return s.concat(h.split("/"))},[]),O=!N,c=d.reduce(function(s,h){return h===""?s:O?(O=!1,s+h):s+"/"+h},"");return E?c+"/":c}function Ss(o,i){var f=(o||"").split("/").filter(function(v){return v!=="."}),x=(i||"").split("/").filter(function(v){return v!=="."});return o=Se.apply(void 0,f),i=Se.apply(void 0,x),o===i}function jt(o,i,f){return i in o?Object.defineProperty(o,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[i]=f,o}function Pn(o,i,f){Is(o,i),i.set(o,f)}function Is(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ft(o,i){var f=rr(o,i,"get");return Ps(o,f)}function Ps(o,i){return i.get?i.get.call(o):i.value}function kn(o,i,f){var x=rr(o,i,"set");return ks(o,x,f),f}function rr(o,i,f){if(!i.has(o))throw new TypeError("attempted to "+f+" private field on non-instance");return i.get(o)}function ks(o,i,f){if(i.set)i.set.call(o,f);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=f}}var Rs=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",dt=new WeakMap,qt=new WeakMap;class ie{constructor(i){var{executor:f=()=>{},internals:x=Ue(),promise:v=new Promise((N,E)=>f(N,E,d=>{x.onCancelList.push(d)}))}=i;Pn(this,dt,{writable:!0,value:void 0}),Pn(this,qt,{writable:!0,value:void 0}),jt(this,Rs,"CancelablePromise"),this.cancel=this.cancel.bind(this),kn(this,dt,x),kn(this,qt,v||new Promise((N,E)=>f(N,E,d=>{x.onCancelList.push(d)})))}then(i,f){return ee(ft(this,qt).then(Yt(i,ft(this,dt)),Yt(f,ft(this,dt))),ft(this,dt))}catch(i){return ee(ft(this,qt).catch(Yt(i,ft(this,dt))),ft(this,dt))}finally(i,f){return f&&ft(this,dt).onCancelList.push(i),ee(ft(this,qt).finally(Yt(()=>{if(i)return f&&(ft(this,dt).onCancelList=ft(this,dt).onCancelList.filter(x=>x!==i)),i()},ft(this,dt))),ft(this,dt))}cancel(){ft(this,dt).isCanceled=!0;var i=ft(this,dt).onCancelList;ft(this,dt).onCancelList=[];for(var f of i)if(typeof f=="function")try{f()}catch(x){console.error(x)}}isCanceled(){return ft(this,dt).isCanceled===!0}}class Nt extends ie{constructor(i){super({executor:i})}}jt(Nt,"all",function(o){return Jt(o,Promise.all(o))}),jt(Nt,"allSettled",function(o){return Jt(o,Promise.allSettled(o))}),jt(Nt,"any",function(o){return Jt(o,Promise.any(o))}),jt(Nt,"race",function(o){return Jt(o,Promise.race(o))}),jt(Nt,"resolve",function(o){return Rn(Promise.resolve(o))}),jt(Nt,"reject",function(o){return Rn(Promise.reject(o))}),jt(Nt,"isCancelable",Me);function Rn(o){return ee(o,Ue())}function Me(o){return o instanceof Nt||o instanceof ie}function Yt(o,i){if(o)return f=>{if(!i.isCanceled){var x=o(f);return Me(x)&&i.onCancelList.push(x.cancel),x}return f}}function ee(o,i){return new ie({internals:i,promise:o})}function Jt(o,i){var f=Ue();return f.onCancelList.push(()=>{for(var x of o)Me(x)&&x.cancel()}),new ie({internals:f,promise:i})}function Ue(){return{isCanceled:!1,onCancelList:[]}}var Te={},Fs={2:o=>{function i(v,N,E){v instanceof RegExp&&(v=f(v,E)),N instanceof RegExp&&(N=f(N,E));var d=x(v,N,E);return d&&{start:d[0],end:d[1],pre:E.slice(0,d[0]),body:E.slice(d[0]+v.length,d[1]),post:E.slice(d[1]+N.length)}}function f(v,N){var E=N.match(v);return E?E[0]:null}function x(v,N,E){var d,O,c,s,h,a=E.indexOf(v),l=E.indexOf(N,a+1),m=a;if(a>=0&&l>0){for(d=[],c=E.length;m>=0&&!h;)m==a?(d.push(m),a=E.indexOf(v,m+1)):d.length==1?h=[d.pop(),l]:((O=d.pop())<c&&(c=O,s=l),l=E.indexOf(N,m+1)),m=a<l&&a>=0?a:l;d.length&&(h=[c,s])}return h}o.exports=i,i.range=x},101:function(o,i,f){var x;o=f.nmd(o),function(v){var N=(o&&o.exports,typeof Qt=="object"&&Qt);N.global!==N&&N.window;var E=function(h){this.message=h};(E.prototype=new Error).name="InvalidCharacterError";var d=function(h){throw new E(h)},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,s={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var a,l,m,y,_=h.length%3,k="",g=-1,b=h.length-_;++g<b;)a=h.charCodeAt(g)<<16,l=h.charCodeAt(++g)<<8,m=h.charCodeAt(++g),k+=O.charAt((y=a+l+m)>>18&63)+O.charAt(y>>12&63)+O.charAt(y>>6&63)+O.charAt(63&y);return _==2?(a=h.charCodeAt(g)<<8,l=h.charCodeAt(++g),k+=O.charAt((y=a+l)>>10)+O.charAt(y>>4&63)+O.charAt(y<<2&63)+"="):_==1&&(y=h.charCodeAt(g),k+=O.charAt(y>>2)+O.charAt(y<<4&63)+"=="),k},decode:function(h){var a=(h=String(h).replace(c,"")).length;a%4==0&&(a=(h=h.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(h))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var l,m,y=0,_="",k=-1;++k<a;)m=O.indexOf(h.charAt(k)),l=y%4?64*l+m:m,y++%4&&(_+=String.fromCharCode(255&l>>(-2*y&6)));return _},version:"1.0.0"};(x=(function(){return s}).call(i,f,i,o))===void 0||(o.exports=x)}()},172:(o,i)=>{i.d=function(f){if(!f)return 0;for(var x=(f=f.toString()).length,v=f.length;v--;){var N=f.charCodeAt(v);56320<=N&&N<=57343&&v--,127<N&&N<=2047?x++:2047<N&&N<=65535&&(x+=2)}return x}},526:o=>{var i={utf8:{stringToBytes:function(f){return i.bin.stringToBytes(unescape(encodeURIComponent(f)))},bytesToString:function(f){return decodeURIComponent(escape(i.bin.bytesToString(f)))}},bin:{stringToBytes:function(f){for(var x=[],v=0;v<f.length;v++)x.push(255&f.charCodeAt(v));return x},bytesToString:function(f){for(var x=[],v=0;v<f.length;v++)x.push(String.fromCharCode(f[v]));return x.join("")}}};o.exports=i},298:o=>{var i,f;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={rotl:function(x,v){return x<<v|x>>>32-v},rotr:function(x,v){return x<<32-v|x>>>v},endian:function(x){if(x.constructor==Number)return 16711935&f.rotl(x,8)|4278255360&f.rotl(x,24);for(var v=0;v<x.length;v++)x[v]=f.endian(x[v]);return x},randomBytes:function(x){for(var v=[];x>0;x--)v.push(Math.floor(256*Math.random()));return v},bytesToWords:function(x){for(var v=[],N=0,E=0;N<x.length;N++,E+=8)v[E>>>5]|=x[N]<<24-E%32;return v},wordsToBytes:function(x){for(var v=[],N=0;N<32*x.length;N+=8)v.push(x[N>>>5]>>>24-N%32&255);return v},bytesToHex:function(x){for(var v=[],N=0;N<x.length;N++)v.push((x[N]>>>4).toString(16)),v.push((15&x[N]).toString(16));return v.join("")},hexToBytes:function(x){for(var v=[],N=0;N<x.length;N+=2)v.push(parseInt(x.substr(N,2),16));return v},bytesToBase64:function(x){for(var v=[],N=0;N<x.length;N+=3)for(var E=x[N]<<16|x[N+1]<<8|x[N+2],d=0;d<4;d++)8*N+6*d<=8*x.length?v.push(i.charAt(E>>>6*(3-d)&63)):v.push("=");return v.join("")},base64ToBytes:function(x){x=x.replace(/[^A-Z0-9+\/]/gi,"");for(var v=[],N=0,E=0;N<x.length;E=++N%4)E!=0&&v.push((i.indexOf(x.charAt(N-1))&Math.pow(2,-2*E+8)-1)<<2*E|i.indexOf(x.charAt(N))>>>6-2*E);return v}},o.exports=f},635:(o,i,f)=>{const x=f(31),v=f(338),N=f(221);o.exports={XMLParser:v,XMLValidator:x,XMLBuilder:N}},705:(o,i)=>{const f=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x="["+f+"]["+f+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",v=new RegExp("^"+x+"$");i.isExist=function(N){return N!==void 0},i.isEmptyObject=function(N){return Object.keys(N).length===0},i.merge=function(N,E,d){if(E){const O=Object.keys(E),c=O.length;for(let s=0;s<c;s++)N[O[s]]=d==="strict"?[E[O[s]]]:E[O[s]]}},i.getValue=function(N){return i.isExist(N)?N:""},i.isName=function(N){return v.exec(N)!=null},i.getAllMatches=function(N,E){const d=[];let O=E.exec(N);for(;O;){const c=[];c.startIndex=E.lastIndex-O[0].length;const s=O.length;for(let h=0;h<s;h++)c.push(O[h]);d.push(c),O=E.exec(N)}return d},i.nameRegexp=x},31:(o,i,f)=>{const x=f(705),v={allowBooleanAttributes:!1,unpairedTags:[]};function N(g){return g===" "||g==="	"||g==="\n"||g==="\r"}function E(g,b){const j=b;for(;b<g.length;b++)if(!(g[b]!="?"&&g[b]!=" ")){const w=g.substr(j,b-j);if(b>5&&w==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",_(g,b));if(g[b]=="?"&&g[b+1]==">"){b++;break}}return b}function d(g,b){if(g.length>b+5&&g[b+1]==="-"&&g[b+2]==="-"){for(b+=3;b<g.length;b++)if(g[b]==="-"&&g[b+1]==="-"&&g[b+2]===">"){b+=2;break}}else if(g.length>b+8&&g[b+1]==="D"&&g[b+2]==="O"&&g[b+3]==="C"&&g[b+4]==="T"&&g[b+5]==="Y"&&g[b+6]==="P"&&g[b+7]==="E"){let j=1;for(b+=8;b<g.length;b++)if(g[b]==="<")j++;else if(g[b]===">"&&(j--,j===0))break}else if(g.length>b+9&&g[b+1]==="["&&g[b+2]==="C"&&g[b+3]==="D"&&g[b+4]==="A"&&g[b+5]==="T"&&g[b+6]==="A"&&g[b+7]==="["){for(b+=8;b<g.length;b++)if(g[b]==="]"&&g[b+1]==="]"&&g[b+2]===">"){b+=2;break}}return b}i.validate=function(g,b){b=Object.assign({},v,b);const j=[];let w=!1,P=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(let S=0;S<g.length;S++)if(g[S]==="<"&&g[S+1]==="?"){if(S+=2,S=E(g,S),S.err)return S}else{if(g[S]!=="<"){if(N(g[S]))continue;return m("InvalidChar","char '"+g[S]+"' is not expected.",_(g,S))}{let L=S;if(S++,g[S]==="!"){S=d(g,S);continue}{let q=!1;g[S]==="/"&&(q=!0,S++);let M="";for(;S<g.length&&g[S]!==">"&&g[S]!==" "&&g[S]!=="	"&&g[S]!=="\n"&&g[S]!=="\r";S++)M+=g[S];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),S--),C=M,!x.isName(C)){let W;return W=M.trim().length===0?"Invalid space after '<'.":"Tag '"+M+"' is an invalid name.",m("InvalidTag",W,_(g,S))}const U=s(g,S);if(U===!1)return m("InvalidAttr","Attributes for '"+M+"' have open quote.",_(g,S));let R=U.value;if(S=U.index,R[R.length-1]==="/"){const W=S-R.length;R=R.substring(0,R.length-1);const J=a(R,b);if(J!==!0)return m(J.err.code,J.err.msg,_(g,W+J.err.line));w=!0}else if(q){if(!U.tagClosed)return m("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",_(g,S));if(R.trim().length>0)return m("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",_(g,L));{const W=j.pop();if(M!==W.tagName){let J=_(g,W.tagStartPos);return m("InvalidTag","Expected closing tag '"+W.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+M+"'.",_(g,L))}j.length==0&&(P=!0)}}else{const W=a(R,b);if(W!==!0)return m(W.err.code,W.err.msg,_(g,S-R.length+W.err.line));if(P===!0)return m("InvalidXml","Multiple possible root nodes found.",_(g,S));b.unpairedTags.indexOf(M)!==-1||j.push({tagName:M,tagStartPos:L}),w=!0}for(S++;S<g.length;S++)if(g[S]==="<"){if(g[S+1]==="!"){S++,S=d(g,S);continue}if(g[S+1]!=="?")break;if(S=E(g,++S),S.err)return S}else if(g[S]==="&"){const W=l(g,S);if(W==-1)return m("InvalidChar","char '&' is not expected.",_(g,S));S=W}else if(P===!0&&!N(g[S]))return m("InvalidXml","Extra text at the end",_(g,S));g[S]==="<"&&S--}}}var C;return w?j.length==1?m("InvalidTag","Unclosed tag '"+j[0].tagName+"'.",_(g,j[0].tagStartPos)):!(j.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(j.map(S=>S.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const O='"',c="'";function s(g,b){let j="",w="",P=!1;for(;b<g.length;b++){if(g[b]===O||g[b]===c)w===""?w=g[b]:w!==g[b]||(w="");else if(g[b]===">"&&w===""){P=!0;break}j+=g[b]}return w===""&&{value:j,index:b,tagClosed:P}}const h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function a(g,b){const j=x.getAllMatches(g,h),w={};for(let P=0;P<j.length;P++){if(j[P][1].length===0)return m("InvalidAttr","Attribute '"+j[P][2]+"' has no space in starting.",k(j[P]));if(j[P][3]!==void 0&&j[P][4]===void 0)return m("InvalidAttr","Attribute '"+j[P][2]+"' is without value.",k(j[P]));if(j[P][3]===void 0&&!b.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+j[P][2]+"' is not allowed.",k(j[P]));const C=j[P][2];if(!y(C))return m("InvalidAttr","Attribute '"+C+"' is an invalid name.",k(j[P]));if(w.hasOwnProperty(C))return m("InvalidAttr","Attribute '"+C+"' is repeated.",k(j[P]));w[C]=1}return!0}function l(g,b){if(g[++b]===";")return-1;if(g[b]==="#")return function(w,P){let C=/\d/;for(w[P]==="x"&&(P++,C=/[\da-fA-F]/);P<w.length;P++){if(w[P]===";")return P;if(!w[P].match(C))break}return-1}(g,++b);let j=0;for(;b<g.length;b++,j++)if(!(g[b].match(/\w/)&&j<20)){if(g[b]===";")break;return-1}return b}function m(g,b,j){return{err:{code:g,msg:b,line:j.line||j,col:j.col}}}function y(g){return x.isName(g)}function _(g,b){const j=g.substring(0,b).split(/\r?\n/);return{line:j.length,col:j[j.length-1].length+1}}function k(g){return g.startIndex+g[1].length}},221:(o,i,f)=>{const x=f(87),v={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(c,s){return s},attributeValueProcessor:function(c,s){return s},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function N(c){this.options=Object.assign({},v,c),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=O),this.processTextOrObjNode=E,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function E(c,s,h){const a=this.j2x(c,h+1);return c[this.options.textNodeName]!==void 0&&Object.keys(c).length===1?this.buildTextValNode(c[this.options.textNodeName],s,a.attrStr,h):this.buildObjectNode(a.val,s,a.attrStr,h)}function d(c){return this.options.indentBy.repeat(c)}function O(c){return!(!c.startsWith(this.options.attributeNamePrefix)||c===this.options.textNodeName)&&c.substr(this.attrPrefixLen)}N.prototype.build=function(c){return this.options.preserveOrder?x(c,this.options):(Array.isArray(c)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(c={[this.options.arrayNodeName]:c}),this.j2x(c,0).val)},N.prototype.j2x=function(c,s){let h="",a="";for(let l in c)if(c[l]===void 0)this.isAttribute(l)&&(a+="");else if(c[l]===null)this.isAttribute(l)?a+="":l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar;else if(c[l]instanceof Date)a+=this.buildTextValNode(c[l],l,"",s);else if(typeof c[l]!="object"){const m=this.isAttribute(l);if(m)h+=this.buildAttrPairStr(m,""+c[l]);else if(l===this.options.textNodeName){let y=this.options.tagValueProcessor(l,""+c[l]);a+=this.replaceEntitiesValue(y)}else a+=this.buildTextValNode(c[l],l,"",s)}else if(Array.isArray(c[l])){const m=c[l].length;let y="";for(let _=0;_<m;_++){const k=c[l][_];k===void 0||(k===null?l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar:typeof k=="object"?this.options.oneListGroup?y+=this.j2x(k,s+1).val:y+=this.processTextOrObjNode(k,l,s):y+=this.buildTextValNode(k,l,"",s))}this.options.oneListGroup&&(y=this.buildObjectNode(y,l,"",s)),a+=y}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const m=Object.keys(c[l]),y=m.length;for(let _=0;_<y;_++)h+=this.buildAttrPairStr(m[_],""+c[l][m[_]])}else a+=this.processTextOrObjNode(c[l],l,s);return{attrStr:h,val:a}},N.prototype.buildAttrPairStr=function(c,s){return s=this.options.attributeValueProcessor(c,""+s),s=this.replaceEntitiesValue(s),this.options.suppressBooleanAttributes&&s==="true"?" "+c:" "+c+'="'+s+'"'},N.prototype.buildObjectNode=function(c,s,h,a){if(c==="")return s[0]==="?"?this.indentate(a)+"<"+s+h+"?"+this.tagEndChar:this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar;{let l="</"+s+this.tagEndChar,m="";return s[0]==="?"&&(m="?",l=""),!h&&h!==""||c.indexOf("<")!==-1?this.options.commentPropName!==!1&&s===this.options.commentPropName&&m.length===0?this.indentate(a)+"<!--".concat(c,"-->")+this.newLine:this.indentate(a)+"<"+s+h+m+this.tagEndChar+c+this.indentate(a)+l:this.indentate(a)+"<"+s+h+m+">"+c+l}},N.prototype.closeTag=function(c){let s="";return this.options.unpairedTags.indexOf(c)!==-1?this.options.suppressUnpairedNode||(s="/"):s=this.options.suppressEmptyNode?"/":"></".concat(c),s},N.prototype.buildTextValNode=function(c,s,h,a){if(this.options.cdataPropName!==!1&&s===this.options.cdataPropName)return this.indentate(a)+"<![CDATA[".concat(c,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&s===this.options.commentPropName)return this.indentate(a)+"<!--".concat(c,"-->")+this.newLine;if(s[0]==="?")return this.indentate(a)+"<"+s+h+"?"+this.tagEndChar;{let l=this.options.tagValueProcessor(s,c);return l=this.replaceEntitiesValue(l),l===""?this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar:this.indentate(a)+"<"+s+h+">"+l+"</"+s+this.tagEndChar}},N.prototype.replaceEntitiesValue=function(c){if(c&&c.length>0&&this.options.processEntities)for(let s=0;s<this.options.entities.length;s++){const h=this.options.entities[s];c=c.replace(h.regex,h.val)}return c},o.exports=N},87:o=>{function i(E,d,O,c){let s="",h=!1;for(let a=0;a<E.length;a++){const l=E[a],m=f(l);let y="";if(y=O.length===0?m:"".concat(O,".").concat(m),m===d.textNodeName){let j=l[m];v(y,d)||(j=d.tagValueProcessor(m,j),j=N(j,d)),h&&(s+=c),s+=j,h=!1;continue}if(m===d.cdataPropName){h&&(s+=c),s+="<![CDATA[".concat(l[m][0][d.textNodeName],"]]>"),h=!1;continue}if(m===d.commentPropName){s+=c+"<!--".concat(l[m][0][d.textNodeName],"-->"),h=!0;continue}if(m[0]==="?"){const j=x(l[":@"],d),w=m==="?xml"?"":c;let P=l[m][0][d.textNodeName];P=P.length!==0?" "+P:"",s+=w+"<".concat(m).concat(P).concat(j,"?>"),h=!0;continue}let _=c;_!==""&&(_+=d.indentBy);const k=x(l[":@"],d),g=c+"<".concat(m).concat(k),b=i(l[m],d,y,_);d.unpairedTags.indexOf(m)!==-1?d.suppressUnpairedNode?s+=g+">":s+=g+"/>":b&&b.length!==0||!d.suppressEmptyNode?b&&b.endsWith(">")?s+=g+">".concat(b).concat(c,"</").concat(m,">"):(s+=g+">",b&&c!==""&&(b.includes("/>")||b.includes("</"))?s+=c+d.indentBy+b+c:s+=b,s+="</".concat(m,">")):s+=g+"/>",h=!0}return s}function f(E){const d=Object.keys(E);for(let O=0;O<d.length;O++){const c=d[O];if(c!==":@")return c}}function x(E,d){let O="";if(E&&!d.ignoreAttributes)for(let c in E){let s=d.attributeValueProcessor(c,E[c]);s=N(s,d),s===!0&&d.suppressBooleanAttributes?O+=" ".concat(c.substr(d.attributeNamePrefix.length)):O+=" ".concat(c.substr(d.attributeNamePrefix.length),'="').concat(s,'"')}return O}function v(E,d){let O=(E=E.substr(0,E.length-d.textNodeName.length-1)).substr(E.lastIndexOf(".")+1);for(let c in d.stopNodes)if(d.stopNodes[c]===E||d.stopNodes[c]==="*."+O)return!0;return!1}function N(E,d){if(E&&E.length>0&&d.processEntities)for(let O=0;O<d.entities.length;O++){const c=d.entities[O];E=E.replace(c.regex,c.val)}return E}o.exports=function(E,d){let O="";return d.format&&d.indentBy.length>0&&(O="\n"),i(E,d,"",O)}},193:(o,i,f)=>{const x=f(705);function v(h,a){let l="";for(;a<h.length&&h[a]!=="'"&&h[a]!=='"';a++)l+=h[a];if(l=l.trim(),l.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=h[a++];let y="";for(;a<h.length&&h[a]!==m;a++)y+=h[a];return[l,y,a]}function N(h,a){return h[a+1]==="!"&&h[a+2]==="-"&&h[a+3]==="-"}function E(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="N"&&h[a+4]==="T"&&h[a+5]==="I"&&h[a+6]==="T"&&h[a+7]==="Y"}function d(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="L"&&h[a+4]==="E"&&h[a+5]==="M"&&h[a+6]==="E"&&h[a+7]==="N"&&h[a+8]==="T"}function O(h,a){return h[a+1]==="!"&&h[a+2]==="A"&&h[a+3]==="T"&&h[a+4]==="T"&&h[a+5]==="L"&&h[a+6]==="I"&&h[a+7]==="S"&&h[a+8]==="T"}function c(h,a){return h[a+1]==="!"&&h[a+2]==="N"&&h[a+3]==="O"&&h[a+4]==="T"&&h[a+5]==="A"&&h[a+6]==="T"&&h[a+7]==="I"&&h[a+8]==="O"&&h[a+9]==="N"}function s(h){if(x.isName(h))return h;throw new Error("Invalid entity name ".concat(h))}o.exports=function(h,a){const l={};if(h[a+3]!=="O"||h[a+4]!=="C"||h[a+5]!=="T"||h[a+6]!=="Y"||h[a+7]!=="P"||h[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let m=1,y=!1,_=!1,k="";for(;a<h.length;a++)if(h[a]!=="<"||_)if(h[a]===">"){if(_?h[a-1]==="-"&&h[a-2]==="-"&&(_=!1,m--):m--,m===0)break}else h[a]==="["?y=!0:k+=h[a];else{if(y&&E(h,a))a+=7,[entityName,val,a]=v(h,a+1),val.indexOf("&")===-1&&(l[s(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(y&&d(h,a))a+=8;else if(y&&O(h,a))a+=8;else if(y&&c(h,a))a+=9;else{if(!N)throw new Error("Invalid DOCTYPE");_=!0}m++,k=""}if(m!==0)throw new Error("Unclosed DOCTYPE")}return{entities:l,i:a}}},63:(o,i)=>{const f={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(x,v){return v},attributeValueProcessor:function(x,v){return v},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(x,v,N){return x}};i.buildOptions=function(x){return Object.assign({},f,x)},i.defaultOptions=f},299:(o,i,f)=>{const x=f(705),v=f(365),N=f(193),E=f(494);function d(w){const P=Object.keys(w);for(let C=0;C<P.length;C++){const S=P[C];this.lastEntities[S]={regex:new RegExp("&"+S+";","g"),val:w[S]}}}function O(w,P,C,S,L,q,M){if(w!==void 0&&(this.options.trimValues&&!S&&(w=w.trim()),w.length>0)){M||(w=this.replaceEntitiesValue(w));const U=this.options.tagValueProcessor(P,w,C,L,q);return U==null?w:typeof U!=typeof w||U!==w?U:this.options.trimValues||w.trim()===w?j(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function c(w){if(this.options.removeNSPrefix){const P=w.split(":"),C=w.charAt(0)==="/"?"/":"";if(P[0]==="xmlns")return"";P.length===2&&(w=C+P[1])}return w}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,x.nameRegexp);const s=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(w,P,C){if(!this.options.ignoreAttributes&&typeof w=="string"){const S=x.getAllMatches(w,s),L=S.length,q={};for(let M=0;M<L;M++){const U=this.resolveNameSpace(S[M][1]);let R=S[M][4],W=this.options.attributeNamePrefix+U;if(U.length)if(this.options.transformAttributeName&&(W=this.options.transformAttributeName(W)),W==="__proto__"&&(W="#__proto__"),R!==void 0){this.options.trimValues&&(R=R.trim()),R=this.replaceEntitiesValue(R);const J=this.options.attributeValueProcessor(U,R,P);q[W]=J==null?R:typeof J!=typeof R||J!==R?J:j(R,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(q[W]=!0)}if(!Object.keys(q).length)return;if(this.options.attributesGroupName){const M={};return M[this.options.attributesGroupName]=q,M}return q}}const a=function(w){w=w.replace(/\r\n?/g,"\n");const P=new v("!xml");let C=P,S="",L="";for(let q=0;q<w.length;q++)if(w[q]==="<")if(w[q+1]==="/"){const M=k(w,">",q,"Closing Tag is not closed.");let U=w.substring(q+2,M).trim();if(this.options.removeNSPrefix){const J=U.indexOf(":");J!==-1&&(U=U.substr(J+1))}this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&(S=this.saveTextToParentTag(S,C,L));const R=L.substring(L.lastIndexOf(".")+1);if(U&&this.options.unpairedTags.indexOf(U)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(U,">"));let W=0;R&&this.options.unpairedTags.indexOf(R)!==-1?(W=L.lastIndexOf(".",L.lastIndexOf(".")-1),this.tagsNodeStack.pop()):W=L.lastIndexOf("."),L=L.substring(0,W),C=this.tagsNodeStack.pop(),S="",q=M}else if(w[q+1]==="?"){let M=g(w,q,!1,"?>");if(!M)throw new Error("Pi Tag is not closed.");if(S=this.saveTextToParentTag(S,C,L),!(this.options.ignoreDeclaration&&M.tagName==="?xml"||this.options.ignorePiTags)){const U=new v(M.tagName);U.add(this.options.textNodeName,""),M.tagName!==M.tagExp&&M.attrExpPresent&&(U[":@"]=this.buildAttributesMap(M.tagExp,L,M.tagName)),this.addChild(C,U,L)}q=M.closeIndex+1}else if(w.substr(q+1,3)==="!--"){const M=k(w,"-->",q+4,"Comment is not closed.");if(this.options.commentPropName){const U=w.substring(q+4,M-2);S=this.saveTextToParentTag(S,C,L),C.add(this.options.commentPropName,[{[this.options.textNodeName]:U}])}q=M}else if(w.substr(q+1,2)==="!D"){const M=N(w,q);this.docTypeEntities=M.entities,q=M.i}else if(w.substr(q+1,2)==="!["){const M=k(w,"]]>",q,"CDATA is not closed.")-2,U=w.substring(q+9,M);if(S=this.saveTextToParentTag(S,C,L),this.options.cdataPropName)C.add(this.options.cdataPropName,[{[this.options.textNodeName]:U}]);else{let R=this.parseTextData(U,C.tagname,L,!0,!1,!0);R==null&&(R=""),C.add(this.options.textNodeName,R)}q=M+2}else{let M=g(w,q,this.options.removeNSPrefix),U=M.tagName,R=M.tagExp,W=M.attrExpPresent,J=M.closeIndex;this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&S&&C.tagname!=="!xml"&&(S=this.saveTextToParentTag(S,C,L,!1));const ut=C;if(ut&&this.options.unpairedTags.indexOf(ut.tagname)!==-1&&(C=this.tagsNodeStack.pop(),L=L.substring(0,L.lastIndexOf("."))),U!==P.tagname&&(L+=L?"."+U:U),this.isItStopNode(this.options.stopNodes,L,U)){let Y="";if(R.length>0&&R.lastIndexOf("/")===R.length-1)q=M.closeIndex;else if(this.options.unpairedTags.indexOf(U)!==-1)q=M.closeIndex;else{const rt=this.readStopNodeData(w,U,J+1);if(!rt)throw new Error("Unexpected end of ".concat(U));q=rt.i,Y=rt.tagContent}const et=new v(U);U!==R&&W&&(et[":@"]=this.buildAttributesMap(R,L,U)),Y&&(Y=this.parseTextData(Y,U,L,!0,W,!0,!0)),L=L.substr(0,L.lastIndexOf(".")),et.add(this.options.textNodeName,Y),this.addChild(C,et,L)}else{if(R.length>0&&R.lastIndexOf("/")===R.length-1){U[U.length-1]==="/"?(U=U.substr(0,U.length-1),L=L.substr(0,L.length-1),R=U):R=R.substr(0,R.length-1),this.options.transformTagName&&(U=this.options.transformTagName(U));const Y=new v(U);U!==R&&W&&(Y[":@"]=this.buildAttributesMap(R,L,U)),this.addChild(C,Y,L),L=L.substr(0,L.lastIndexOf("."))}else{const Y=new v(U);this.tagsNodeStack.push(C),U!==R&&W&&(Y[":@"]=this.buildAttributesMap(R,L,U)),this.addChild(C,Y,L),C=Y}S="",q=J}}else S+=w[q];return P.child};function l(w,P,C){const S=this.options.updateTag(P.tagname,C,P[":@"]);S===!1||(typeof S=="string"&&(P.tagname=S),w.addChild(P))}const m=function(w){if(this.options.processEntities){for(let P in this.docTypeEntities){const C=this.docTypeEntities[P];w=w.replace(C.regx,C.val)}for(let P in this.lastEntities){const C=this.lastEntities[P];w=w.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let P in this.htmlEntities){const C=this.htmlEntities[P];w=w.replace(C.regex,C.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function y(w,P,C,S){return w&&(S===void 0&&(S=Object.keys(P.child).length===0),(w=this.parseTextData(w,P.tagname,C,!1,!!P[":@"]&&Object.keys(P[":@"]).length!==0,S))!==void 0&&w!==""&&P.add(this.options.textNodeName,w),w=""),w}function _(w,P,C){const S="*."+C;for(const L in w){const q=w[L];if(S===q||P===q)return!0}return!1}function k(w,P,C,S){const L=w.indexOf(P,C);if(L===-1)throw new Error(S);return L+P.length-1}function g(w,P,C){const S=function(W,J){let ut,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",et="";for(let rt=J;rt<W.length;rt++){let ct=W[rt];if(ut)ct===ut&&(ut="");else if(ct==='"'||ct==="'")ut=ct;else if(ct===Y[0]){if(!Y[1])return{data:et,index:rt};if(W[rt+1]===Y[1])return{data:et,index:rt}}else ct==="	"&&(ct=" ");et+=ct}}(w,P+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!S)return;let L=S.data;const q=S.index,M=L.search(/\s/);let U=L,R=!0;if(M!==-1&&(U=L.substr(0,M).replace(/\s\s*$/,""),L=L.substr(M+1)),C){const W=U.indexOf(":");W!==-1&&(U=U.substr(W+1),R=U!==S.data.substr(W+1))}return{tagName:U,tagExp:L,closeIndex:q,attrExpPresent:R}}function b(w,P,C){const S=C;let L=1;for(;C<w.length;C++)if(w[C]==="<")if(w[C+1]==="/"){const q=k(w,">",C,"".concat(P," is not closed"));if(w.substring(C+2,q).trim()===P&&(L--,L===0))return{tagContent:w.substring(S,C),i:q};C=q}else if(w[C+1]==="?")C=k(w,"?>",C+1,"StopNode is not closed.");else if(w.substr(C+1,3)==="!--")C=k(w,"-->",C+3,"StopNode is not closed.");else if(w.substr(C+1,2)==="![")C=k(w,"]]>",C,"StopNode is not closed.")-2;else{const q=g(w,C,">");q&&((q&&q.tagName)===P&&q.tagExp[q.tagExp.length-1]!=="/"&&L++,C=q.closeIndex)}}function j(w,P,C){if(P&&typeof w=="string"){const S=w.trim();return S==="true"||S!=="false"&&E(w,C)}return x.isExist(w)?w:""}o.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=d,this.parseXml=a,this.parseTextData=O,this.resolveNameSpace=c,this.buildAttributesMap=h,this.isItStopNode=_,this.replaceEntitiesValue=m,this.readStopNodeData=b,this.saveTextToParentTag=y,this.addChild=l}}},338:(o,i,f)=>{const{buildOptions:x}=f(63),v=f(299),{prettify:N}=f(728),E=f(31);o.exports=class{constructor(d){this.externalEntities={},this.options=x(d)}parse(d,O){if(typeof d!="string"){if(!d.toString)throw new Error("XML data is accepted in String or Bytes[] form.");d=d.toString()}if(O){O===!0&&(O={});const h=E.validate(d,O);if(h!==!0)throw Error("".concat(h.err.msg,":").concat(h.err.line,":").concat(h.err.col))}const c=new v(this.options);c.addExternalEntities(this.externalEntities);const s=c.parseXml(d);return this.options.preserveOrder||s===void 0?s:N(s,this.options)}addEntity(d,O){if(O.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(d.indexOf("&")!==-1||d.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(O==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[d]=O}}},728:(o,i)=>{function f(E,d,O){let c;const s={};for(let h=0;h<E.length;h++){const a=E[h],l=x(a);let m="";if(m=O===void 0?l:O+"."+l,l===d.textNodeName)c===void 0?c=a[l]:c+=""+a[l];else{if(l===void 0)continue;if(a[l]){let y=f(a[l],d,m);const _=N(y,d);a[":@"]?v(y,a[":@"],m,d):Object.keys(y).length!==1||y[d.textNodeName]===void 0||d.alwaysCreateTextNode?Object.keys(y).length===0&&(d.alwaysCreateTextNode?y[d.textNodeName]="":y=""):y=y[d.textNodeName],s[l]!==void 0&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(y)):d.isArray(l,m,_)?s[l]=[y]:s[l]=y}}}return typeof c=="string"?c.length>0&&(s[d.textNodeName]=c):c!==void 0&&(s[d.textNodeName]=c),s}function x(E){const d=Object.keys(E);for(let O=0;O<d.length;O++){const c=d[O];if(c!==":@")return c}}function v(E,d,O,c){if(d){const s=Object.keys(d),h=s.length;for(let a=0;a<h;a++){const l=s[a];c.isArray(l,O+"."+l,!0,!0)?E[l]=[d[l]]:E[l]=d[l]}}}function N(E,d){const{textNodeName:O}=d,c=Object.keys(E).length;return c===0||!(c!==1||!E[O]&&typeof E[O]!="boolean"&&E[O]!==0)}i.prettify=function(E,d){return f(E,d)}},365:o=>{o.exports=class{constructor(i){this.tagname=i,this.child=[],this[":@"]={}}add(i,f){i==="__proto__"&&(i="#__proto__"),this.child.push({[i]:f})}addChild(i){i.tagname==="__proto__"&&(i.tagname="#__proto__"),i[":@"]&&Object.keys(i[":@"]).length>0?this.child.push({[i.tagname]:i.child,":@":i[":@"]}):this.child.push({[i.tagname]:i.child})}}},135:o=>{function i(f){return!!f.constructor&&typeof f.constructor.isBuffer=="function"&&f.constructor.isBuffer(f)}o.exports=function(f){return f!=null&&(i(f)||function(x){return typeof x.readFloatLE=="function"&&typeof x.slice=="function"&&i(x.slice(0,0))}(f)||!!f._isBuffer)}},542:(o,i,f)=>{var x,v,N,E,d;x=f(298),v=f(526).utf8,N=f(135),E=f(526).bin,(d=function(O,c){O.constructor==String?O=c&&c.encoding==="binary"?E.stringToBytes(O):v.stringToBytes(O):N(O)?O=Array.prototype.slice.call(O,0):Array.isArray(O)||O.constructor===Uint8Array||(O=O.toString());for(var s=x.bytesToWords(O),h=8*O.length,a=1732584193,l=-271733879,m=-1732584194,y=271733878,_=0;_<s.length;_++)s[_]=16711935&(s[_]<<8|s[_]>>>24)|4278255360&(s[_]<<24|s[_]>>>8);s[h>>>5]|=128<<h%32,s[14+(h+64>>>9<<4)]=h;var k=d._ff,g=d._gg,b=d._hh,j=d._ii;for(_=0;_<s.length;_+=16){var w=a,P=l,C=m,S=y;a=k(a,l,m,y,s[_+0],7,-680876936),y=k(y,a,l,m,s[_+1],12,-389564586),m=k(m,y,a,l,s[_+2],17,606105819),l=k(l,m,y,a,s[_+3],22,-1044525330),a=k(a,l,m,y,s[_+4],7,-176418897),y=k(y,a,l,m,s[_+5],12,1200080426),m=k(m,y,a,l,s[_+6],17,-1473231341),l=k(l,m,y,a,s[_+7],22,-45705983),a=k(a,l,m,y,s[_+8],7,1770035416),y=k(y,a,l,m,s[_+9],12,-1958414417),m=k(m,y,a,l,s[_+10],17,-42063),l=k(l,m,y,a,s[_+11],22,-1990404162),a=k(a,l,m,y,s[_+12],7,1804603682),y=k(y,a,l,m,s[_+13],12,-40341101),m=k(m,y,a,l,s[_+14],17,-1502002290),a=g(a,l=k(l,m,y,a,s[_+15],22,1236535329),m,y,s[_+1],5,-165796510),y=g(y,a,l,m,s[_+6],9,-1069501632),m=g(m,y,a,l,s[_+11],14,643717713),l=g(l,m,y,a,s[_+0],20,-373897302),a=g(a,l,m,y,s[_+5],5,-701558691),y=g(y,a,l,m,s[_+10],9,38016083),m=g(m,y,a,l,s[_+15],14,-660478335),l=g(l,m,y,a,s[_+4],20,-405537848),a=g(a,l,m,y,s[_+9],5,568446438),y=g(y,a,l,m,s[_+14],9,-1019803690),m=g(m,y,a,l,s[_+3],14,-187363961),l=g(l,m,y,a,s[_+8],20,1163531501),a=g(a,l,m,y,s[_+13],5,-1444681467),y=g(y,a,l,m,s[_+2],9,-51403784),m=g(m,y,a,l,s[_+7],14,1735328473),a=b(a,l=g(l,m,y,a,s[_+12],20,-1926607734),m,y,s[_+5],4,-378558),y=b(y,a,l,m,s[_+8],11,-2022574463),m=b(m,y,a,l,s[_+11],16,1839030562),l=b(l,m,y,a,s[_+14],23,-35309556),a=b(a,l,m,y,s[_+1],4,-1530992060),y=b(y,a,l,m,s[_+4],11,1272893353),m=b(m,y,a,l,s[_+7],16,-155497632),l=b(l,m,y,a,s[_+10],23,-1094730640),a=b(a,l,m,y,s[_+13],4,681279174),y=b(y,a,l,m,s[_+0],11,-358537222),m=b(m,y,a,l,s[_+3],16,-722521979),l=b(l,m,y,a,s[_+6],23,76029189),a=b(a,l,m,y,s[_+9],4,-640364487),y=b(y,a,l,m,s[_+12],11,-421815835),m=b(m,y,a,l,s[_+15],16,530742520),a=j(a,l=b(l,m,y,a,s[_+2],23,-995338651),m,y,s[_+0],6,-198630844),y=j(y,a,l,m,s[_+7],10,1126891415),m=j(m,y,a,l,s[_+14],15,-1416354905),l=j(l,m,y,a,s[_+5],21,-57434055),a=j(a,l,m,y,s[_+12],6,1700485571),y=j(y,a,l,m,s[_+3],10,-1894986606),m=j(m,y,a,l,s[_+10],15,-1051523),l=j(l,m,y,a,s[_+1],21,-2054922799),a=j(a,l,m,y,s[_+8],6,1873313359),y=j(y,a,l,m,s[_+15],10,-30611744),m=j(m,y,a,l,s[_+6],15,-1560198380),l=j(l,m,y,a,s[_+13],21,1309151649),a=j(a,l,m,y,s[_+4],6,-145523070),y=j(y,a,l,m,s[_+11],10,-1120210379),m=j(m,y,a,l,s[_+2],15,718787259),l=j(l,m,y,a,s[_+9],21,-343485551),a=a+w>>>0,l=l+P>>>0,m=m+C>>>0,y=y+S>>>0}return x.endian([a,l,m,y])})._ff=function(O,c,s,h,a,l,m){var y=O+(c&s|~c&h)+(a>>>0)+m;return(y<<l|y>>>32-l)+c},d._gg=function(O,c,s,h,a,l,m){var y=O+(c&h|s&~h)+(a>>>0)+m;return(y<<l|y>>>32-l)+c},d._hh=function(O,c,s,h,a,l,m){var y=O+(c^s^h)+(a>>>0)+m;return(y<<l|y>>>32-l)+c},d._ii=function(O,c,s,h,a,l,m){var y=O+(s^(c|~h))+(a>>>0)+m;return(y<<l|y>>>32-l)+c},d._blocksize=16,d._digestsize=16,o.exports=function(O,c){if(O==null)throw new Error("Illegal argument "+O);var s=x.wordsToBytes(d(O,c));return c&&c.asBytes?s:c&&c.asString?E.bytesToString(s):x.bytesToHex(s)}},285:(o,i,f)=>{var x=f(2);o.exports=function(k){return k?(k.substr(0,2)==="{}"&&(k="\\{\\}"+k.substr(2)),_(function(g){return g.split("\\\\").join(v).split("\\{").join(N).split("\\}").join(E).split("\\,").join(d).split("\\.").join(O)}(k),!0).map(s)):[]};var v="\0SLASH"+Math.random()+"\0",N="\0OPEN"+Math.random()+"\0",E="\0CLOSE"+Math.random()+"\0",d="\0COMMA"+Math.random()+"\0",O="\0PERIOD"+Math.random()+"\0";function c(k){return parseInt(k,10)==k?parseInt(k,10):k.charCodeAt(0)}function s(k){return k.split(v).join("\\").split(N).join("{").split(E).join("}").split(d).join(",").split(O).join(".")}function h(k){if(!k)return[""];var g=[],b=x("{","}",k);if(!b)return k.split(",");var j=b.pre,w=b.body,P=b.post,C=j.split(",");C[C.length-1]+="{"+w+"}";var S=h(P);return P.length&&(C[C.length-1]+=S.shift(),C.push.apply(C,S)),g.push.apply(g,C),g}function a(k){return"{"+k+"}"}function l(k){return/^-?0\d/.test(k)}function m(k,g){return k<=g}function y(k,g){return k>=g}function _(k,g){var b=[],j=x("{","}",k);if(!j)return[k];var w=j.pre,P=j.post.length?_(j.post,!1):[""];if(/\$$/.test(j.pre))for(var C=0;C<P.length;C++){var S=w+"{"+j.body+"}"+P[C];b.push(S)}else{var L,q,M=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(j.body),U=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(j.body),R=M||U,W=j.body.indexOf(",")>=0;if(!R&&!W)return j.post.match(/,.*\}/)?_(k=j.pre+"{"+j.body+E+j.post):[k];if(R)L=j.body.split(/\.\./);else if((L=h(j.body)).length===1&&(L=_(L[0],!1).map(a)).length===1)return P.map(function(ae){return j.pre+L[0]+ae});if(R){var J=c(L[0]),ut=c(L[1]),Y=Math.max(L[0].length,L[1].length),et=L.length==3?Math.abs(c(L[2])):1,rt=m;ut<J&&(et*=-1,rt=y);var ct=L.some(l);q=[];for(var vt=J;rt(vt,ut);vt+=et){var bt;if(U)(bt=String.fromCharCode(vt))==="\\"&&(bt="");else if(bt=String(vt),ct){var Wt=Y-bt.length;if(Wt>0){var Pt=new Array(Wt+1).join("0");bt=vt<0?"-"+Pt+bt.slice(1):Pt+bt}}q.push(bt)}}else{q=[];for(var At=0;At<L.length;At++)q.push.apply(q,_(L[At],!1))}for(At=0;At<q.length;At++)for(C=0;C<P.length;C++)S=w+q[At]+P[C],(!g||R||S)&&b.push(S)}return b}},829:o=>{function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(c)}function f(c){var s=typeof Map=="function"?new Map:void 0;return f=function(h){if(h===null||(a=h,Function.toString.call(a).indexOf("[native code]")===-1))return h;var a;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(h))return s.get(h);s.set(h,l)}function l(){return x(h,arguments,N(this).constructor)}return l.prototype=Object.create(h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),v(l,h)},f(c)}function x(c,s,h){return x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,l,m){var y=[null];y.push.apply(y,l);var _=new(Function.bind.apply(a,y));return m&&v(_,m.prototype),_},x.apply(null,arguments)}function v(c,s){return v=Object.setPrototypeOf||function(h,a){return h.__proto__=a,h},v(c,s)}function N(c){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},N(c)}var E=function(c){function s(h){var a;return function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),(a=function(l,m){return!m||i(m)!=="object"&&typeof m!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(l):m}(this,N(s).call(this,h))).name="ObjectPrototypeMutationError",a}return function(h,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(a&&a.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),a&&v(h,a)}(s,c),s}(f(Error));function d(c,s){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=s.split("."),l=a.length,m=function(k){var g=a[k];if(!c)return{v:void 0};if(g==="+"){if(Array.isArray(c))return{v:c.map(function(j,w){var P=a.slice(k+1);return P.length>0?d(j,P.join("."),h):h(c,w,a,k)})};var b=a.slice(0,k).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}c=h(c,g,a,k)},y=0;y<l;y++){var _=m(y);if(i(_)==="object")return _.v}return c}function O(c,s){return c.length===s+1}o.exports={set:function(c,s,h){if(i(c)!="object"||c===null||s===void 0)return c;if(typeof s=="number")return c[s]=h,c[s];try{return d(c,s,function(a,l,m,y){if(a===Reflect.getPrototypeOf({}))throw new E("Attempting to mutate Object.prototype");if(!a[l]){var _=Number.isInteger(Number(m[y+1])),k=m[y+1]==="+";a[l]=_||k?[]:{}}return O(m,y)&&(a[l]=h),a[l]})}catch(a){if(a instanceof E)throw a;return c}},get:function(c,s){if(i(c)!="object"||c===null||s===void 0)return c;if(typeof s=="number")return c[s];try{return d(c,s,function(h,a){return h[a]})}catch{return c}},has:function(c,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i(c)!="object"||c===null||s===void 0)return!1;if(typeof s=="number")return s in c;try{var a=!1;return d(c,s,function(l,m,y,_){if(!O(y,_))return l&&l[m];a=h.own?l.hasOwnProperty(m):m in l}),a}catch{return!1}},hasOwn:function(c,s,h){return this.has(c,s,h||{own:!0})},isIn:function(c,s,h){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(i(c)!="object"||c===null||s===void 0)return!1;try{var l=!1,m=!1;return d(c,s,function(y,_,k,g){return l=l||y===h||!!y&&y[_]===h,m=O(k,g)&&i(y)==="object"&&_ in y,y&&y[_]}),a.validPath?l&&m:l}catch{return!1}},ObjectPrototypeMutationError:E}},47:(o,i,f)=>{var x=f(410),v=function(c){return typeof c=="string"};function N(c,s){for(var h=[],a=0;a<c.length;a++){var l=c[a];l&&l!=="."&&(l===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(l))}return h}var E=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,d={};function O(c){return E.exec(c).slice(1)}d.resolve=function(){for(var c="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var a=h>=0?arguments[h]:te.cwd();if(!v(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(c=a+"/"+c,s=a.charAt(0)==="/")}return(s?"/":"")+(c=N(c.split("/"),!s).join("/"))||"."},d.normalize=function(c){var s=d.isAbsolute(c),h=c.substr(-1)==="/";return(c=N(c.split("/"),!s).join("/"))||s||(c="."),c&&h&&(c+="/"),(s?"/":"")+c},d.isAbsolute=function(c){return c.charAt(0)==="/"},d.join=function(){for(var c="",s=0;s<arguments.length;s++){var h=arguments[s];if(!v(h))throw new TypeError("Arguments to path.join must be strings");h&&(c+=c?"/"+h:h)}return d.normalize(c)},d.relative=function(c,s){function h(g){for(var b=0;b<g.length&&g[b]==="";b++);for(var j=g.length-1;j>=0&&g[j]==="";j--);return b>j?[]:g.slice(b,j+1)}c=d.resolve(c).substr(1),s=d.resolve(s).substr(1);for(var a=h(c.split("/")),l=h(s.split("/")),m=Math.min(a.length,l.length),y=m,_=0;_<m;_++)if(a[_]!==l[_]){y=_;break}var k=[];for(_=y;_<a.length;_++)k.push("..");return(k=k.concat(l.slice(y))).join("/")},d._makeLong=function(c){return c},d.dirname=function(c){var s=O(c),h=s[0],a=s[1];return h||a?(a&&(a=a.substr(0,a.length-1)),h+a):"."},d.basename=function(c,s){var h=O(c)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},d.extname=function(c){return O(c)[3]},d.format=function(c){if(!x.isObject(c))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof c);var s=c.root||"";if(!v(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof c.root);return(c.dir?c.dir+d.sep:"")+(c.base||"")},d.parse=function(c){if(!v(c))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var s=O(c);if(!s||s.length!==4)throw new TypeError("Invalid path '"+c+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},d.sep="/",d.delimiter=":",o.exports=d},647:(o,i)=>{var f=Object.prototype.hasOwnProperty;function x(N){try{return decodeURIComponent(N.replace(/\+/g," "))}catch{return null}}function v(N){try{return encodeURIComponent(N)}catch{return null}}i.stringify=function(N,E){E=E||"";var d,O,c=[];for(O in typeof E!="string"&&(E="?"),N)if(f.call(N,O)){if((d=N[O])||d!=null&&!isNaN(d)||(d=""),O=v(O),d=v(d),O===null||d===null)continue;c.push(O+"="+d)}return c.length?E+c.join("&"):""},i.parse=function(N){for(var E,d=/([^=?#&]+)=?([^&]*)/g,O={};E=d.exec(N);){var c=x(E[1]),s=x(E[2]);c===null||s===null||c in O||(O[c]=s)}return O}},670:o=>{o.exports=function(i,f){if(f=f.split(":")[0],!(i=+i))return!1;switch(f){case"http":case"ws":return i!==80;case"https":case"wss":return i!==443;case"ftp":return i!==21;case"gopher":return i!==70;case"file":return!1}return i!==0}},494:o=>{const i=/^[-+]?0x[a-fA-F0-9]+$/,f=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};o.exports=function(v){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N=Object.assign({},x,N),!v||typeof v!="string")return v;let E=v.trim();if(N.skipLike!==void 0&&N.skipLike.test(E))return v;if(N.hex&&i.test(E))return Number.parseInt(E,16);{const O=f.exec(E);if(O){const c=O[1],s=O[2];let h=((d=O[3])&&d.indexOf(".")!==-1&&((d=d.replace(/0+$/,""))==="."?d="0":d[0]==="."?d="0"+d:d[d.length-1]==="."&&(d=d.substr(0,d.length-1))),d);const a=O[4]||O[6];if(!N.leadingZeros&&s.length>0&&c&&E[2]!=="."||!N.leadingZeros&&s.length>0&&!c&&E[1]!==".")return v;{const l=Number(E),m=""+l;return m.search(/[eE]/)!==-1||a?N.eNotation?l:v:E.indexOf(".")!==-1?m==="0"&&h===""||m===h||c&&m==="-"+h?l:v:s?h===m||c+h===m?l:v:E===m||E===c+m?l:v}}return v}var d}},737:(o,i,f)=>{var x=f(670),v=f(647),N=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,E=/[\n\r\t]/g,d=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,O=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(g){return(g||"").toString().replace(N,"")}var a=[["#","hash"],["?","query"],function(g,b){return y(b.protocol)?g.replace(/\\/g,"/"):g},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function m(g){var b,j=(typeof window<"u"?window:typeof Qt<"u"?Qt:typeof self<"u"?self:{}).location||{},w={},P=typeof(g=g||j);if(g.protocol==="blob:")w=new k(unescape(g.pathname),{});else if(P==="string")for(b in w=new k(g,{}),l)delete w[b];else if(P==="object"){for(b in g)b in l||(w[b]=g[b]);w.slashes===void 0&&(w.slashes=d.test(g.href))}return w}function y(g){return g==="file:"||g==="ftp:"||g==="http:"||g==="https:"||g==="ws:"||g==="wss:"}function _(g,b){g=(g=h(g)).replace(E,""),b=b||{};var j,w=c.exec(g),P=w[1]?w[1].toLowerCase():"",C=!!w[2],S=!!w[3],L=0;return C?S?(j=w[2]+w[3]+w[4],L=w[2].length+w[3].length):(j=w[2]+w[4],L=w[2].length):S?(j=w[3]+w[4],L=w[3].length):j=w[4],P==="file:"?L>=2&&(j=j.slice(2)):y(P)?j=w[4]:P?C&&(j=j.slice(2)):L>=2&&y(b.protocol)&&(j=w[4]),{protocol:P,slashes:C||y(P),slashesCount:L,rest:j}}function k(g,b,j){if(g=(g=h(g)).replace(E,""),!(this instanceof k))return new k(g,b,j);var w,P,C,S,L,q,M=a.slice(),U=typeof b,R=this,W=0;for(U!=="object"&&U!=="string"&&(j=b,b=null),j&&typeof j!="function"&&(j=v.parse),w=!(P=_(g||"",b=m(b))).protocol&&!P.slashes,R.slashes=P.slashes||w&&b.slashes,R.protocol=P.protocol||b.protocol||"",g=P.rest,(P.protocol==="file:"&&(P.slashesCount!==2||s.test(g))||!P.slashes&&(P.protocol||P.slashesCount<2||!y(R.protocol)))&&(M[3]=[/(.*)/,"pathname"]);W<M.length;W++)typeof(S=M[W])!="function"?(C=S[0],q=S[1],C!=C?R[q]=g:typeof C=="string"?~(L=C==="@"?g.lastIndexOf(C):g.indexOf(C))&&(typeof S[2]=="number"?(R[q]=g.slice(0,L),g=g.slice(L+S[2])):(R[q]=g.slice(L),g=g.slice(0,L))):(L=C.exec(g))&&(R[q]=L[1],g=g.slice(0,L.index)),R[q]=R[q]||w&&S[3]&&b[q]||"",S[4]&&(R[q]=R[q].toLowerCase())):g=S(g,R);j&&(R.query=j(R.query)),w&&b.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||b.pathname!=="")&&(R.pathname=function(J,ut){if(J==="")return ut;for(var Y=(ut||"/").split("/").slice(0,-1).concat(J.split("/")),et=Y.length,rt=Y[et-1],ct=!1,vt=0;et--;)Y[et]==="."?Y.splice(et,1):Y[et]===".."?(Y.splice(et,1),vt++):vt&&(et===0&&(ct=!0),Y.splice(et,1),vt--);return ct&&Y.unshift(""),rt!=="."&&rt!==".."||Y.push(""),Y.join("/")}(R.pathname,b.pathname)),R.pathname.charAt(0)!=="/"&&y(R.protocol)&&(R.pathname="/"+R.pathname),x(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(L=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,L),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(L+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&y(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}k.prototype={set:function(g,b,j){var w=this;switch(g){case"query":typeof b=="string"&&b.length&&(b=(j||v.parse)(b)),w[g]=b;break;case"port":w[g]=b,x(b,w.protocol)?b&&(w.host=w.hostname+":"+b):(w.host=w.hostname,w[g]="");break;case"hostname":w[g]=b,w.port&&(b+=":"+w.port),w.host=b;break;case"host":w[g]=b,O.test(b)?(b=b.split(":"),w.port=b.pop(),w.hostname=b.join(":")):(w.hostname=b,w.port="");break;case"protocol":w.protocol=b.toLowerCase(),w.slashes=!j;break;case"pathname":case"hash":if(b){var P=g==="pathname"?"/":"#";w[g]=b.charAt(0)!==P?P+b:b}else w[g]=b;break;case"username":case"password":w[g]=encodeURIComponent(b);break;case"auth":var C=b.indexOf(":");~C?(w.username=b.slice(0,C),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=b.slice(C+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(b))}for(var S=0;S<a.length;S++){var L=a[S];L[4]&&(w[L[1]]=w[L[1]].toLowerCase())}return w.auth=w.password?w.username+":"+w.password:w.username,w.origin=w.protocol!=="file:"&&y(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString(),w},toString:function(g){g&&typeof g=="function"||(g=v.stringify);var b,j=this,w=j.host,P=j.protocol;P&&P.charAt(P.length-1)!==":"&&(P+=":");var C=P+(j.protocol&&j.slashes||y(j.protocol)?"//":"");return j.username?(C+=j.username,j.password&&(C+=":"+j.password),C+="@"):j.password?(C+=":"+j.password,C+="@"):j.protocol!=="file:"&&y(j.protocol)&&!w&&j.pathname!=="/"&&(C+="@"),(w[w.length-1]===":"||O.test(j.hostname)&&!j.port)&&(w+=":"),C+=w+j.pathname,(b=typeof j.query=="object"?g(j.query):j.query)&&(C+=b.charAt(0)!=="?"?"?"+b:b),j.hash&&(C+=j.hash),C}},k.extractProtocol=_,k.location=m,k.trimLeft=h,k.qs=v,o.exports=k},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Fn={};function tt(o){var i=Fn[o];if(i!==void 0)return i.exports;var f=Fn[o]={id:o,loaded:!1,exports:{}};return Fs[o].call(f.exports,f,f.exports,tt),f.loaded=!0,f.exports}tt.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return tt.d(i,{a:i}),i},tt.d=(o,i)=>{for(var f in i)tt.o(i,f)&&!tt.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:i[f]})},tt.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),tt.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var yt={};(()=>{tt.d(yt,{hT:()=>M,O4:()=>U,Kd:()=>L,YK:()=>q,UU:()=>co,Gu:()=>rt,ky:()=>on,h4:()=>Mt,ch:()=>Xt,hq:()=>St,i5:()=>sn});var o=tt(737),i=tt.n(o);function f(e){if(!x(e))throw new Error("Parameter was not an error")}function x(e){return t=e,Object.prototype.toString.call(t)==="[object Error]"||e instanceof Error;var t}class v extends Error{constructor(t,n){const r=[...arguments],{options:p,shortMessage:u}=function(T){let I,F="";if(T.length===0)I={};else if(x(T[0]))I={cause:T[0]},F=T.slice(1).join(" ")||"";else if(T[0]&&typeof T[0]=="object")I=Object.assign({},T[0]),F=T.slice(1).join(" ")||"";else{if(typeof T[0]!="string")throw new Error("Invalid arguments passed to Layerr");I={},F=F=T.join(" ")||""}return{options:I,shortMessage:F}}(r);let A=u;if(p.cause&&(A="".concat(A,": ").concat(p.cause.message)),super(A),this.message=A,p.name&&typeof p.name=="string"?this.name=p.name:this.name="Layerr",p.cause&&Object.defineProperty(this,"_cause",{value:p.cause}),Object.defineProperty(this,"_info",{value:{}}),p.info&&typeof p.info=="object"&&Object.assign(this._info,p.info),Error.captureStackTrace){const T=p.constructorOpt||this.constructor;Error.captureStackTrace(this,T)}}static cause(t){return f(t),t._cause&&x(t._cause)?t._cause:null}static fullStack(t){f(t);const n=v.cause(t);return n?"".concat(t.stack,"\ncaused by: ").concat(v.fullStack(n)):t.stack}static info(t){f(t);const n={},r=v.cause(t);return r&&Object.assign(n,v.info(r)),t._info&&Object.assign(n,t._info),n}cause(){return v.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var N=tt(47),E=tt.n(N);const d="__PATH_SEPARATOR_POSIX__",O="__PATH_SEPARATOR_WINDOWS__";function c(e){try{const t=e.replace(/\//g,d).replace(/\\\\/g,O);return encodeURIComponent(t).split(O).join("\\\\").split(d).join("/")}catch(t){throw new v(t,"Failed encoding path")}}function s(e){return e.startsWith("/")?e:"/"+e}function h(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function a(e){let t=new(i())(e).pathname;return t.length<=0&&(t="/"),h(t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var p=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var u=r.shift();r[0]=u+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var A=0;A<r.length;A++){var T=r[A];if(typeof T!="string")throw new TypeError("Url must be a string. Received "+T);T!==""&&(A>0&&(T=T.replace(/^[\/]+/,"")),T=A<r.length-1?T.replace(/[\/]+$/,""):T.replace(/[\/]+$/,"/"),p.push(T))}var I=p.join("/"),F=(I=I.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return F.shift()+(F.length>0?"?":"")+F.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,p,u)=>((u===0||p!=="/"||p==="/"&&r[r.length-1]!=="/")&&r.push(p),r),[]))}var m=tt(542),y=tt.n(m);const _="abcdef0123456789";function k(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),p=e.method?e.method.toUpperCase():"GET",u=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",A="00000000".concat(t.nc).slice(-8),T=function(Z,Q,V,$,B,H,X){const G=X||y()("".concat(Q,":").concat(V,":").concat($));return Z&&Z.toLowerCase()==="md5-sess"?y()("".concat(G,":").concat(B,":").concat(H)):G}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),I=y()("".concat(p,":").concat(r)),F=u?y()("".concat(T,":").concat(t.nonce,":").concat(A,":").concat(t.cnonce,":").concat(u,":").concat(I)):y()("".concat(T,":").concat(t.nonce,":").concat(I)),D={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:u,response:F,nc:A,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},z=[];for(const Z in D)D[Z]&&(Z==="qop"||Z==="nc"||Z==="algorithm"?z.push("".concat(Z,"=").concat(D[Z])):z.push("".concat(Z,'="').concat(D[Z],'"')));return"Digest ".concat(z.join(", "))}function g(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var b=tt(101),j=tt.n(b);function w(e){return j().decode(e)}function P(e,t){const n=(r="".concat(e,":").concat(t),j().encode(r));var r;return"Basic ".concat(n)}const C=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,S=C.fetch.bind(C),L=C.Request,q=C.Response;let M=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),U=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function R(e,t,n,r,p){switch(e.authType){case M.Auto:t&&n&&(e.headers.Authorization=P(t,n));break;case M.Digest:e.digest=function(A,T,I){return{username:A,password:T,ha1:I,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,p);break;case M.None:break;case M.Password:e.headers.Authorization=P(t,n);break;case M.Token:e.headers.Authorization="".concat((u=r).token_type," ").concat(u.access_token);break;default:throw new v({info:{code:U.InvalidAuthType}},"Invalid auth type: ".concat(e.authType))}var u}tt(345),tt(800);const W="@@HOTPATCHER",J=()=>{};function ut(e){return{original:e,methods:[e],final:!1}}class Y{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=W}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==W)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||J;for(var r=arguments.length,p=new Array(r>1?r-1:0),u=1;u<r;u++)p[u-1]=arguments[u];return n(...p)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,p=new Array(r),u=0;u<r;u++)p[u]=arguments[u];if(p.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var A=arguments.length,T=new Array(A),I=0;I<A;I++)T[I]=arguments[I];let F=T;const D=this;for(;p.length>0;)F=[p.shift().apply(D,F)];return F[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:p=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(p)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ut(n);else if(this.isPatched(t)){const{original:u}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ut(n),{original:u})}else this.configuration.registry[t]=ut(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,p=new Array(r>2?r-2:0),u=2;u<r;u++)p[u-2]=arguments[u];return this.execute(t,...p)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),p=1;p<n;p++)r[p-1]=arguments[p];return r.forEach(u=>{this.patch(t,u,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let et=null;function rt(){return et||(et=new Y),et}function ct(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,p=[...t];for(;p.length>0;){const u=p.shift();r=r?bt(r,u):ct(u)}return r}function bt(e,t){const n=ct(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?bt(n[r],t[r]):ct(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Wt(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((p,u)=>(Object.keys(u).forEach(A=>{const T=A.toLowerCase();r.hasOwnProperty(T)?p[r[T]]=u[A]:(r[T]=A,p[A]=u[A])}),p),{})}tt(805);const At=typeof ArrayBuffer=="function",{toString:ae}=Object.prototype;function Ve(e){return At&&(e instanceof ArrayBuffer||ae.call(e)==="[object ArrayBuffer]")}function Ge(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function ue(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Ze=ce(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=vt(e,{headers:{Authorization:k(e,t)}})),ue(Vt(e),function(n){let r=!1;return p=function(A){return r?A:n},(u=function(){if(n.status==401)return t.hasDigestAuth=function(A,T){if(!g(A))return!1;const I=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const F=A.headers&&A.headers.get("www-authenticate")||"",D=I.exec(F);if(!D)break;T[D[1]]=D[2]||D[3]}return T.nc+=1,T.cnonce=function(){let F="";for(let D=0;D<32;++D)F="".concat(F).concat(_[Math.floor(16*Math.random())]);return F}(),!0}(n,t),function(){if(t.hasDigestAuth)return ue(Vt(e=vt(e,{headers:{Authorization:k(e,t)}})),function(A){return A.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,A})}();t.nc++}())&&u.then?u.then(p):p(u);var p,u})}),ur=ce(function(e,t){return ue(Vt(e),function(n){return n.ok?(t.authType=M.Password,n):n.status==401&&g(n)?(t.authType=M.Digest,R(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Ze(e)):n})}),ot=ce(function(e,t){return t.authType===M.Auto?ur(e,t):e._digest?Ze(e):Vt(e)});function it(e,t,n){const r=ct(e);return r.headers=Pt(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Vt(e){const t=rt();return t.patchInline("request",n=>t.patchInline("fetch",S,n.url,function(r){let p={};const u={method:r.method};if(r.headers&&(p=Pt(p,r.headers)),r.data!==void 0){const[A,T]=function(I){if(typeof I=="string")return[I,{}];if(Ge(I))return[I,{}];if(Ve(I))return[I,{}];if(I&&typeof I=="object")return[JSON.stringify(I),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(typeof I))}(r.data);u.body=A,p=Pt(p,T)}return r.signal&&(u.signal=r.signal),r.withCredentials&&(u.credentials="include"),u.headers=p,u}(n)),e)}var lr=tt(285);const hr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Dt=e=>e.replace(/[[\]\\-]/g,"\\$&"),He=e=>e.join(""),fr=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],p=[];let u=n+1,A=!1,T=!1,I=!1,F=!1,D=n,z="";t:for(;u<e.length;){const $=e.charAt(u);if($!=="!"&&$!=="^"||u!==n+1){if($==="]"&&A&&!I){D=u+1;break}if(A=!0,$!=="\\"||I){if($==="["&&!I){for(const[B,[H,X,G]]of Object.entries(hr))if(e.startsWith(B,u)){if(z)return["$.",!1,e.length-n,!0];u+=B.length,G?p.push(H):r.push(H),T=T||X;continue t}}I=!1,z?($>z?r.push(Dt(z)+"-"+Dt($)):$===z&&r.push(Dt($)),z="",u++):e.startsWith("-]",u+1)?(r.push(Dt($+"-")),u+=2):e.startsWith("-",u+1)?(z=$,u+=2):(r.push(Dt($)),u++)}else I=!0,u++}else F=!0,u++}if(D<u)return["",!1,0,!1];if(!r.length&&!p.length)return["$.",!1,e.length-n,!0];if(p.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!F)return[(Z=r[0].length===2?r[0].slice(-1):r[0],Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,D-n,!1];var Z;const Q="["+(F?"^":"")+He(r)+"]",V="["+(F?"":"^")+He(p)+"]";return[r.length&&p.length?"("+Q+"|"+V+")":r.length?Q:V,T,D-n,!0]};function lt(e,t,n){var r;return(t=typeof(r=function(p,u){if(typeof p!="object"||!p)return p;var A=p[Symbol.toPrimitive];if(A!==void 0){var T=A.call(p,"string");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(t))=="symbol"?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gt=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new Zt(t,n).match(e)},pr=gt,dr=/^\*+([^+@!?\*\[\(]*)$/,gr=e=>t=>!t.startsWith(".")&&t.endsWith(e),mr=e=>t=>t.endsWith(e),vr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),wr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),yr=/^\*+\.\*+$/,br=e=>!e.startsWith(".")&&e.includes("."),xr=e=>e!=="."&&e!==".."&&e.includes("."),Er=/^\.\*+$/,Ar=e=>e!=="."&&e!==".."&&e.startsWith("."),Or=/^\*+$/,Nr=e=>e.length!==0&&!e.startsWith("."),_r=e=>e.length!==0&&e!=="."&&e!=="..",Tr=/^\?+([^+@!?\*\[\(]*)?$/,jr=e=>{let[t,n=""]=e;const r=Xe([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},Cr=e=>{let[t,n=""]=e;const r=Ke([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},Sr=e=>{let[t,n=""]=e;const r=Ke([t]);return n?p=>r(p)&&p.endsWith(n):r},Ir=e=>{let[t,n=""]=e;const r=Xe([t]);return n?p=>r(p)&&p.endsWith(n):r},Xe=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Ke=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},Qe=typeof te=="object"&&te?typeof Te=="object"&&Te&&Te.__MINIMATCH_TESTING_PLATFORM__||te.platform:"posix";gt.sep=Qe==="win32"?"\\":"/";const wt=Symbol("globstar **");gt.GLOBSTAR=wt;const Ye={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},le="[^/]",he=le+"*?",Je=e=>e.split("").reduce((t,n)=>(t[n]=!0,t),{}),Pr=Je("().*{}+?[]^$\\!"),kr=Je("[.(");gt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>gt(n,e,t)};const Et=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};gt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return gt;const t=gt;return Object.assign(function(n,r){return t(n,r,Et(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,Et(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(Et(e,n)).Minimatch}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,Et(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,Et(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,Et(e,r))},defaults:n=>t.defaults(Et(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,Et(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,Et(e,r))},match:function(n,r){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,Et(e,p))},sep:t.sep,GLOBSTAR:wt})};const tn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:lr(e)};gt.braceExpand=tn;const Gt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};gt.makeRe=function(e){return new Zt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},gt.match=function(e,t){const n=new Zt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const en=/[?*]|[+@!]\(.*?\)|\[|\]/,nn=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Zt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lt(this,"options",void 0),lt(this,"set",void 0),lt(this,"pattern",void 0),lt(this,"windowsPathsNoEscape",void 0),lt(this,"nonegate",void 0),lt(this,"negate",void 0),lt(this,"comment",void 0),lt(this,"empty",void 0),lt(this,"preserveMultipleSlashes",void 0),lt(this,"partial",void 0),lt(this,"globSet",void 0),lt(this,"globParts",void 0),lt(this,"nocase",void 0),lt(this,"isWindows",void 0),lt(this,"platform",void 0),lt(this,"windowsNoMagicRoot",void 0),lt(this,"regexp",void 0),Gt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||Qe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(u=>this.slashSplit(u));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let p=this.globParts.map((u,A,T)=>{if(this.isWindows&&this.windowsNoMagicRoot){const I=!(u[0]!==""||u[1]!==""||u[2]!=="?"&&en.test(u[2])||en.test(u[3])),F=/^[a-z]:/i.test(u[0]);if(I)return[...u.slice(0,4),...u.slice(4).map(D=>this.parse(D))];if(F)return[u[0],...u.slice(1).map(D=>this.parse(D))]}return u.map(I=>this.parse(I))});if(this.debug(this.pattern,p),this.set=p.filter(u=>u.indexOf(!1)===-1),this.isWindows)for(let u=0;u<this.set.length;u++){const A=this.set[u];A[0]===""&&A[1]===""&&this.globParts[u][2]==="?"&&typeof A[3]=="string"&&/^[a-z]:$/i.test(A[3])&&(A[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let p=0;p<t[r].length;p++)t[r][p]==="**"&&(t[r][p]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let p=r;for(;n[p+1]==="**";)p++;p!==r&&n.splice(r,p-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,p)=>{const u=r[r.length-1];return p==="**"&&u==="**"?r:p===".."&&u&&u!==".."&&u!=="."&&u!=="**"?(r.pop(),r):(r.push(p),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let p=1;p<t.length-1;p++){const u=t[p];p===1&&u===""&&t[0]===""||u!=="."&&u!==""||(n=!0,t.splice(p,1),p--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const p=t[r-1];p&&p!=="."&&p!==".."&&p!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let p=-1;for(;(p=r.indexOf("**",p+1))!==-1;){let A=p;for(;r[A+1]==="**";)A++;A>p&&r.splice(p+1,A-p);let T=r[p+1];const I=r[p+2],F=r[p+3];if(T!==".."||!I||I==="."||I===".."||!F||F==="."||F==="..")continue;n=!0,r.splice(p,1);const D=r.slice(0);D[p]="**",t.push(D),p--}if(!this.preserveMultipleSlashes){for(let A=1;A<r.length-1;A++){const T=r[A];A===1&&T===""&&r[0]===""||T!=="."&&T!==""||(n=!0,r.splice(A,1),A--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let u=0;for(;(u=r.indexOf("..",u+1))!==-1;){const A=r[u-1];if(A&&A!=="."&&A!==".."&&A!=="**"){n=!0;const T=u===1&&r[u+1]==="**"?["."]:[];r.splice(u-1,2,...T),r.length===0&&r.push(""),u-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const p=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);p&&(t[n]=p,t[r]=[])}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=0,u=0,A=[],T="";for(;p<t.length&&u<n.length;)if(t[p]===n[u])A.push(T==="b"?n[u]:t[p]),p++,u++;else if(r&&t[p]==="**"&&n[u]===t[p+1])A.push(t[p]),p++;else if(r&&n[u]==="**"&&t[p]===n[u+1])A.push(n[u]),u++;else if(t[p]!=="*"||!n[u]||!this.options.dot&&n[u].startsWith(".")||n[u]==="**"){if(n[u]!=="*"||!t[p]||!this.options.dot&&t[p].startsWith(".")||t[p]==="**"||T==="a")return!1;T="b",A.push(n[u]),p++,u++}else{if(T==="b")return!1;T="a",A.push(t[p]),p++,u++}return t.length===n.length&&A}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let p=0;p<t.length&&t.charAt(p)==="!";p++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const p=this.options;if(this.isWindows){const $=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),B=n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3]);if($&&B){const H=t[3],X=n[3];H.toLowerCase()===X.toLowerCase()&&(t[3]=X)}else if(B&&typeof t[0]=="string"){const H=n[3],X=t[0];H.toLowerCase()===X.toLowerCase()&&(n[3]=X,n=n.slice(3))}else if($&&typeof n[0]=="string"){const H=t[3];H.toLowerCase()===n[0].toLowerCase()&&(n[0]=H,t=t.slice(3))}}const{optimizationLevel:u=1}=this.options;u>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var A=0,T=0,I=t.length,F=n.length;A<I&&T<F;A++,T++){this.debug("matchOne loop");var D=n[T],z=t[A];if(this.debug(n,D,z),D===!1)return!1;if(D===wt){this.debug("GLOBSTAR",[n,D,z]);var Z=A,Q=T+1;if(Q===F){for(this.debug("** at the end");A<I;A++)if(t[A]==="."||t[A]===".."||!p.dot&&t[A].charAt(0)===".")return!1;return!0}for(;Z<I;){var V=t[Z];if(this.debug("\nglobstar while",t,Z,n,Q,V),this.matchOne(t.slice(Z),n.slice(Q),r))return this.debug("globstar found match!",Z,I,V),!0;if(V==="."||V===".."||!p.dot&&V.charAt(0)==="."){this.debug("dot detected!",t,Z,n,Q);break}this.debug("globstar swallow a segment, and continue"),Z++}return!(!r||(this.debug("\n>>> no match, partial?",t,Z,n,Q),Z!==I))}let $;if(typeof D=="string"?($=z===D,this.debug("string match",D,z,$)):($=D.test(z),this.debug("pattern match",D,z,$)),!$)return!1}if(A===I&&T===F)return!0;if(A===I)return r;if(T===F)return A===I-1&&t[A]==="";throw new Error("wtf?")}braceExpand(){return tn(this.pattern,this.options)}parse(t){Gt(t);const n=this.options;if(t==="**")return wt;if(t==="")return"";let r,p=null;(r=t.match(Or))?p=n.dot?_r:Nr:(r=t.match(dr))?p=(n.nocase?n.dot?wr:vr:n.dot?mr:gr)(r[1]):(r=t.match(Tr))?p=(n.nocase?n.dot?Cr:jr:n.dot?Sr:Ir)(r):(r=t.match(yr))?p=n.dot?xr:br:(r=t.match(Er))&&(p=Ar);let u="",A=!1,T=!1;const I=[],F=[];let D,z=!1,Z=!1,Q=t.charAt(0)===".",V=n.dot||Q;const $=G=>G.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",B=()=>{if(z){switch(z){case"*":u+=he,A=!0;break;case"?":u+=le,A=!0;break;default:u+="\\"+z}this.debug("clearStateChar %j %j",z,u),z=!1}};for(let G,K=0;K<t.length&&(G=t.charAt(K));K++)if(this.debug("%s	%s %s %j",t,K,u,G),T){if(G==="/")return!1;Pr[G]&&(u+="\\"),u+=G,T=!1}else switch(G){case"/":return!1;case"\\":B(),T=!0;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",t,K,u,G),this.debug("call clearStateChar %j",z),B(),z=G,n.noext&&B();continue;case"(":{if(!z){u+="\\(";continue}const nt={type:z,start:K-1,reStart:u.length,open:Ye[z].open,close:Ye[z].close};this.debug(this.pattern,"	",nt),I.push(nt),u+=nt.open,nt.start===0&&nt.type!=="!"&&(Q=!0,u+=$(t.slice(K+1))),this.debug("plType %j %j",z,u),z=!1;continue}case")":{const nt=I[I.length-1];if(!nt){u+="\\)";continue}I.pop(),B(),A=!0,D=nt,u+=D.close,D.type==="!"&&F.push(Object.assign(D,{reEnd:u.length}));continue}case"|":{const nt=I[I.length-1];if(!nt){u+="\\|";continue}B(),u+="|",nt.start===0&&nt.type!=="!"&&(Q=!0,u+=$(t.slice(K+1)));continue}case"[":B();const[pt,at,ht,$t]=fr(t,K);ht?(u+=pt,Z=Z||at,K+=ht-1,A=A||$t):u+="\\[";continue;case"]":u+="\\"+G;continue;default:B(),u+=nn(G)}for(D=I.pop();D;D=I.pop()){let G;G=u.slice(D.reStart+D.open.length),this.debug(this.pattern,"setting tail",u,D),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,(pt,at,ht)=>(ht||(ht="\\"),at+at+ht+"|")),this.debug("tail=%j\n   %s",G,G,D,u);const K=D.type==="*"?he:D.type==="?"?le:"\\"+D.type;A=!0,u=u.slice(0,D.reStart)+K+"\\("+G}B(),T&&(u+="\\\\");const H=kr[u.charAt(0)];for(let G=F.length-1;G>-1;G--){const K=F[G],pt=u.slice(0,K.reStart),at=u.slice(K.reStart,K.reEnd-8);let ht=u.slice(K.reEnd);const $t=u.slice(K.reEnd-8,K.reEnd)+ht,nt=pt.split(")").length,uo=pt.split("(").length-nt;let Ae=ht;for(let vn=0;vn<uo;vn++)Ae=Ae.replace(/\)[+*?]?/,"");ht=Ae,u=pt+at+ht+(ht===""?"(?:$|\\/)":"")+$t}if(u!==""&&A&&(u="(?=.)"+u),H&&(u=(Q?"":V?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+u),!n.nocase||A||n.nocaseMagicOnly||(A=t.toUpperCase()!==t.toLowerCase()),!A)return u.replace(/\\(.)/g,"$1");const X=(n.nocase?"i":"")+(Z?"u":"");try{const G=p?{_glob:t,_src:u,test:p}:{_glob:t,_src:u};return Object.assign(new RegExp("^"+u+"$",X),G)}catch(G){return this.debug("invalid regexp",G),new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?he:n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",p=n.nocase?"i":"";let u=t.map(A=>{const T=A.map(I=>typeof I=="string"?nn(I):I===wt?wt:I._src);return T.forEach((I,F)=>{const D=T[F+1],z=T[F-1];I===wt&&z!==wt&&(z===void 0?D!==void 0&&D!==wt?T[F+1]="(?:\\/|"+r+"\\/)?"+D:T[F]=r:D===void 0?T[F-1]=z+"(?:\\/|"+r+")?":D!==wt&&(T[F-1]=z+"(?:\\/|\\/"+r+"\\/)"+D,T[F+1]=wt))}),T.filter(I=>I!==wt).join("/")}).join("|");u="^(?:"+u+")$",this.negate&&(u="^(?!"+u+").*$");try{this.regexp=new RegExp(u,p)}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const p=this.slashSplit(t);this.debug(this.pattern,"split",p);const u=this.set;this.debug(this.pattern,"set",u);let A=p[p.length-1];if(!A)for(let T=p.length-2;!A&&T>=0;T--)A=p[T];for(let T=0;T<u.length;T++){const I=u[T];let F=p;if(r.matchBase&&I.length===1&&(F=[A]),this.matchOne(F,I,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return gt.defaults(t).Minimatch}}function fe(e){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(e.status," ").concat(e.statusText));return t.status=e.status,t.response=e,t}function st(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw fe(t);return t}function St(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Wt(e.headers):{},status:e.status,statusText:e.statusText}:t}gt.Minimatch=Zt,gt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},gt.unescape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};const Rr=(rn=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"COPY",headers:{Destination:l(e.remoteURL,c(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return A=function(T){st(e,T)},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(rn.apply(this,e))}catch(n){return Promise.reject(n)}});var rn,pe=tt(635),Fr=tt(829),Ot=tt.n(Fr),kt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(kt||{});function Ht(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kt.Original;const r=Ot().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Mt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const p={multistatus:Array.isArray(r)?r[0]:r};return Ot().set(p,"multistatus.response",Ht(p,"multistatus.response",kt.Array)),Ot().set(p,"multistatus.response",Ot().get(p,"multistatus.response").map(u=>function(A){const T=Object.assign({},A);return T.status?Ot().set(T,"status",Ht(T,"status",kt.Object)):(Ot().set(T,"propstat",Ht(T,"propstat",kt.Object)),Ot().set(T,"propstat.prop",Ht(T,"propstat.prop",kt.Object))),T}(u))),p}(new pe.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:p="0",resourcetype:u=null,getcontenttype:A=null,getetag:T=null}=e,I=u&&typeof u=="object"&&u.collection!==void 0?"directory":"file",F={filename:t,basename:E().basename(t),lastmod:r,size:parseInt(p,10),type:I,etag:typeof T=="string"?T.replace(/"/g,""):null};return I==="file"&&(F.mime=A&&typeof A=="string"?A.split(";")[0]:""),n&&(F.props=e),F}function on(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:p,status:u}}=r,[A,T,I]=u.split(" ",3),F=parseInt(T,10);if(F>=400){const D=new Error("Invalid response: ".concat(F," ").concat(I));throw D.status=F,D}return Xt(p,h(t),n)}function sn(e){switch(e.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(e,10)}}function de(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const ge=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,c(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return de(ot(p,e),function(u){return st(e,u),de(u.text(),function(A){return de(Mt(A),function(T){const I=on(T,t,r);return St(u,I,r)})})})});function an(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Lr=cn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(u){if(!u||u==="/")return[];let A=u;const T=[];do T.push(A),A=E().dirname(A);while(A&&A!=="/");return T}(h(t));r.sort((u,A)=>u.length>A.length?1:A.length>u.length?-1:0);let p=!1;return function(u,A,T){if(typeof u[ln]=="function"){let $=function(B){try{for(;!(I=z.next()).done;)if((B=A(I.value))&&B.then){if(!hn(B))return void B.then($,D||(D=mt.bind(null,F=new Rt,2)));B=B.v}F?mt(F,1,B):F=B}catch(H){mt(F||(F=new Rt),2,H)}};var I,F,D,z=u[ln]();if($(),z.return){var Z=function(B){try{I.done||z.return()}catch{}return B};if(F&&F.then)return F.then(Z,function(B){throw Z(B)});Z()}return F}if(!("length"in u))throw new TypeError("Object is not iterable");for(var Q=[],V=0;V<u.length;V++)Q.push(u[V]);return function($,B,H){var X,G,K=-1;return function pt(at){try{for(;++K<$.length&&(!H||!H());)if((at=B(K))&&at.then){if(!hn(at))return void at.then(pt,G||(G=mt.bind(null,X=new Rt,2)));at=at.v}X?mt(X,1,at):X=at}catch(ht){mt(X||(X=new Rt),2,ht)}}(),X}(Q,function($){return A(Q[$])},T)}(r,function(u){return A=function(){return function(I,F){try{var D=an(ge(e,u),function(z){if(z.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(z){return F(z)}return D&&D.then?D.then(void 0,F):D}(0,function(I){const F=I;return function(){if(F.status===404)return p=!0,un(me(e,u,{...n,recursive:!1}));throw I}()})},(T=function(){if(p)return un(me(e,u,{...n,recursive:!1}))}())&&T.then?T.then(A):A();var A,T},function(){return!1})});function cn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Dr(){}function un(e,t){if(!t)return e&&e.then?e.then(Dr):Promise.resolve()}const ln=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function mt(e,t,n){if(!e.s){if(n instanceof Rt){if(!n.s)return void(n.o=mt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(mt.bind(null,e,t),mt.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Rt=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,p=this.s;if(p){const u=1&p?t:n;if(u){try{mt(r,1,u(this.v))}catch(A){mt(r,2,A)}return r}return this}return this.o=function(u){try{const A=u.v;1&u.s?mt(r,1,t?t(A):A):n?mt(r,1,n(A)):mt(r,2,A)}catch(A){mt(r,2,A)}},r},e}();function hn(e){return e instanceof Rt&&1&e.s}const me=cn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return Lr(e,t,n);const r=it({url:l(e.remoteURL,(p=c(t),p.endsWith("/")?p:p+"/")),method:"MKCOL"},e,n);var p;return an(ot(r,e),function(u){st(e,u)})});var Mr=tt(388),fn=tt.n(Mr);const Ur=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let T="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(T="".concat(T).concat(n.range.end)),r.Range=T}const p=it({url:l(e.remoteURL,c(t)),method:"GET",headers:r},e,n);return A=function(T){if(st(e,T),r.Range&&T.status!==206){const I=new Error("Invalid response code for partial request: ".concat(T.status));throw I.status=T.status,I}return n.callback&&setTimeout(()=>{n.callback(T)},0),T.body},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A}),$r=()=>{},Br=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=l(e.remoteURL,c(t)));const r=it(n,e,{});return u=function(A){return st(e,A),A},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u}),qr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"DELETE"},e,n);return u=function(A){st(e,A)},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u}),zr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,p){try{var u=(A=ge(e,t,n),T=function(){return!0},I?T?T(A):A:(A&&A.then||(A=Promise.resolve(A)),T?A.then(T):A))}catch(F){return p(F)}var A,T,I;return u&&u.then?u.then(void 0,p):u}(0,function(r){if(r.status===404)return!1;throw r})});function ve(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Wr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return ve(ot(r,e),function(p){return st(e,p),ve(p.text(),function(u){if(!u)throw new Error("Failed parsing directory contents: Empty response");return ve(Mt(u),function(A){const T=s(t);let I=function(F,D,z){let Z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Q=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const V=E().join(D,"/"),{multistatus:{response:$}}=F,B=$.map(H=>{const X=function(K){try{return K.replace(/^https?:\/\/[^\/]+/,"")}catch(pt){throw new v(pt,"Failed normalising HREF")}}(H.href),{propstat:{prop:G}}=H;return Xt(G,V==="/"?decodeURIComponent(h(X)):h(E().relative(decodeURIComponent(V),decodeURIComponent(X))),Z)});return Q?B:B.filter(H=>H.basename&&(H.type==="file"||H.filename!==z.replace(/\/$/,"")))}(A,s(e.remoteBasePath||e.remotePath),T,n.details,n.includeSelf);return n.glob&&(I=function(F,D){return F.filter(z=>pr(z.filename,D,{matchBase:!0}))}(I,n.glob)),St(p,I,n.details)})})})});function we(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Vr=we(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Hr]},e,n);return Kt(ot(r,e),function(p){return st(e,p),Kt(p.text(),function(u){return St(p,u,n.details)})})});function Kt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Gr=we(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"GET"},e,n);return Kt(ot(r,e),function(p){let u;return st(e,p),function(A,T){var I=A();return I&&I.then?I.then(T):T()}(function(){return Kt(p.arrayBuffer(),function(A){u=A})},function(){return St(p,u,n.details)})})}),Zr=we(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new v({info:{code:U.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?Vr(e,t,n):Gr(e,t,n)}),Hr=e=>e;function Xr(e){return new pe.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(pn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function pn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(t,":").concat(r)]=pn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(t,":").concat(r)]=n[r],delete n[r]));return n}function ye(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function dn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Kr=dn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return ye(ot(p,e),function(u){if(st(e,u),u.status!==204&&u.status!==200)throw fe(u)})}),Qr=dn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:p=Yr}=n,u={Accept:"text/plain,application/xml",Timeout:p};r&&(u.If=r);const A=it({url:l(e.remoteURL,c(t)),method:"LOCK",headers:u,data:Xr(e.contactHref)},e,n);return ye(ot(A,e),function(T){return st(e,T),ye(T.text(),function(I){const F=(Z=I,new pe.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(Z)),D=Ot().get(F,"prop.lockdiscovery.activelock.locktoken.href"),z=Ot().get(F,"prop.lockdiscovery.activelock.timeout");var Z;if(!D)throw fe(T,"No lock token received: ");return{token:D,serverTimeout:z}})})}),Yr="Infinite, Second-4100000000";function be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Jr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=it({url:l(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return be(ot(r,e),function(p){return st(e,p),be(p.text(),function(u){return be(Mt(u),function(A){const T=function(I){try{const[F]=I.multistatus.response,{propstat:{prop:{"quota-used-bytes":D,"quota-available-bytes":z}}}=F;return D!==void 0&&z!==void 0?{used:parseInt(D,10),available:sn(z)}:null}catch{}return null}(A);return St(p,T,t.details)})})})});function xe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const to=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,c(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return xe(ot(p,e),function(u){return st(e,u),xe(u.text(),function(A){return xe(Mt(A),function(T){const I=function(F,D,z){const Z={truncated:!1,results:[]};return Z.truncated=F.multistatus.response.some(Q=>{var V,$;return((V=(Q.status||(($=Q.propstat)===null||$===void 0?void 0:$.status)).split(" ",3))===null||V===void 0?void 0:V[1])==="507"&&Q.href.replace(/\/$/,"").endsWith(c(D).replace(/\/$/,""))}),F.multistatus.response.forEach(Q=>{if(Q.propstat===void 0)return;const V=Q.href.split("/").map(decodeURIComponent).join("/");Z.results.push(Xt(Q.propstat.prop,V,z))}),Z}(T,t,r);return St(u,I,r)})})})}),eo=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"MOVE",headers:{Destination:l(e.remoteURL,c(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return A=function(T){st(e,T)},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A});var no=tt(172);const ro=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:p=!0,overwrite:u=!0}=r,A={"Content-Type":"application/octet-stream"};p===!1||(A["Content-Length"]="".concat(typeof p=="number"?p:function(D){if(Ve(D))return D.byteLength;if(Ge(D))return D.length;if(typeof D=="string")return(0,no.d)(D);throw new v({info:{code:U.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),u||(A["If-None-Match"]="*");const T=it({url:l(e.remoteURL,c(t)),method:"PUT",headers:A,data:n},e,r);return F=function(D){try{st(e,D)}catch(z){const Z=z;if(Z.status!==412||u)throw Z;return!1}return!0},(I=ot(T,e))&&I.then||(I=Promise.resolve(I)),F?I.then(F):I;var I,F}),gn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"OPTIONS"},e,n);return u=function(A){var T,I;try{st(e,A)}catch(F){throw F}return{compliance:((T=A.headers.get("DAV"))!==null&&T!==void 0?T:"").split(",").map(F=>F.trim()),server:(I=A.headers.get("Server"))!==null&&I!==void 0?I:""}},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u});function Ut(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const oo=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const A={"Content-Type":"application/octet-stream","Content-Length":"".concat(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},T=it({url:l(e.remoteURL,c(t)),method:"PUT",headers:A,data:p},e,u);return Ut(ot(T,e),function(I){st(e,I)})});function mn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const io=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const A={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":"".concat(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},T=it({url:l(e.remoteURL,c(t)),method:"PATCH",headers:A,data:p},e,u);return Ut(ot(T,e),function(I){st(e,I)})});function Ee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const so=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Ut(gn(e,t,u),function(A){let T=!1;return mn(function(){if(A.compliance.includes("sabredav-partialupdate"))return Ut(io(e,t,n,r,p,u),function(I){return T=!0,I})},function(I){let F=!1;return T?I:mn(function(){if(A.server.includes("Apache")&&A.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ut(oo(e,t,n,r,p,u),function(D){return F=!0,D})},function(D){if(F)return D;throw new v({info:{code:U.NotSupported}},"Not supported")})})})}),ao="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function co(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:p=ao,ha1:u,headers:A={},httpAgent:T,httpsAgent:I,password:F,token:D,username:z,withCredentials:Z}=t;let Q=n;Q||(Q=z||F?M.Password:M.None);const V={authType:Q,remoteBasePath:r,contactHref:p,ha1:u,headers:Object.assign({},A),httpAgent:T,httpsAgent:I,password:F,remotePath:a(e),remoteURL:e,token:D,username:z,withCredentials:Z};return R(V,z,F,D,u),{copyFile:($,B,H)=>Rr(V,$,B,H),createDirectory:($,B)=>me(V,$,B),createReadStream:($,B)=>function(H,X){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const K=new(fn()).PassThrough;return Ur(H,X,G).then(pt=>{pt.pipe(K)}).catch(pt=>{K.emit("error",pt)}),K}(V,$,B),createWriteStream:($,B,H)=>function(X,G){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$r;const at=new(fn()).PassThrough,ht={};K.overwrite===!1&&(ht["If-None-Match"]="*");const $t=it({url:l(X.remoteURL,c(G)),method:"PUT",headers:ht,data:at,maxRedirects:0},X,K);return ot($t,X).then(nt=>st(X,nt)).then(nt=>{setTimeout(()=>{pt(nt)},0)}).catch(nt=>{at.emit("error",nt)}),at}(V,$,B,H),customRequest:($,B)=>Br(V,$,B),deleteFile:($,B)=>qr(V,$,B),exists:($,B)=>zr(V,$,B),getDirectoryContents:($,B)=>Wr(V,$,B),getFileContents:($,B)=>Zr(V,$,B),getFileDownloadLink:$=>function(B,H){let X=l(B.remoteURL,c(H));const G=/^https:/i.test(X)?"https":"http";switch(B.authType){case M.None:break;case M.Password:{const K=w(B.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(G,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return X}(V,$),getFileUploadLink:$=>function(B,H){let X="".concat(l(B.remoteURL,c(H)),"?Content-Type=application/octet-stream");const G=/^https:/i.test(X)?"https":"http";switch(B.authType){case M.None:break;case M.Password:{const K=w(B.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(G,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return X}(V,$),getHeaders:()=>Object.assign({},V.headers),getQuota:$=>Jr(V,$),lock:($,B)=>Qr(V,$,B),moveFile:($,B,H)=>eo(V,$,B,H),putFileContents:($,B,H)=>ro(V,$,B,H),partialUpdateFileContents:($,B,H,X,G)=>so(V,$,B,H,X,G),getDAVCompliance:$=>gn(V,$),search:($,B)=>to(V,$,B),setHeaders:$=>{V.headers=Object.assign({},$)},stat:($,B)=>ge(V,$,B),unlock:($,B,H)=>Kr(V,$,B,H)}}})(),yt.hT,yt.O4,yt.Kd,yt.YK;var Ls=yt.UU,Ds=yt.Gu;yt.ky,yt.h4,yt.ch,yt.hq,yt.i5;function $e(){var o;return(o=Gn("files_sharing","isPublic",null))!=null?o:document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function Ms(){var o,i,f;return(f=(i=Gn("files_sharing","sharingToken",null))!=null?i:(o=document.querySelector('input#sharingToken[type="hidden"]'))==null?void 0:o.value)!=null?f:null}const Ct=fo().setApp("@nextcloud/files").detectUser().build();var Us=(o=>(o[o.UploadFromDevice=0]="UploadFromDevice",o[o.CreateNew=1]="CreateNew",o[o.Other=2]="Other",o))(Us||{});class $s{constructor(){_t(this,"_entries",[])}registerEntry(i){var f;this.validateEntry(i),i.category=(f=i.category)!=null?f:1,this._entries.push(i)}unregisterEntry(i){const f=typeof i=="string"?this.getEntryIndex(i):this.getEntryIndex(i.id);if(f===-1){Ct.warn("Entry not found, nothing removed",{entry:i,entries:this.getEntries()});return}this._entries.splice(f,1)}getEntries(i){return i?this._entries.filter(f=>typeof f.enabled=="function"?f.enabled(i):!0):this._entries}getEntryIndex(i){return this._entries.findIndex(f=>f.id===i)}validateEntry(i){if(!i.id||!i.displayName||!(i.iconSvgInline||i.iconClass)||!i.handler)throw new Error("Invalid entry");if(typeof i.id!="string"||typeof i.displayName!="string")throw new Error("Invalid id or displayName property");if(i.iconClass&&typeof i.iconClass!="string"||i.iconSvgInline&&typeof i.iconSvgInline!="string")throw new Error("Invalid icon provided");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(typeof i.handler!="function")throw new Error("Invalid handler property");if("order"in i&&typeof i.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(i.id)!==-1)throw new Error("Duplicate entry")}}const Bs=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new $s,Ct.debug("NewFileMenu initialized")),window._nc_newfilemenu};class ia{constructor(i){_t(this,"_header");this.validateHeader(i),this._header=i}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(i){if(!i.id||!i.render||!i.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof i.id!="string")throw new Error("Invalid id property");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(i.render&&typeof i.render!="function")throw new Error("Invalid render property");if(i.updated&&typeof i.updated!="function")throw new Error("Invalid updated property")}}const sa=function(o){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],Ct.debug("FileListHeaders initialized")),window._nc_filelistheader.find(i=>i.id===o.id)){Ct.error("Header ".concat(o.id," already registered"),{header:o});return}window._nc_filelistheader.push(o)};var xt=(o=>(o[o.NONE=0]="NONE",o[o.CREATE=4]="CREATE",o[o.READ=1]="READ",o[o.UPDATE=2]="UPDATE",o[o.DELETE=8]="DELETE",o[o.SHARE=16]="SHARE",o[o.ALL=31]="ALL",o))(xt||{});const or=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],ir={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},aa=function(o,i={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...or],window._nc_dav_namespaces={...ir});const f={...window._nc_dav_namespaces,...i};if(window._nc_dav_properties.find(v=>v===o))return Ct.warn("".concat(o," already registered"),{prop:o}),!1;if(o.startsWith("<")||o.split(":").length!==2)return Ct.error("".concat(o," is not valid. See example: 'oc:fileid'"),{prop:o}),!1;const x=o.split(":")[0];return f[x]?(window._nc_dav_properties.push(o),window._nc_dav_namespaces=f,!0):(Ct.error("".concat(o," namespace unknown"),{prop:o,namespaces:f}),!1)},Be=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...or]),window._nc_dav_properties.map(o=>"<".concat(o," />")).join(" ")},qe=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...ir}),Object.keys(window._nc_dav_namespaces).map(o=>{var i;return"xmlns:".concat(o,'="').concat((i=window._nc_dav_namespaces)==null?void 0:i[o],'"')}).join(" ")},ca=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(qe(),">\n			<d:prop>\n				").concat(Be(),"\n			</d:prop>\n		</d:propfind>")},qs=function(){return'<?xml version="1.0"?>\n		<oc:filter-files '.concat(qe(),">\n			<d:prop>\n				").concat(Be(),"\n			</d:prop>\n			<oc:filter-rules>\n				<oc:favorite>1</oc:favorite>\n			</oc:filter-rules>\n		</oc:filter-files>")},ua=function(o){var i;return'<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest '.concat(qe(),'\n	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n	<d:basicsearch>\n		<d:select>\n			<d:prop>\n				').concat(Be(),"\n			</d:prop>\n		</d:select>\n		<d:from>\n			<d:scope>\n				<d:href>/files/").concat((i=Ie())==null?void 0:i.uid,"/</d:href>\n				<d:depth>infinity</d:depth>\n			</d:scope>\n		</d:from>\n		<d:where>\n			<d:and>\n				<d:or>\n					<d:not>\n						<d:eq>\n							<d:prop>\n								<d:getcontenttype/>\n							</d:prop>\n							<d:literal>httpd/unix-directory</d:literal>\n						</d:eq>\n					</d:not>\n					<d:eq>\n						<d:prop>\n							<oc:size/>\n						</d:prop>\n						<d:literal>0</d:literal>\n					</d:eq>\n				</d:or>\n				<d:gt>\n					<d:prop>\n						<d:getlastmodified/>\n					</d:prop>\n					<d:literal>").concat(o,"</d:literal>\n				</d:gt>\n			</d:and>\n		</d:where>\n		<d:orderby>\n			<d:order>\n				<d:prop>\n					<d:getlastmodified/>\n				</d:prop>\n				<d:descending/>\n			</d:order>\n		</d:orderby>\n		<d:limit>\n			<d:nresults>100</d:nresults>\n			<ns:firstresult>0</ns:firstresult>\n		</d:limit>\n	</d:basicsearch>\n</d:searchrequest>")},zs=function(o=""){let i=xt.NONE;return o&&((o.includes("C")||o.includes("K"))&&(i|=xt.CREATE),o.includes("G")&&(i|=xt.READ),(o.includes("W")||o.includes("N")||o.includes("V"))&&(i|=xt.UPDATE),o.includes("D")&&(i|=xt.DELETE),o.includes("R")&&(i|=xt.SHARE)),i};var ze=(o=>(o.Folder="folder",o.File="file",o))(ze||{});const sr=function(o,i){return o.match(i)!==null},Ln=(o,i)=>{if(o.id&&typeof o.id!="number")throw new Error("Invalid id type of value");if(!o.source)throw new Error("Missing mandatory source");try{new URL(o.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!o.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(o.mtime&&!(o.mtime instanceof Date))throw new Error("Invalid mtime type");if(o.crtime&&!(o.crtime instanceof Date))throw new Error("Invalid crtime type");if(!o.mime||typeof o.mime!="string"||!o.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in o&&typeof o.size!="number"&&o.size!==void 0)throw new Error("Invalid size type");if("permissions"in o&&o.permissions!==void 0&&!(typeof o.permissions=="number"&&o.permissions>=xt.NONE&&o.permissions<=xt.ALL))throw new Error("Invalid permissions");if(o.owner&&o.owner!==null&&typeof o.owner!="string")throw new Error("Invalid owner type");if(o.attributes&&typeof o.attributes!="object")throw new Error("Invalid attributes type");if(o.root&&typeof o.root!="string")throw new Error("Invalid root type");if(o.root&&!o.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(o.root&&!o.source.includes(o.root))throw new Error("Root must be part of the source");if(o.root&&sr(o.source,i)){const f=o.source.match(i)[0];if(!o.source.includes(It.join(f,o.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(o.status&&!Object.values(We).includes(o.status))throw new Error("Status must be a valid NodeStatus")};var We=(o=>(o.NEW="new",o.FAILED="failed",o.LOADING="loading",o.LOCKED="locked",o))(We||{});class se{constructor(i,f){_t(this,"_data");_t(this,"_attributes");_t(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);_t(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(se.prototype)).filter(i=>typeof i[1].get=="function"&&i[0]!=="__proto__").map(i=>i[0]));_t(this,"handler",{set:(i,f,x)=>this.readonlyAttributes.includes(f)?!1:Reflect.set(i,f,x),deleteProperty:(i,f)=>this.readonlyAttributes.includes(f)?!1:Reflect.deleteProperty(i,f),get:(i,f,x)=>this.readonlyAttributes.includes(f)?(Ct.warn('Accessing "Node.attributes.'.concat(f,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,f)):Reflect.get(i,f,x)});var x;Ln(i,f||this._knownDavService),this._data={...i,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update((x=i.attributes)!=null?x:{}),f&&(this._knownDavService=f)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:i}=new URL(this.source);return i+_s(this.source.slice(i.length))}get basename(){return It.basename(this.source)}get extension(){return It.extname(this.source)}get dirname(){if(this.root){let f=this.source;this.isDavRessource&&(f=f.split(this._knownDavService).pop());const x=f.indexOf(this.root),v=this.root.replace(/\/$/,"");return It.dirname(f.slice(x+v.length)||"/")}const i=new URL(this.source);return It.dirname(i.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(i){this._data.mtime=i}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(i){this.updateMtime(),this._data.size=i}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavRessource?xt.READ:this._data.permissions!==void 0?this._data.permissions:xt.NONE}set permissions(i){this.updateMtime(),this._data.permissions=i}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return sr(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&It.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let i=this.source;this.isDavRessource&&(i=i.split(this._knownDavService).pop());const f=i.indexOf(this.root),x=this.root.replace(/\/$/,"");return i.slice(f+x.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var i;return(i=this._data)==null?void 0:i.id}get status(){var i;return(i=this._data)==null?void 0:i.status}set status(i){this._data.status=i}move(i){Ln({...this._data,source:i},this._knownDavService),this._data.source=i,this.updateMtime()}rename(i){if(i.includes("/"))throw new Error("Invalid basename");this.move(It.dirname(this.source)+"/"+i)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(i){for(const[f,x]of Object.entries(i))try{x===void 0?delete this.attributes[f]:this.attributes[f]=x}catch(v){if(v instanceof TypeError)continue;throw v}}}class Ws extends se{get type(){return ze.File}}class Vs extends se{constructor(i){super({...i,mime:"httpd/unix-directory"})}get type(){return ze.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}function Gs(){var o;return $e()?"/files/".concat(Ms()):"/files/".concat((o=Ie())==null?void 0:o.uid)}const ar=Gs();function Zs(){const o=Lo("dav");return $e()?o.replace("remote.php","public.php"):o}const cr=Zs(),la=function(o=cr,i={}){const f=Ls(o,{headers:i});function x(v){f.setHeaders({...i,"X-Requested-With":"XMLHttpRequest",requesttoken:v!=null?v:""})}return po(x),x(go()),Ds().patch("fetch",(v,N)=>{const E=N.headers;return E!=null&&E.method&&(N.method=E.method,delete E.method),fetch(v,N)}),f},ha=(o,i="/",f=ar)=>{const x=new AbortController;return new Nt(async(v,N,E)=>{E(()=>x.abort());try{const d=(await o.getDirectoryContents("".concat(f).concat(i),{signal:x.signal,details:!0,data:qs(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(O=>O.filename!==i).map(O=>Hs(O,f));v(d)}catch(d){N(d)}})},Hs=function(o,i=ar,f=cr){var c,s;let x=(c=Ie())==null?void 0:c.uid;if($e())x=x!=null?x:"anonymous";else if(!x)throw new Error("No user id found");const v=o.props,N=zs(v==null?void 0:v.permissions),E=String((v==null?void 0:v["owner-id"])||x),d=v.fileid||0,O={id:d,source:"".concat(f).concat(o.filename),mtime:new Date(Date.parse(o.lastmod)),mime:o.mime||"application/octet-stream",size:(v==null?void 0:v.size)||Number.parseInt(v.getcontentlength||"0"),status:d<0?We.FAILED:void 0,permissions:N,owner:E,root:i,attributes:{...o,...v,hasPreview:v==null?void 0:v["has-preview"]}};return(s=O.attributes)==null||delete s.props,o.type==="file"?new Ws(O):new Vs(O)};var Mn,Un;(Mn=window._oc_config)==null||Mn.forbidden_filenames_characters,(Un=window._oc_config)!=null&&Un.blacklist_files_regex&&new RegExp(window._oc_config.blacklist_files_regex);const je=["B","KB","MB","GB","TB","PB"],Ce=["B","KiB","MiB","GiB","TiB","PiB"];function fa(o,i=!1,f=!1,x=!1){f=f&&!x,typeof o=="string"&&(o=Number(o));let v=o>0?Math.floor(Math.log(o)/Math.log(x?1e3:1024)):0;v=Math.min((f?Ce.length:je.length)-1,v);const N=f?Ce[v]:je[v];let E=(o/Math.pow(x?1e3:1024,v)).toFixed(1);return i===!0&&v===0?(E!=="0.0"?"< 1 ":"0 ")+(f?Ce[1]:je[1]):(v<2?E=parseFloat(E).toFixed(0):E=parseFloat(E).toLocaleString($n()),E+" "+N)}function Dn(o){return o instanceof Date?o.toISOString():String(o)}function Xs(o,i,f){i=i!=null?i:[N=>N],f=f!=null?f:[];const x=i.map((N,E)=>{var d;return((d=f[E])!=null?d:"asc")==="asc"?1:-1}),v=Intl.Collator([mo(),$n()],{numeric:!0,usage:"sort"});return[...o].sort((N,E)=>{for(const[d,O]of i.entries()){const c=v.compare(Dn(O(N)),Dn(O(E)));if(c!==0)return c*x[d]}return 0})}function pa(o,i={}){const f={sortingMode:"basename",sortingOrder:"asc",...i},x=E=>E.lastIndexOf(".")>0?E.slice(0,E.lastIndexOf(".")):E,v=[...f.sortFavoritesFirst?[E=>{var d;return((d=E.attributes)==null?void 0:d.favorite)!==1}]:[],...f.sortFoldersFirst?[E=>E.type!=="folder"]:[],...f.sortingMode!=="basename"?[E=>E[f.sortingMode]]:[],E=>{var d;return x(((d=E.attributes)==null?void 0:d.displayname)||E.basename)},E=>E.basename],N=[...f.sortFavoritesFirst?["asc"]:[],...f.sortFoldersFirst?["asc"]:[],...f.sortingMode==="mtime"?[f.sortingOrder==="asc"?"desc":"asc"]:[],...f.sortingMode!=="mtime"&&f.sortingMode!=="basename"?[f.sortingOrder]:[],f.sortingOrder,f.sortingOrder];return Xs(o,v,N)}var Ks={};(function(o){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",f=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",x="["+i+"]["+f+"]*",v=new RegExp("^"+x+"$"),N=function(d,O){const c=[];let s=O.exec(d);for(;s;){const h=[];h.startIndex=O.lastIndex-s[0].length;const a=s.length;for(let l=0;l<a;l++)h.push(s[l]);c.push(h),s=O.exec(d)}return c},E=function(d){const O=v.exec(d);return!(O===null||typeof O>"u")};o.isExist=function(d){return typeof d<"u"},o.isEmptyObject=function(d){return Object.keys(d).length===0},o.merge=function(d,O,c){if(O){const s=Object.keys(O),h=s.length;for(let a=0;a<h;a++)c==="strict"?d[s[a]]=[O[s[a]]]:d[s[a]]=O[s[a]]}},o.getValue=function(d){return o.isExist(d)?d:""},o.isName=E,o.getAllMatches=N,o.nameRegexp=x})(Ks),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const da=function(o){return Bs().registerEntry(o)};export{Nt as C,Ws as F,ia as H,Us as N,xt as P,sa as a,da as b,ar as c,la as d,ze as e,ua as f,ha as g,Hs as h,$e as i,ca as j,fa as k,aa as r,pa as s};
