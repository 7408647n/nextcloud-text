/*! third party licenses: js/vendor.LICENSE.txt */
var ao=Object.defineProperty;var co=(o,i,f)=>i in o?ao(o,i,{enumerable:!0,configurable:!0,writable:!0,value:f}):o[i]=f;var Tt=(o,i,f)=>co(o,typeof i!="symbol"?i+"":i,f);import{g as uo}from"./index.chunk5.mjs";import{p as te,l as Ie,c as lo,d as ho}from"./modulepreload-polyfill.chunk.mjs";import{aj as Pe,g as fo,p as It,Z as po,Y as Mn}from"./NcNoteCard-BLPU1den.chunk.mjs";import{c as ke,f as ne,a as Un,b as go,d as Wt,g as mo,i as vo,e as yo,h as wo,w as re,j as $n,k as zn,t as Re,l as Fe,m as Le,_ as oe,n as bo,o as Bn,p as Wn,q as xo,r as Eo,s as Ao,u as Oo,v as No,x as To,y as jo,z as _o,A as Co,B as So,C as Io,D as Po,E as ko}from"./es.string.replace.chunk.mjs";import{U as Ro}from"./index.chunk3.mjs";import{g as Qt}from"./index.chunk2.mjs";var Lt={},Fo=ke,Lo=ne,Do=function(o){if(Fo(o)==="Function")return Lo(o)},yn=Do,Mo=Un,Uo=go,$o=yn(yn.bind),zo=function(o,i){return Mo(o),i===void 0?o:Uo?$o(o,i):function(){return o.apply(i,arguments)}},Bo=ke,Vn=Array.isArray||function(o){return Bo(o)==="Array"},Wo=ne,Vo=Wt,qn=vo,qo=yo,Go=mo,Zo=wo,Gn=function(){},Zn=Go("Reflect","construct"),De=/^\s*(?:class|function)\b/,Ho=Wo(De.exec),Xo=!De.test(Gn),zt=function(o){if(!qn(o))return!1;try{return Zn(Gn,[],o),!0}catch{return!1}},Hn=function(o){if(!qn(o))return!1;switch(qo(o)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xo||!!Ho(De,Zo(o))}catch{return!0}};Hn.sham=!0;var Xn=!Zn||Vo(function(){var o;return zt(zt.call)||!zt(Object)||!zt(function(){o=!0})||o})?Hn:zt,wn=Vn,Ko=Xn,Qo=$n,Yo=re,Jo=Yo("species"),bn=Array,ti=function(o){var i;return wn(o)&&(i=o.constructor,Ko(i)&&(i===bn||wn(i.prototype))?i=void 0:Qo(i)&&(i=i[Jo],i===null&&(i=void 0))),i===void 0?bn:i},ei=ti,Kn=function(o,i){return new(ei(o))(i===0?0:i)},ni=zo,ri=ne,oi=zn,ii=Re,si=Fe,ai=Kn,xn=ri([].push),jt=function(o){var i=o===1,f=o===2,x=o===3,v=o===4,N=o===6,E=o===7,d=o===5||N;return function(O,c,s,h){for(var a=ii(O),l=oi(a),m=si(l),w=ni(c,s),T=0,k=h||ai,g=i?k(O,m):f||E?k(O,0):void 0,b,_;m>T;T++)if((d||T in l)&&(b=l[T],_=w(b,T,a),o))if(i)g[T]=_;else if(_)switch(o){case 3:return!0;case 5:return b;case 6:return T;case 2:xn(g,b)}else switch(o){case 4:return!1;case 7:xn(g,b)}return N?-1:x||v?v:g}},Qn={forEach:jt(0),map:jt(1),filter:jt(2),some:jt(3),every:jt(4),find:jt(5),findIndex:jt(6),filterReject:jt(7)},ci=Wt,ui=re,li=Le,hi=ui("species"),Me=function(o){return li>=51||!ci(function(){var i=[],f=i.constructor={};return f[hi]=function(){return{foo:1}},i[o](Boolean).foo!==1})},fi=oe,pi=Qn.map,di=Me,gi=di("map");fi({target:"Array",proto:!0,forced:!gi},{map:function(o){return pi(this,o,arguments.length>1?arguments[1]:void 0)}});var mi=Xn,vi=bo,yi=TypeError,wi=function(o){if(mi(o))return o;throw new yi(vi(o)+" is not a constructor")},En=Bn,bi=wi,xi=Wn,Ei=re,Ai=Ei("species"),Oi=function(o,i){var f=En(o).constructor,x;return f===void 0||xi(x=En(f)[Ai])?i:bi(x)},Oe=Ao,Yn=ne,Ni=xo,Ti=Bn,ji=Wn,_i=Oo,Ci=Oi,Si=No,Ii=To,An=jo,Pi=_o,On=Co,ki=Eo,Ri=Wt,Ft=ki.UNSUPPORTED_Y,Fi=4294967295,Li=Math.min,Ne=Yn([].push),Te=Yn("".slice),Di=!Ri(function(){var o=/(?:)/,i=o.exec;o.exec=function(){return i.apply(this,arguments)};var f="ab".split(o);return f.length!==2||f[0]!=="a"||f[1]!=="b"}),Nn="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Ni("split",function(o,i,f){var x="0".split(void 0,0).length?function(v,N){return v===void 0&&N===0?[]:Oe(i,this,v,N)}:i;return[function(v,N){var E=_i(this),d=ji(v)?void 0:Pi(v,o);return d?Oe(d,v,E,N):Oe(x,An(E),v,N)},function(v,N){var E=Ti(this),d=An(v);if(!Nn){var O=f(x,E,d,N,x!==i);if(O.done)return O.value}var c=Ci(E,RegExp),s=E.unicode,h=(E.ignoreCase?"i":"")+(E.multiline?"m":"")+(E.unicode?"u":"")+(Ft?"g":"y"),a=new c(Ft?"^(?:"+E.source+")":E,h),l=N===void 0?Fi:N>>>0;if(l===0)return[];if(d.length===0)return On(a,d)===null?[d]:[];for(var m=0,w=0,T=[];w<d.length;){a.lastIndex=Ft?0:w;var k=On(a,Ft?Te(d,w):d),g;if(k===null||(g=Li(Ii(a.lastIndex+(Ft?w:0)),d.length))===m)w=Si(d,w,s);else{if(Ne(T,Te(d,m,w)),T.length===l)return T;for(var b=1;b<=k.length-1;b++)if(Ne(T,k[b]),T.length===l)return T;w=m=g}}return Ne(T,Te(d,m)),T}]},Nn||!Di,Ft);var Mi=oe,Ui=Qn.filter,$i=Me,zi=$i("filter");Mi({target:"Array",proto:!0,forced:!zi},{filter:function(o){return Ui(this,o,arguments.length>1?arguments[1]:void 0)}});var Bi=Un,Wi=Re,Vi=zn,qi=Fe,Tn=TypeError,jn="Reduce of empty array with no initial value",_n=function(o){return function(i,f,x,v){var N=Wi(i),E=Vi(N),d=qi(N);if(Bi(f),d===0&&x<2)throw new Tn(jn);var O=o?d-1:0,c=o?-1:1;if(x<2)for(;;){if(O in E){v=E[O],O+=c;break}if(O+=c,o?O<0:d<=O)throw new Tn(jn)}for(;o?O>=0:d>O;O+=c)O in E&&(v=f(v,E[O],O,N));return v}},Gi={left:_n(!1),right:_n(!0)},Zi=Wt,Hi=function(o,i){var f=[][o];return!!f&&Zi(function(){f.call(null,i||function(){return 1},1)})},Xi=So,Ki=ke,Qi=Ki(Xi.process)==="process",Yi=oe,Ji=Gi.left,ts=Hi,Cn=Le,es=Qi,ns=!es&&Cn>79&&Cn<83,rs=ns||!ts("reduce");Yi({target:"Array",proto:!0,forced:rs},{reduce:function(o){var i=arguments.length;return Ji(this,o,i,i>1?arguments[1]:void 0)}});var os=TypeError,is=9007199254740991,ss=function(o){if(o>is)throw os("Maximum allowed index exceeded");return o},as=Io,cs=Po,us=ko,ls=function(o,i,f){as?cs.f(o,i,us(0,f)):o[i]=f},hs=oe,fs=Wt,ps=Vn,ds=$n,gs=Re,ms=Fe,Sn=ss,In=ls,vs=Kn,ys=Me,ws=re,bs=Le,Jn=ws("isConcatSpreadable"),xs=bs>=51||!fs(function(){var o=[];return o[Jn]=!1,o.concat()[0]!==o}),Es=function(o){if(!ds(o))return!1;var i=o[Jn];return i!==void 0?!!i:ps(o)},As=!xs||!ys("concat");hs({target:"Array",proto:!0,arity:1,forced:As},{concat:function(o){var i=gs(this),f=vs(i,0),x=0,v,N,E,d,O;for(v=-1,E=arguments.length;v<E;v++)if(O=v===-1?i:arguments[v],Es(O))for(d=ms(O),Sn(x+d),N=0;N<d;N++,x++)N in O&&In(f,x,O[N]);else Sn(x+1),In(f,x++,O);return f.length=x,f}}),Object.defineProperty(Lt,"__esModule",{value:!0});var Os=Lt.encodePath=Ns;Lt.basename=Ts,Lt.dirname=js,Lt.joinPaths=Se,Lt.isSamePath=_s;function Ns(o){return o&&o.split("/").map(encodeURIComponent).join("/")}function Ts(o){return o.replace(/\\/g,"/").replace(/.*\//,"")}function js(o){return o.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function Se(){for(var o=arguments.length,i=new Array(o),f=0;f<o;f++)i[f]=arguments[f];if(arguments.length<1)return"";var x=i.filter(function(s){return s.length>0});if(x.length<1)return"";var v=x[x.length-1],N=x[0].charAt(0)==="/",E=v.charAt(v.length-1)==="/",d=x.reduce(function(s,h){return s.concat(h.split("/"))},[]),O=!N,c=d.reduce(function(s,h){return h===""?s:O?(O=!1,s+h):s+"/"+h},"");return E?c+"/":c}function _s(o,i){var f=(o||"").split("/").filter(function(v){return v!=="."}),x=(i||"").split("/").filter(function(v){return v!=="."});return o=Se.apply(void 0,f),i=Se.apply(void 0,x),o===i}function _t(o,i,f){return i in o?Object.defineProperty(o,i,{value:f,enumerable:!0,configurable:!0,writable:!0}):o[i]=f,o}function Pn(o,i,f){Cs(o,i),i.set(o,f)}function Cs(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function ft(o,i){var f=tr(o,i,"get");return Ss(o,f)}function Ss(o,i){return i.get?i.get.call(o):i.value}function kn(o,i,f){var x=tr(o,i,"set");return Is(o,x,f),f}function tr(o,i,f){if(!i.has(o))throw new TypeError("attempted to "+f+" private field on non-instance");return i.get(o)}function Is(o,i,f){if(i.set)i.set.call(o,f);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=f}}var Ps=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",dt=new WeakMap,Bt=new WeakMap;class ie{constructor(i){var{executor:f=()=>{},internals:x=$e(),promise:v=new Promise((N,E)=>f(N,E,d=>{x.onCancelList.push(d)}))}=i;Pn(this,dt,{writable:!0,value:void 0}),Pn(this,Bt,{writable:!0,value:void 0}),_t(this,Ps,"CancelablePromise"),this.cancel=this.cancel.bind(this),kn(this,dt,x),kn(this,Bt,v||new Promise((N,E)=>f(N,E,d=>{x.onCancelList.push(d)})))}then(i,f){return ee(ft(this,Bt).then(Yt(i,ft(this,dt)),Yt(f,ft(this,dt))),ft(this,dt))}catch(i){return ee(ft(this,Bt).catch(Yt(i,ft(this,dt))),ft(this,dt))}finally(i,f){return f&&ft(this,dt).onCancelList.push(i),ee(ft(this,Bt).finally(Yt(()=>{if(i)return f&&(ft(this,dt).onCancelList=ft(this,dt).onCancelList.filter(x=>x!==i)),i()},ft(this,dt))),ft(this,dt))}cancel(){ft(this,dt).isCanceled=!0;var i=ft(this,dt).onCancelList;ft(this,dt).onCancelList=[];for(var f of i)if(typeof f=="function")try{f()}catch(x){console.error(x)}}isCanceled(){return ft(this,dt).isCanceled===!0}}class Nt extends ie{constructor(i){super({executor:i})}}_t(Nt,"all",function(o){return Jt(o,Promise.all(o))}),_t(Nt,"allSettled",function(o){return Jt(o,Promise.allSettled(o))}),_t(Nt,"any",function(o){return Jt(o,Promise.any(o))}),_t(Nt,"race",function(o){return Jt(o,Promise.race(o))}),_t(Nt,"resolve",function(o){return Rn(Promise.resolve(o))}),_t(Nt,"reject",function(o){return Rn(Promise.reject(o))}),_t(Nt,"isCancelable",Ue);function Rn(o){return ee(o,$e())}function Ue(o){return o instanceof Nt||o instanceof ie}function Yt(o,i){if(o)return f=>{if(!i.isCanceled){var x=o(f);return Ue(x)&&i.onCancelList.push(x.cancel),x}return f}}function ee(o,i){return new ie({internals:i,promise:o})}function Jt(o,i){var f=$e();return f.onCancelList.push(()=>{for(var x of o)Ue(x)&&x.cancel()}),new ie({internals:f,promise:i})}function $e(){return{isCanceled:!1,onCancelList:[]}}var je={},ks={2:o=>{function i(v,N,E){v instanceof RegExp&&(v=f(v,E)),N instanceof RegExp&&(N=f(N,E));var d=x(v,N,E);return d&&{start:d[0],end:d[1],pre:E.slice(0,d[0]),body:E.slice(d[0]+v.length,d[1]),post:E.slice(d[1]+N.length)}}function f(v,N){var E=N.match(v);return E?E[0]:null}function x(v,N,E){var d,O,c,s,h,a=E.indexOf(v),l=E.indexOf(N,a+1),m=a;if(a>=0&&l>0){for(d=[],c=E.length;m>=0&&!h;)m==a?(d.push(m),a=E.indexOf(v,m+1)):d.length==1?h=[d.pop(),l]:((O=d.pop())<c&&(c=O,s=l),l=E.indexOf(N,m+1)),m=a<l&&a>=0?a:l;d.length&&(h=[c,s])}return h}o.exports=i,i.range=x},101:function(o,i,f){var x;o=f.nmd(o),function(v){var N=(o&&o.exports,typeof Qt=="object"&&Qt);N.global!==N&&N.window;var E=function(h){this.message=h};(E.prototype=new Error).name="InvalidCharacterError";var d=function(h){throw new E(h)},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,s={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&d("The string to be encoded contains characters outside of the Latin1 range.");for(var a,l,m,w,T=h.length%3,k="",g=-1,b=h.length-T;++g<b;)a=h.charCodeAt(g)<<16,l=h.charCodeAt(++g)<<8,m=h.charCodeAt(++g),k+=O.charAt((w=a+l+m)>>18&63)+O.charAt(w>>12&63)+O.charAt(w>>6&63)+O.charAt(63&w);return T==2?(a=h.charCodeAt(g)<<8,l=h.charCodeAt(++g),k+=O.charAt((w=a+l)>>10)+O.charAt(w>>4&63)+O.charAt(w<<2&63)+"="):T==1&&(w=h.charCodeAt(g),k+=O.charAt(w>>2)+O.charAt(w<<4&63)+"=="),k},decode:function(h){var a=(h=String(h).replace(c,"")).length;a%4==0&&(a=(h=h.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(h))&&d("Invalid character: the string to be decoded is not correctly encoded.");for(var l,m,w=0,T="",k=-1;++k<a;)m=O.indexOf(h.charAt(k)),l=w%4?64*l+m:m,w++%4&&(T+=String.fromCharCode(255&l>>(-2*w&6)));return T},version:"1.0.0"};(x=(function(){return s}).call(i,f,i,o))===void 0||(o.exports=x)}()},172:(o,i)=>{i.d=function(f){if(!f)return 0;for(var x=(f=f.toString()).length,v=f.length;v--;){var N=f.charCodeAt(v);56320<=N&&N<=57343&&v--,127<N&&N<=2047?x++:2047<N&&N<=65535&&(x+=2)}return x}},526:o=>{var i={utf8:{stringToBytes:function(f){return i.bin.stringToBytes(unescape(encodeURIComponent(f)))},bytesToString:function(f){return decodeURIComponent(escape(i.bin.bytesToString(f)))}},bin:{stringToBytes:function(f){for(var x=[],v=0;v<f.length;v++)x.push(255&f.charCodeAt(v));return x},bytesToString:function(f){for(var x=[],v=0;v<f.length;v++)x.push(String.fromCharCode(f[v]));return x.join("")}}};o.exports=i},298:o=>{var i,f;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f={rotl:function(x,v){return x<<v|x>>>32-v},rotr:function(x,v){return x<<32-v|x>>>v},endian:function(x){if(x.constructor==Number)return 16711935&f.rotl(x,8)|4278255360&f.rotl(x,24);for(var v=0;v<x.length;v++)x[v]=f.endian(x[v]);return x},randomBytes:function(x){for(var v=[];x>0;x--)v.push(Math.floor(256*Math.random()));return v},bytesToWords:function(x){for(var v=[],N=0,E=0;N<x.length;N++,E+=8)v[E>>>5]|=x[N]<<24-E%32;return v},wordsToBytes:function(x){for(var v=[],N=0;N<32*x.length;N+=8)v.push(x[N>>>5]>>>24-N%32&255);return v},bytesToHex:function(x){for(var v=[],N=0;N<x.length;N++)v.push((x[N]>>>4).toString(16)),v.push((15&x[N]).toString(16));return v.join("")},hexToBytes:function(x){for(var v=[],N=0;N<x.length;N+=2)v.push(parseInt(x.substr(N,2),16));return v},bytesToBase64:function(x){for(var v=[],N=0;N<x.length;N+=3)for(var E=x[N]<<16|x[N+1]<<8|x[N+2],d=0;d<4;d++)8*N+6*d<=8*x.length?v.push(i.charAt(E>>>6*(3-d)&63)):v.push("=");return v.join("")},base64ToBytes:function(x){x=x.replace(/[^A-Z0-9+\/]/gi,"");for(var v=[],N=0,E=0;N<x.length;E=++N%4)E!=0&&v.push((i.indexOf(x.charAt(N-1))&Math.pow(2,-2*E+8)-1)<<2*E|i.indexOf(x.charAt(N))>>>6-2*E);return v}},o.exports=f},635:(o,i,f)=>{const x=f(31),v=f(338),N=f(221);o.exports={XMLParser:v,XMLValidator:x,XMLBuilder:N}},705:(o,i)=>{const f=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x="["+f+"]["+f+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",v=new RegExp("^"+x+"$");i.isExist=function(N){return N!==void 0},i.isEmptyObject=function(N){return Object.keys(N).length===0},i.merge=function(N,E,d){if(E){const O=Object.keys(E),c=O.length;for(let s=0;s<c;s++)N[O[s]]=d==="strict"?[E[O[s]]]:E[O[s]]}},i.getValue=function(N){return i.isExist(N)?N:""},i.isName=function(N){return v.exec(N)!=null},i.getAllMatches=function(N,E){const d=[];let O=E.exec(N);for(;O;){const c=[];c.startIndex=E.lastIndex-O[0].length;const s=O.length;for(let h=0;h<s;h++)c.push(O[h]);d.push(c),O=E.exec(N)}return d},i.nameRegexp=x},31:(o,i,f)=>{const x=f(705),v={allowBooleanAttributes:!1,unpairedTags:[]};function N(g){return g===" "||g==="	"||g==="\n"||g==="\r"}function E(g,b){const _=b;for(;b<g.length;b++)if(!(g[b]!="?"&&g[b]!=" ")){const y=g.substr(_,b-_);if(b>5&&y==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",T(g,b));if(g[b]=="?"&&g[b+1]==">"){b++;break}}return b}function d(g,b){if(g.length>b+5&&g[b+1]==="-"&&g[b+2]==="-"){for(b+=3;b<g.length;b++)if(g[b]==="-"&&g[b+1]==="-"&&g[b+2]===">"){b+=2;break}}else if(g.length>b+8&&g[b+1]==="D"&&g[b+2]==="O"&&g[b+3]==="C"&&g[b+4]==="T"&&g[b+5]==="Y"&&g[b+6]==="P"&&g[b+7]==="E"){let _=1;for(b+=8;b<g.length;b++)if(g[b]==="<")_++;else if(g[b]===">"&&(_--,_===0))break}else if(g.length>b+9&&g[b+1]==="["&&g[b+2]==="C"&&g[b+3]==="D"&&g[b+4]==="A"&&g[b+5]==="T"&&g[b+6]==="A"&&g[b+7]==="["){for(b+=8;b<g.length;b++)if(g[b]==="]"&&g[b+1]==="]"&&g[b+2]===">"){b+=2;break}}return b}i.validate=function(g,b){b=Object.assign({},v,b);const _=[];let y=!1,P=!1;g[0]==="\uFEFF"&&(g=g.substr(1));for(let S=0;S<g.length;S++)if(g[S]==="<"&&g[S+1]==="?"){if(S+=2,S=E(g,S),S.err)return S}else{if(g[S]!=="<"){if(N(g[S]))continue;return m("InvalidChar","char '"+g[S]+"' is not expected.",T(g,S))}{let L=S;if(S++,g[S]==="!"){S=d(g,S);continue}{let B=!1;g[S]==="/"&&(B=!0,S++);let M="";for(;S<g.length&&g[S]!==">"&&g[S]!==" "&&g[S]!=="	"&&g[S]!=="\n"&&g[S]!=="\r";S++)M+=g[S];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),S--),C=M,!x.isName(C)){let V;return V=M.trim().length===0?"Invalid space after '<'.":"Tag '"+M+"' is an invalid name.",m("InvalidTag",V,T(g,S))}const U=s(g,S);if(U===!1)return m("InvalidAttr","Attributes for '"+M+"' have open quote.",T(g,S));let R=U.value;if(S=U.index,R[R.length-1]==="/"){const V=S-R.length;R=R.substring(0,R.length-1);const J=a(R,b);if(J!==!0)return m(J.err.code,J.err.msg,T(g,V+J.err.line));y=!0}else if(B){if(!U.tagClosed)return m("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",T(g,S));if(R.trim().length>0)return m("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",T(g,L));{const V=_.pop();if(M!==V.tagName){let J=T(g,V.tagStartPos);return m("InvalidTag","Expected closing tag '"+V.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+M+"'.",T(g,L))}_.length==0&&(P=!0)}}else{const V=a(R,b);if(V!==!0)return m(V.err.code,V.err.msg,T(g,S-R.length+V.err.line));if(P===!0)return m("InvalidXml","Multiple possible root nodes found.",T(g,S));b.unpairedTags.indexOf(M)!==-1||_.push({tagName:M,tagStartPos:L}),y=!0}for(S++;S<g.length;S++)if(g[S]==="<"){if(g[S+1]==="!"){S++,S=d(g,S);continue}if(g[S+1]!=="?")break;if(S=E(g,++S),S.err)return S}else if(g[S]==="&"){const V=l(g,S);if(V==-1)return m("InvalidChar","char '&' is not expected.",T(g,S));S=V}else if(P===!0&&!N(g[S]))return m("InvalidXml","Extra text at the end",T(g,S));g[S]==="<"&&S--}}}var C;return y?_.length==1?m("InvalidTag","Unclosed tag '"+_[0].tagName+"'.",T(g,_[0].tagStartPos)):!(_.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(_.map(S=>S.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const O='"',c="'";function s(g,b){let _="",y="",P=!1;for(;b<g.length;b++){if(g[b]===O||g[b]===c)y===""?y=g[b]:y!==g[b]||(y="");else if(g[b]===">"&&y===""){P=!0;break}_+=g[b]}return y===""&&{value:_,index:b,tagClosed:P}}const h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function a(g,b){const _=x.getAllMatches(g,h),y={};for(let P=0;P<_.length;P++){if(_[P][1].length===0)return m("InvalidAttr","Attribute '"+_[P][2]+"' has no space in starting.",k(_[P]));if(_[P][3]!==void 0&&_[P][4]===void 0)return m("InvalidAttr","Attribute '"+_[P][2]+"' is without value.",k(_[P]));if(_[P][3]===void 0&&!b.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+_[P][2]+"' is not allowed.",k(_[P]));const C=_[P][2];if(!w(C))return m("InvalidAttr","Attribute '"+C+"' is an invalid name.",k(_[P]));if(y.hasOwnProperty(C))return m("InvalidAttr","Attribute '"+C+"' is repeated.",k(_[P]));y[C]=1}return!0}function l(g,b){if(g[++b]===";")return-1;if(g[b]==="#")return function(y,P){let C=/\d/;for(y[P]==="x"&&(P++,C=/[\da-fA-F]/);P<y.length;P++){if(y[P]===";")return P;if(!y[P].match(C))break}return-1}(g,++b);let _=0;for(;b<g.length;b++,_++)if(!(g[b].match(/\w/)&&_<20)){if(g[b]===";")break;return-1}return b}function m(g,b,_){return{err:{code:g,msg:b,line:_.line||_,col:_.col}}}function w(g){return x.isName(g)}function T(g,b){const _=g.substring(0,b).split(/\r?\n/);return{line:_.length,col:_[_.length-1].length+1}}function k(g){return g.startIndex+g[1].length}},221:(o,i,f)=>{const x=f(87),v={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(c,s){return s},attributeValueProcessor:function(c,s){return s},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function N(c){this.options=Object.assign({},v,c),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=O),this.processTextOrObjNode=E,this.options.format?(this.indentate=d,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function E(c,s,h){const a=this.j2x(c,h+1);return c[this.options.textNodeName]!==void 0&&Object.keys(c).length===1?this.buildTextValNode(c[this.options.textNodeName],s,a.attrStr,h):this.buildObjectNode(a.val,s,a.attrStr,h)}function d(c){return this.options.indentBy.repeat(c)}function O(c){return!(!c.startsWith(this.options.attributeNamePrefix)||c===this.options.textNodeName)&&c.substr(this.attrPrefixLen)}N.prototype.build=function(c){return this.options.preserveOrder?x(c,this.options):(Array.isArray(c)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(c={[this.options.arrayNodeName]:c}),this.j2x(c,0).val)},N.prototype.j2x=function(c,s){let h="",a="";for(let l in c)if(c[l]===void 0)this.isAttribute(l)&&(a+="");else if(c[l]===null)this.isAttribute(l)?a+="":l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar;else if(c[l]instanceof Date)a+=this.buildTextValNode(c[l],l,"",s);else if(typeof c[l]!="object"){const m=this.isAttribute(l);if(m)h+=this.buildAttrPairStr(m,""+c[l]);else if(l===this.options.textNodeName){let w=this.options.tagValueProcessor(l,""+c[l]);a+=this.replaceEntitiesValue(w)}else a+=this.buildTextValNode(c[l],l,"",s)}else if(Array.isArray(c[l])){const m=c[l].length;let w="";for(let T=0;T<m;T++){const k=c[l][T];k===void 0||(k===null?l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar:typeof k=="object"?this.options.oneListGroup?w+=this.j2x(k,s+1).val:w+=this.processTextOrObjNode(k,l,s):w+=this.buildTextValNode(k,l,"",s))}this.options.oneListGroup&&(w=this.buildObjectNode(w,l,"",s)),a+=w}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const m=Object.keys(c[l]),w=m.length;for(let T=0;T<w;T++)h+=this.buildAttrPairStr(m[T],""+c[l][m[T]])}else a+=this.processTextOrObjNode(c[l],l,s);return{attrStr:h,val:a}},N.prototype.buildAttrPairStr=function(c,s){return s=this.options.attributeValueProcessor(c,""+s),s=this.replaceEntitiesValue(s),this.options.suppressBooleanAttributes&&s==="true"?" "+c:" "+c+'="'+s+'"'},N.prototype.buildObjectNode=function(c,s,h,a){if(c==="")return s[0]==="?"?this.indentate(a)+"<"+s+h+"?"+this.tagEndChar:this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar;{let l="</"+s+this.tagEndChar,m="";return s[0]==="?"&&(m="?",l=""),!h&&h!==""||c.indexOf("<")!==-1?this.options.commentPropName!==!1&&s===this.options.commentPropName&&m.length===0?this.indentate(a)+"<!--".concat(c,"-->")+this.newLine:this.indentate(a)+"<"+s+h+m+this.tagEndChar+c+this.indentate(a)+l:this.indentate(a)+"<"+s+h+m+">"+c+l}},N.prototype.closeTag=function(c){let s="";return this.options.unpairedTags.indexOf(c)!==-1?this.options.suppressUnpairedNode||(s="/"):s=this.options.suppressEmptyNode?"/":"></".concat(c),s},N.prototype.buildTextValNode=function(c,s,h,a){if(this.options.cdataPropName!==!1&&s===this.options.cdataPropName)return this.indentate(a)+"<![CDATA[".concat(c,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&s===this.options.commentPropName)return this.indentate(a)+"<!--".concat(c,"-->")+this.newLine;if(s[0]==="?")return this.indentate(a)+"<"+s+h+"?"+this.tagEndChar;{let l=this.options.tagValueProcessor(s,c);return l=this.replaceEntitiesValue(l),l===""?this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar:this.indentate(a)+"<"+s+h+">"+l+"</"+s+this.tagEndChar}},N.prototype.replaceEntitiesValue=function(c){if(c&&c.length>0&&this.options.processEntities)for(let s=0;s<this.options.entities.length;s++){const h=this.options.entities[s];c=c.replace(h.regex,h.val)}return c},o.exports=N},87:o=>{function i(E,d,O,c){let s="",h=!1;for(let a=0;a<E.length;a++){const l=E[a],m=f(l);let w="";if(w=O.length===0?m:"".concat(O,".").concat(m),m===d.textNodeName){let _=l[m];v(w,d)||(_=d.tagValueProcessor(m,_),_=N(_,d)),h&&(s+=c),s+=_,h=!1;continue}if(m===d.cdataPropName){h&&(s+=c),s+="<![CDATA[".concat(l[m][0][d.textNodeName],"]]>"),h=!1;continue}if(m===d.commentPropName){s+=c+"<!--".concat(l[m][0][d.textNodeName],"-->"),h=!0;continue}if(m[0]==="?"){const _=x(l[":@"],d),y=m==="?xml"?"":c;let P=l[m][0][d.textNodeName];P=P.length!==0?" "+P:"",s+=y+"<".concat(m).concat(P).concat(_,"?>"),h=!0;continue}let T=c;T!==""&&(T+=d.indentBy);const k=x(l[":@"],d),g=c+"<".concat(m).concat(k),b=i(l[m],d,w,T);d.unpairedTags.indexOf(m)!==-1?d.suppressUnpairedNode?s+=g+">":s+=g+"/>":b&&b.length!==0||!d.suppressEmptyNode?b&&b.endsWith(">")?s+=g+">".concat(b).concat(c,"</").concat(m,">"):(s+=g+">",b&&c!==""&&(b.includes("/>")||b.includes("</"))?s+=c+d.indentBy+b+c:s+=b,s+="</".concat(m,">")):s+=g+"/>",h=!0}return s}function f(E){const d=Object.keys(E);for(let O=0;O<d.length;O++){const c=d[O];if(c!==":@")return c}}function x(E,d){let O="";if(E&&!d.ignoreAttributes)for(let c in E){let s=d.attributeValueProcessor(c,E[c]);s=N(s,d),s===!0&&d.suppressBooleanAttributes?O+=" ".concat(c.substr(d.attributeNamePrefix.length)):O+=" ".concat(c.substr(d.attributeNamePrefix.length),'="').concat(s,'"')}return O}function v(E,d){let O=(E=E.substr(0,E.length-d.textNodeName.length-1)).substr(E.lastIndexOf(".")+1);for(let c in d.stopNodes)if(d.stopNodes[c]===E||d.stopNodes[c]==="*."+O)return!0;return!1}function N(E,d){if(E&&E.length>0&&d.processEntities)for(let O=0;O<d.entities.length;O++){const c=d.entities[O];E=E.replace(c.regex,c.val)}return E}o.exports=function(E,d){let O="";return d.format&&d.indentBy.length>0&&(O="\n"),i(E,d,"",O)}},193:(o,i,f)=>{const x=f(705);function v(h,a){let l="";for(;a<h.length&&h[a]!=="'"&&h[a]!=='"';a++)l+=h[a];if(l=l.trim(),l.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=h[a++];let w="";for(;a<h.length&&h[a]!==m;a++)w+=h[a];return[l,w,a]}function N(h,a){return h[a+1]==="!"&&h[a+2]==="-"&&h[a+3]==="-"}function E(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="N"&&h[a+4]==="T"&&h[a+5]==="I"&&h[a+6]==="T"&&h[a+7]==="Y"}function d(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="L"&&h[a+4]==="E"&&h[a+5]==="M"&&h[a+6]==="E"&&h[a+7]==="N"&&h[a+8]==="T"}function O(h,a){return h[a+1]==="!"&&h[a+2]==="A"&&h[a+3]==="T"&&h[a+4]==="T"&&h[a+5]==="L"&&h[a+6]==="I"&&h[a+7]==="S"&&h[a+8]==="T"}function c(h,a){return h[a+1]==="!"&&h[a+2]==="N"&&h[a+3]==="O"&&h[a+4]==="T"&&h[a+5]==="A"&&h[a+6]==="T"&&h[a+7]==="I"&&h[a+8]==="O"&&h[a+9]==="N"}function s(h){if(x.isName(h))return h;throw new Error("Invalid entity name ".concat(h))}o.exports=function(h,a){const l={};if(h[a+3]!=="O"||h[a+4]!=="C"||h[a+5]!=="T"||h[a+6]!=="Y"||h[a+7]!=="P"||h[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let m=1,w=!1,T=!1,k="";for(;a<h.length;a++)if(h[a]!=="<"||T)if(h[a]===">"){if(T?h[a-1]==="-"&&h[a-2]==="-"&&(T=!1,m--):m--,m===0)break}else h[a]==="["?w=!0:k+=h[a];else{if(w&&E(h,a))a+=7,[entityName,val,a]=v(h,a+1),val.indexOf("&")===-1&&(l[s(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(w&&d(h,a))a+=8;else if(w&&O(h,a))a+=8;else if(w&&c(h,a))a+=9;else{if(!N)throw new Error("Invalid DOCTYPE");T=!0}m++,k=""}if(m!==0)throw new Error("Unclosed DOCTYPE")}return{entities:l,i:a}}},63:(o,i)=>{const f={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(x,v){return v},attributeValueProcessor:function(x,v){return v},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(x,v,N){return x}};i.buildOptions=function(x){return Object.assign({},f,x)},i.defaultOptions=f},299:(o,i,f)=>{const x=f(705),v=f(365),N=f(193),E=f(494);function d(y){const P=Object.keys(y);for(let C=0;C<P.length;C++){const S=P[C];this.lastEntities[S]={regex:new RegExp("&"+S+";","g"),val:y[S]}}}function O(y,P,C,S,L,B,M){if(y!==void 0&&(this.options.trimValues&&!S&&(y=y.trim()),y.length>0)){M||(y=this.replaceEntitiesValue(y));const U=this.options.tagValueProcessor(P,y,C,L,B);return U==null?y:typeof U!=typeof y||U!==y?U:this.options.trimValues||y.trim()===y?_(y,this.options.parseTagValue,this.options.numberParseOptions):y}}function c(y){if(this.options.removeNSPrefix){const P=y.split(":"),C=y.charAt(0)==="/"?"/":"";if(P[0]==="xmlns")return"";P.length===2&&(y=C+P[1])}return y}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,x.nameRegexp);const s=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(y,P,C){if(!this.options.ignoreAttributes&&typeof y=="string"){const S=x.getAllMatches(y,s),L=S.length,B={};for(let M=0;M<L;M++){const U=this.resolveNameSpace(S[M][1]);let R=S[M][4],V=this.options.attributeNamePrefix+U;if(U.length)if(this.options.transformAttributeName&&(V=this.options.transformAttributeName(V)),V==="__proto__"&&(V="#__proto__"),R!==void 0){this.options.trimValues&&(R=R.trim()),R=this.replaceEntitiesValue(R);const J=this.options.attributeValueProcessor(U,R,P);B[V]=J==null?R:typeof J!=typeof R||J!==R?J:_(R,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(B[V]=!0)}if(!Object.keys(B).length)return;if(this.options.attributesGroupName){const M={};return M[this.options.attributesGroupName]=B,M}return B}}const a=function(y){y=y.replace(/\r\n?/g,"\n");const P=new v("!xml");let C=P,S="",L="";for(let B=0;B<y.length;B++)if(y[B]==="<")if(y[B+1]==="/"){const M=k(y,">",B,"Closing Tag is not closed.");let U=y.substring(B+2,M).trim();if(this.options.removeNSPrefix){const J=U.indexOf(":");J!==-1&&(U=U.substr(J+1))}this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&(S=this.saveTextToParentTag(S,C,L));const R=L.substring(L.lastIndexOf(".")+1);if(U&&this.options.unpairedTags.indexOf(U)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(U,">"));let V=0;R&&this.options.unpairedTags.indexOf(R)!==-1?(V=L.lastIndexOf(".",L.lastIndexOf(".")-1),this.tagsNodeStack.pop()):V=L.lastIndexOf("."),L=L.substring(0,V),C=this.tagsNodeStack.pop(),S="",B=M}else if(y[B+1]==="?"){let M=g(y,B,!1,"?>");if(!M)throw new Error("Pi Tag is not closed.");if(S=this.saveTextToParentTag(S,C,L),!(this.options.ignoreDeclaration&&M.tagName==="?xml"||this.options.ignorePiTags)){const U=new v(M.tagName);U.add(this.options.textNodeName,""),M.tagName!==M.tagExp&&M.attrExpPresent&&(U[":@"]=this.buildAttributesMap(M.tagExp,L,M.tagName)),this.addChild(C,U,L)}B=M.closeIndex+1}else if(y.substr(B+1,3)==="!--"){const M=k(y,"-->",B+4,"Comment is not closed.");if(this.options.commentPropName){const U=y.substring(B+4,M-2);S=this.saveTextToParentTag(S,C,L),C.add(this.options.commentPropName,[{[this.options.textNodeName]:U}])}B=M}else if(y.substr(B+1,2)==="!D"){const M=N(y,B);this.docTypeEntities=M.entities,B=M.i}else if(y.substr(B+1,2)==="!["){const M=k(y,"]]>",B,"CDATA is not closed.")-2,U=y.substring(B+9,M);if(S=this.saveTextToParentTag(S,C,L),this.options.cdataPropName)C.add(this.options.cdataPropName,[{[this.options.textNodeName]:U}]);else{let R=this.parseTextData(U,C.tagname,L,!0,!1,!0);R==null&&(R=""),C.add(this.options.textNodeName,R)}B=M+2}else{let M=g(y,B,this.options.removeNSPrefix),U=M.tagName,R=M.tagExp,V=M.attrExpPresent,J=M.closeIndex;this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&S&&C.tagname!=="!xml"&&(S=this.saveTextToParentTag(S,C,L,!1));const ut=C;if(ut&&this.options.unpairedTags.indexOf(ut.tagname)!==-1&&(C=this.tagsNodeStack.pop(),L=L.substring(0,L.lastIndexOf("."))),U!==P.tagname&&(L+=L?"."+U:U),this.isItStopNode(this.options.stopNodes,L,U)){let Y="";if(R.length>0&&R.lastIndexOf("/")===R.length-1)B=M.closeIndex;else if(this.options.unpairedTags.indexOf(U)!==-1)B=M.closeIndex;else{const rt=this.readStopNodeData(y,U,J+1);if(!rt)throw new Error("Unexpected end of ".concat(U));B=rt.i,Y=rt.tagContent}const et=new v(U);U!==R&&V&&(et[":@"]=this.buildAttributesMap(R,L,U)),Y&&(Y=this.parseTextData(Y,U,L,!0,V,!0,!0)),L=L.substr(0,L.lastIndexOf(".")),et.add(this.options.textNodeName,Y),this.addChild(C,et,L)}else{if(R.length>0&&R.lastIndexOf("/")===R.length-1){U[U.length-1]==="/"?(U=U.substr(0,U.length-1),L=L.substr(0,L.length-1),R=U):R=R.substr(0,R.length-1),this.options.transformTagName&&(U=this.options.transformTagName(U));const Y=new v(U);U!==R&&V&&(Y[":@"]=this.buildAttributesMap(R,L,U)),this.addChild(C,Y,L),L=L.substr(0,L.lastIndexOf("."))}else{const Y=new v(U);this.tagsNodeStack.push(C),U!==R&&V&&(Y[":@"]=this.buildAttributesMap(R,L,U)),this.addChild(C,Y,L),C=Y}S="",B=J}}else S+=y[B];return P.child};function l(y,P,C){const S=this.options.updateTag(P.tagname,C,P[":@"]);S===!1||(typeof S=="string"&&(P.tagname=S),y.addChild(P))}const m=function(y){if(this.options.processEntities){for(let P in this.docTypeEntities){const C=this.docTypeEntities[P];y=y.replace(C.regx,C.val)}for(let P in this.lastEntities){const C=this.lastEntities[P];y=y.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let P in this.htmlEntities){const C=this.htmlEntities[P];y=y.replace(C.regex,C.val)}y=y.replace(this.ampEntity.regex,this.ampEntity.val)}return y};function w(y,P,C,S){return y&&(S===void 0&&(S=Object.keys(P.child).length===0),(y=this.parseTextData(y,P.tagname,C,!1,!!P[":@"]&&Object.keys(P[":@"]).length!==0,S))!==void 0&&y!==""&&P.add(this.options.textNodeName,y),y=""),y}function T(y,P,C){const S="*."+C;for(const L in y){const B=y[L];if(S===B||P===B)return!0}return!1}function k(y,P,C,S){const L=y.indexOf(P,C);if(L===-1)throw new Error(S);return L+P.length-1}function g(y,P,C){const S=function(V,J){let ut,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",et="";for(let rt=J;rt<V.length;rt++){let ct=V[rt];if(ut)ct===ut&&(ut="");else if(ct==='"'||ct==="'")ut=ct;else if(ct===Y[0]){if(!Y[1])return{data:et,index:rt};if(V[rt+1]===Y[1])return{data:et,index:rt}}else ct==="	"&&(ct=" ");et+=ct}}(y,P+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!S)return;let L=S.data;const B=S.index,M=L.search(/\s/);let U=L,R=!0;if(M!==-1&&(U=L.substr(0,M).replace(/\s\s*$/,""),L=L.substr(M+1)),C){const V=U.indexOf(":");V!==-1&&(U=U.substr(V+1),R=U!==S.data.substr(V+1))}return{tagName:U,tagExp:L,closeIndex:B,attrExpPresent:R}}function b(y,P,C){const S=C;let L=1;for(;C<y.length;C++)if(y[C]==="<")if(y[C+1]==="/"){const B=k(y,">",C,"".concat(P," is not closed"));if(y.substring(C+2,B).trim()===P&&(L--,L===0))return{tagContent:y.substring(S,C),i:B};C=B}else if(y[C+1]==="?")C=k(y,"?>",C+1,"StopNode is not closed.");else if(y.substr(C+1,3)==="!--")C=k(y,"-->",C+3,"StopNode is not closed.");else if(y.substr(C+1,2)==="![")C=k(y,"]]>",C,"StopNode is not closed.")-2;else{const B=g(y,C,">");B&&((B&&B.tagName)===P&&B.tagExp[B.tagExp.length-1]!=="/"&&L++,C=B.closeIndex)}}function _(y,P,C){if(P&&typeof y=="string"){const S=y.trim();return S==="true"||S!=="false"&&E(y,C)}return x.isExist(y)?y:""}o.exports=class{constructor(y){this.options=y,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=d,this.parseXml=a,this.parseTextData=O,this.resolveNameSpace=c,this.buildAttributesMap=h,this.isItStopNode=T,this.replaceEntitiesValue=m,this.readStopNodeData=b,this.saveTextToParentTag=w,this.addChild=l}}},338:(o,i,f)=>{const{buildOptions:x}=f(63),v=f(299),{prettify:N}=f(728),E=f(31);o.exports=class{constructor(d){this.externalEntities={},this.options=x(d)}parse(d,O){if(typeof d!="string"){if(!d.toString)throw new Error("XML data is accepted in String or Bytes[] form.");d=d.toString()}if(O){O===!0&&(O={});const h=E.validate(d,O);if(h!==!0)throw Error("".concat(h.err.msg,":").concat(h.err.line,":").concat(h.err.col))}const c=new v(this.options);c.addExternalEntities(this.externalEntities);const s=c.parseXml(d);return this.options.preserveOrder||s===void 0?s:N(s,this.options)}addEntity(d,O){if(O.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(d.indexOf("&")!==-1||d.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(O==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[d]=O}}},728:(o,i)=>{function f(E,d,O){let c;const s={};for(let h=0;h<E.length;h++){const a=E[h],l=x(a);let m="";if(m=O===void 0?l:O+"."+l,l===d.textNodeName)c===void 0?c=a[l]:c+=""+a[l];else{if(l===void 0)continue;if(a[l]){let w=f(a[l],d,m);const T=N(w,d);a[":@"]?v(w,a[":@"],m,d):Object.keys(w).length!==1||w[d.textNodeName]===void 0||d.alwaysCreateTextNode?Object.keys(w).length===0&&(d.alwaysCreateTextNode?w[d.textNodeName]="":w=""):w=w[d.textNodeName],s[l]!==void 0&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(w)):d.isArray(l,m,T)?s[l]=[w]:s[l]=w}}}return typeof c=="string"?c.length>0&&(s[d.textNodeName]=c):c!==void 0&&(s[d.textNodeName]=c),s}function x(E){const d=Object.keys(E);for(let O=0;O<d.length;O++){const c=d[O];if(c!==":@")return c}}function v(E,d,O,c){if(d){const s=Object.keys(d),h=s.length;for(let a=0;a<h;a++){const l=s[a];c.isArray(l,O+"."+l,!0,!0)?E[l]=[d[l]]:E[l]=d[l]}}}function N(E,d){const{textNodeName:O}=d,c=Object.keys(E).length;return c===0||!(c!==1||!E[O]&&typeof E[O]!="boolean"&&E[O]!==0)}i.prettify=function(E,d){return f(E,d)}},365:o=>{o.exports=class{constructor(i){this.tagname=i,this.child=[],this[":@"]={}}add(i,f){i==="__proto__"&&(i="#__proto__"),this.child.push({[i]:f})}addChild(i){i.tagname==="__proto__"&&(i.tagname="#__proto__"),i[":@"]&&Object.keys(i[":@"]).length>0?this.child.push({[i.tagname]:i.child,":@":i[":@"]}):this.child.push({[i.tagname]:i.child})}}},135:o=>{function i(f){return!!f.constructor&&typeof f.constructor.isBuffer=="function"&&f.constructor.isBuffer(f)}o.exports=function(f){return f!=null&&(i(f)||function(x){return typeof x.readFloatLE=="function"&&typeof x.slice=="function"&&i(x.slice(0,0))}(f)||!!f._isBuffer)}},542:(o,i,f)=>{var x,v,N,E,d;x=f(298),v=f(526).utf8,N=f(135),E=f(526).bin,(d=function(O,c){O.constructor==String?O=c&&c.encoding==="binary"?E.stringToBytes(O):v.stringToBytes(O):N(O)?O=Array.prototype.slice.call(O,0):Array.isArray(O)||O.constructor===Uint8Array||(O=O.toString());for(var s=x.bytesToWords(O),h=8*O.length,a=1732584193,l=-271733879,m=-1732584194,w=271733878,T=0;T<s.length;T++)s[T]=16711935&(s[T]<<8|s[T]>>>24)|4278255360&(s[T]<<24|s[T]>>>8);s[h>>>5]|=128<<h%32,s[14+(h+64>>>9<<4)]=h;var k=d._ff,g=d._gg,b=d._hh,_=d._ii;for(T=0;T<s.length;T+=16){var y=a,P=l,C=m,S=w;a=k(a,l,m,w,s[T+0],7,-680876936),w=k(w,a,l,m,s[T+1],12,-389564586),m=k(m,w,a,l,s[T+2],17,606105819),l=k(l,m,w,a,s[T+3],22,-1044525330),a=k(a,l,m,w,s[T+4],7,-176418897),w=k(w,a,l,m,s[T+5],12,1200080426),m=k(m,w,a,l,s[T+6],17,-1473231341),l=k(l,m,w,a,s[T+7],22,-45705983),a=k(a,l,m,w,s[T+8],7,1770035416),w=k(w,a,l,m,s[T+9],12,-1958414417),m=k(m,w,a,l,s[T+10],17,-42063),l=k(l,m,w,a,s[T+11],22,-1990404162),a=k(a,l,m,w,s[T+12],7,1804603682),w=k(w,a,l,m,s[T+13],12,-40341101),m=k(m,w,a,l,s[T+14],17,-1502002290),a=g(a,l=k(l,m,w,a,s[T+15],22,1236535329),m,w,s[T+1],5,-165796510),w=g(w,a,l,m,s[T+6],9,-1069501632),m=g(m,w,a,l,s[T+11],14,643717713),l=g(l,m,w,a,s[T+0],20,-373897302),a=g(a,l,m,w,s[T+5],5,-701558691),w=g(w,a,l,m,s[T+10],9,38016083),m=g(m,w,a,l,s[T+15],14,-660478335),l=g(l,m,w,a,s[T+4],20,-405537848),a=g(a,l,m,w,s[T+9],5,568446438),w=g(w,a,l,m,s[T+14],9,-1019803690),m=g(m,w,a,l,s[T+3],14,-187363961),l=g(l,m,w,a,s[T+8],20,1163531501),a=g(a,l,m,w,s[T+13],5,-1444681467),w=g(w,a,l,m,s[T+2],9,-51403784),m=g(m,w,a,l,s[T+7],14,1735328473),a=b(a,l=g(l,m,w,a,s[T+12],20,-1926607734),m,w,s[T+5],4,-378558),w=b(w,a,l,m,s[T+8],11,-2022574463),m=b(m,w,a,l,s[T+11],16,1839030562),l=b(l,m,w,a,s[T+14],23,-35309556),a=b(a,l,m,w,s[T+1],4,-1530992060),w=b(w,a,l,m,s[T+4],11,1272893353),m=b(m,w,a,l,s[T+7],16,-155497632),l=b(l,m,w,a,s[T+10],23,-1094730640),a=b(a,l,m,w,s[T+13],4,681279174),w=b(w,a,l,m,s[T+0],11,-358537222),m=b(m,w,a,l,s[T+3],16,-722521979),l=b(l,m,w,a,s[T+6],23,76029189),a=b(a,l,m,w,s[T+9],4,-640364487),w=b(w,a,l,m,s[T+12],11,-421815835),m=b(m,w,a,l,s[T+15],16,530742520),a=_(a,l=b(l,m,w,a,s[T+2],23,-995338651),m,w,s[T+0],6,-198630844),w=_(w,a,l,m,s[T+7],10,1126891415),m=_(m,w,a,l,s[T+14],15,-1416354905),l=_(l,m,w,a,s[T+5],21,-57434055),a=_(a,l,m,w,s[T+12],6,1700485571),w=_(w,a,l,m,s[T+3],10,-1894986606),m=_(m,w,a,l,s[T+10],15,-1051523),l=_(l,m,w,a,s[T+1],21,-2054922799),a=_(a,l,m,w,s[T+8],6,1873313359),w=_(w,a,l,m,s[T+15],10,-30611744),m=_(m,w,a,l,s[T+6],15,-1560198380),l=_(l,m,w,a,s[T+13],21,1309151649),a=_(a,l,m,w,s[T+4],6,-145523070),w=_(w,a,l,m,s[T+11],10,-1120210379),m=_(m,w,a,l,s[T+2],15,718787259),l=_(l,m,w,a,s[T+9],21,-343485551),a=a+y>>>0,l=l+P>>>0,m=m+C>>>0,w=w+S>>>0}return x.endian([a,l,m,w])})._ff=function(O,c,s,h,a,l,m){var w=O+(c&s|~c&h)+(a>>>0)+m;return(w<<l|w>>>32-l)+c},d._gg=function(O,c,s,h,a,l,m){var w=O+(c&h|s&~h)+(a>>>0)+m;return(w<<l|w>>>32-l)+c},d._hh=function(O,c,s,h,a,l,m){var w=O+(c^s^h)+(a>>>0)+m;return(w<<l|w>>>32-l)+c},d._ii=function(O,c,s,h,a,l,m){var w=O+(s^(c|~h))+(a>>>0)+m;return(w<<l|w>>>32-l)+c},d._blocksize=16,d._digestsize=16,o.exports=function(O,c){if(O==null)throw new Error("Illegal argument "+O);var s=x.wordsToBytes(d(O,c));return c&&c.asBytes?s:c&&c.asString?E.bytesToString(s):x.bytesToHex(s)}},285:(o,i,f)=>{var x=f(2);o.exports=function(k){return k?(k.substr(0,2)==="{}"&&(k="\\{\\}"+k.substr(2)),T(function(g){return g.split("\\\\").join(v).split("\\{").join(N).split("\\}").join(E).split("\\,").join(d).split("\\.").join(O)}(k),!0).map(s)):[]};var v="\0SLASH"+Math.random()+"\0",N="\0OPEN"+Math.random()+"\0",E="\0CLOSE"+Math.random()+"\0",d="\0COMMA"+Math.random()+"\0",O="\0PERIOD"+Math.random()+"\0";function c(k){return parseInt(k,10)==k?parseInt(k,10):k.charCodeAt(0)}function s(k){return k.split(v).join("\\").split(N).join("{").split(E).join("}").split(d).join(",").split(O).join(".")}function h(k){if(!k)return[""];var g=[],b=x("{","}",k);if(!b)return k.split(",");var _=b.pre,y=b.body,P=b.post,C=_.split(",");C[C.length-1]+="{"+y+"}";var S=h(P);return P.length&&(C[C.length-1]+=S.shift(),C.push.apply(C,S)),g.push.apply(g,C),g}function a(k){return"{"+k+"}"}function l(k){return/^-?0\d/.test(k)}function m(k,g){return k<=g}function w(k,g){return k>=g}function T(k,g){var b=[],_=x("{","}",k);if(!_)return[k];var y=_.pre,P=_.post.length?T(_.post,!1):[""];if(/\$$/.test(_.pre))for(var C=0;C<P.length;C++){var S=y+"{"+_.body+"}"+P[C];b.push(S)}else{var L,B,M=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(_.body),U=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(_.body),R=M||U,V=_.body.indexOf(",")>=0;if(!R&&!V)return _.post.match(/,.*\}/)?T(k=_.pre+"{"+_.body+E+_.post):[k];if(R)L=_.body.split(/\.\./);else if((L=h(_.body)).length===1&&(L=T(L[0],!1).map(a)).length===1)return P.map(function(ae){return _.pre+L[0]+ae});if(R){var J=c(L[0]),ut=c(L[1]),Y=Math.max(L[0].length,L[1].length),et=L.length==3?Math.abs(c(L[2])):1,rt=m;ut<J&&(et*=-1,rt=w);var ct=L.some(l);B=[];for(var vt=J;rt(vt,ut);vt+=et){var bt;if(U)(bt=String.fromCharCode(vt))==="\\"&&(bt="");else if(bt=String(vt),ct){var Vt=Y-bt.length;if(Vt>0){var Pt=new Array(Vt+1).join("0");bt=vt<0?"-"+Pt+bt.slice(1):Pt+bt}}B.push(bt)}}else{B=[];for(var At=0;At<L.length;At++)B.push.apply(B,T(L[At],!1))}for(At=0;At<B.length;At++)for(C=0;C<P.length;C++)S=y+B[At]+P[C],(!g||R||S)&&b.push(S)}return b}},829:o=>{function i(c){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(c)}function f(c){var s=typeof Map=="function"?new Map:void 0;return f=function(h){if(h===null||(a=h,Function.toString.call(a).indexOf("[native code]")===-1))return h;var a;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(h))return s.get(h);s.set(h,l)}function l(){return x(h,arguments,N(this).constructor)}return l.prototype=Object.create(h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),v(l,h)},f(c)}function x(c,s,h){return x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,l,m){var w=[null];w.push.apply(w,l);var T=new(Function.bind.apply(a,w));return m&&v(T,m.prototype),T},x.apply(null,arguments)}function v(c,s){return v=Object.setPrototypeOf||function(h,a){return h.__proto__=a,h},v(c,s)}function N(c){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},N(c)}var E=function(c){function s(h){var a;return function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),(a=function(l,m){return!m||i(m)!=="object"&&typeof m!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(l):m}(this,N(s).call(this,h))).name="ObjectPrototypeMutationError",a}return function(h,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(a&&a.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),a&&v(h,a)}(s,c),s}(f(Error));function d(c,s){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=s.split("."),l=a.length,m=function(k){var g=a[k];if(!c)return{v:void 0};if(g==="+"){if(Array.isArray(c))return{v:c.map(function(_,y){var P=a.slice(k+1);return P.length>0?d(_,P.join("."),h):h(c,y,a,k)})};var b=a.slice(0,k).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}c=h(c,g,a,k)},w=0;w<l;w++){var T=m(w);if(i(T)==="object")return T.v}return c}function O(c,s){return c.length===s+1}o.exports={set:function(c,s,h){if(i(c)!="object"||c===null||s===void 0)return c;if(typeof s=="number")return c[s]=h,c[s];try{return d(c,s,function(a,l,m,w){if(a===Reflect.getPrototypeOf({}))throw new E("Attempting to mutate Object.prototype");if(!a[l]){var T=Number.isInteger(Number(m[w+1])),k=m[w+1]==="+";a[l]=T||k?[]:{}}return O(m,w)&&(a[l]=h),a[l]})}catch(a){if(a instanceof E)throw a;return c}},get:function(c,s){if(i(c)!="object"||c===null||s===void 0)return c;if(typeof s=="number")return c[s];try{return d(c,s,function(h,a){return h[a]})}catch{return c}},has:function(c,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i(c)!="object"||c===null||s===void 0)return!1;if(typeof s=="number")return s in c;try{var a=!1;return d(c,s,function(l,m,w,T){if(!O(w,T))return l&&l[m];a=h.own?l.hasOwnProperty(m):m in l}),a}catch{return!1}},hasOwn:function(c,s,h){return this.has(c,s,h||{own:!0})},isIn:function(c,s,h){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(i(c)!="object"||c===null||s===void 0)return!1;try{var l=!1,m=!1;return d(c,s,function(w,T,k,g){return l=l||w===h||!!w&&w[T]===h,m=O(k,g)&&i(w)==="object"&&T in w,w&&w[T]}),a.validPath?l&&m:l}catch{return!1}},ObjectPrototypeMutationError:E}},47:(o,i,f)=>{var x=f(410),v=function(c){return typeof c=="string"};function N(c,s){for(var h=[],a=0;a<c.length;a++){var l=c[a];l&&l!=="."&&(l===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(l))}return h}var E=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,d={};function O(c){return E.exec(c).slice(1)}d.resolve=function(){for(var c="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var a=h>=0?arguments[h]:te.cwd();if(!v(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(c=a+"/"+c,s=a.charAt(0)==="/")}return(s?"/":"")+(c=N(c.split("/"),!s).join("/"))||"."},d.normalize=function(c){var s=d.isAbsolute(c),h=c.substr(-1)==="/";return(c=N(c.split("/"),!s).join("/"))||s||(c="."),c&&h&&(c+="/"),(s?"/":"")+c},d.isAbsolute=function(c){return c.charAt(0)==="/"},d.join=function(){for(var c="",s=0;s<arguments.length;s++){var h=arguments[s];if(!v(h))throw new TypeError("Arguments to path.join must be strings");h&&(c+=c?"/"+h:h)}return d.normalize(c)},d.relative=function(c,s){function h(g){for(var b=0;b<g.length&&g[b]==="";b++);for(var _=g.length-1;_>=0&&g[_]==="";_--);return b>_?[]:g.slice(b,_+1)}c=d.resolve(c).substr(1),s=d.resolve(s).substr(1);for(var a=h(c.split("/")),l=h(s.split("/")),m=Math.min(a.length,l.length),w=m,T=0;T<m;T++)if(a[T]!==l[T]){w=T;break}var k=[];for(T=w;T<a.length;T++)k.push("..");return(k=k.concat(l.slice(w))).join("/")},d._makeLong=function(c){return c},d.dirname=function(c){var s=O(c),h=s[0],a=s[1];return h||a?(a&&(a=a.substr(0,a.length-1)),h+a):"."},d.basename=function(c,s){var h=O(c)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},d.extname=function(c){return O(c)[3]},d.format=function(c){if(!x.isObject(c))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof c);var s=c.root||"";if(!v(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof c.root);return(c.dir?c.dir+d.sep:"")+(c.base||"")},d.parse=function(c){if(!v(c))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof c);var s=O(c);if(!s||s.length!==4)throw new TypeError("Invalid path '"+c+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},d.sep="/",d.delimiter=":",o.exports=d},647:(o,i)=>{var f=Object.prototype.hasOwnProperty;function x(N){try{return decodeURIComponent(N.replace(/\+/g," "))}catch{return null}}function v(N){try{return encodeURIComponent(N)}catch{return null}}i.stringify=function(N,E){E=E||"";var d,O,c=[];for(O in typeof E!="string"&&(E="?"),N)if(f.call(N,O)){if((d=N[O])||d!=null&&!isNaN(d)||(d=""),O=v(O),d=v(d),O===null||d===null)continue;c.push(O+"="+d)}return c.length?E+c.join("&"):""},i.parse=function(N){for(var E,d=/([^=?#&]+)=?([^&]*)/g,O={};E=d.exec(N);){var c=x(E[1]),s=x(E[2]);c===null||s===null||c in O||(O[c]=s)}return O}},670:o=>{o.exports=function(i,f){if(f=f.split(":")[0],!(i=+i))return!1;switch(f){case"http":case"ws":return i!==80;case"https":case"wss":return i!==443;case"ftp":return i!==21;case"gopher":return i!==70;case"file":return!1}return i!==0}},494:o=>{const i=/^[-+]?0x[a-fA-F0-9]+$/,f=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};o.exports=function(v){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(N=Object.assign({},x,N),!v||typeof v!="string")return v;let E=v.trim();if(N.skipLike!==void 0&&N.skipLike.test(E))return v;if(N.hex&&i.test(E))return Number.parseInt(E,16);{const O=f.exec(E);if(O){const c=O[1],s=O[2];let h=((d=O[3])&&d.indexOf(".")!==-1&&((d=d.replace(/0+$/,""))==="."?d="0":d[0]==="."?d="0"+d:d[d.length-1]==="."&&(d=d.substr(0,d.length-1))),d);const a=O[4]||O[6];if(!N.leadingZeros&&s.length>0&&c&&E[2]!=="."||!N.leadingZeros&&s.length>0&&!c&&E[1]!==".")return v;{const l=Number(E),m=""+l;return m.search(/[eE]/)!==-1||a?N.eNotation?l:v:E.indexOf(".")!==-1?m==="0"&&h===""||m===h||c&&m==="-"+h?l:v:s?h===m||c+h===m?l:v:E===m||E===c+m?l:v}}return v}var d}},737:(o,i,f)=>{var x=f(670),v=f(647),N=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,E=/[\n\r\t]/g,d=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,O=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(g){return(g||"").toString().replace(N,"")}var a=[["#","hash"],["?","query"],function(g,b){return w(b.protocol)?g.replace(/\\/g,"/"):g},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function m(g){var b,_=(typeof window<"u"?window:typeof Qt<"u"?Qt:typeof self<"u"?self:{}).location||{},y={},P=typeof(g=g||_);if(g.protocol==="blob:")y=new k(unescape(g.pathname),{});else if(P==="string")for(b in y=new k(g,{}),l)delete y[b];else if(P==="object"){for(b in g)b in l||(y[b]=g[b]);y.slashes===void 0&&(y.slashes=d.test(g.href))}return y}function w(g){return g==="file:"||g==="ftp:"||g==="http:"||g==="https:"||g==="ws:"||g==="wss:"}function T(g,b){g=(g=h(g)).replace(E,""),b=b||{};var _,y=c.exec(g),P=y[1]?y[1].toLowerCase():"",C=!!y[2],S=!!y[3],L=0;return C?S?(_=y[2]+y[3]+y[4],L=y[2].length+y[3].length):(_=y[2]+y[4],L=y[2].length):S?(_=y[3]+y[4],L=y[3].length):_=y[4],P==="file:"?L>=2&&(_=_.slice(2)):w(P)?_=y[4]:P?C&&(_=_.slice(2)):L>=2&&w(b.protocol)&&(_=y[4]),{protocol:P,slashes:C||w(P),slashesCount:L,rest:_}}function k(g,b,_){if(g=(g=h(g)).replace(E,""),!(this instanceof k))return new k(g,b,_);var y,P,C,S,L,B,M=a.slice(),U=typeof b,R=this,V=0;for(U!=="object"&&U!=="string"&&(_=b,b=null),_&&typeof _!="function"&&(_=v.parse),y=!(P=T(g||"",b=m(b))).protocol&&!P.slashes,R.slashes=P.slashes||y&&b.slashes,R.protocol=P.protocol||b.protocol||"",g=P.rest,(P.protocol==="file:"&&(P.slashesCount!==2||s.test(g))||!P.slashes&&(P.protocol||P.slashesCount<2||!w(R.protocol)))&&(M[3]=[/(.*)/,"pathname"]);V<M.length;V++)typeof(S=M[V])!="function"?(C=S[0],B=S[1],C!=C?R[B]=g:typeof C=="string"?~(L=C==="@"?g.lastIndexOf(C):g.indexOf(C))&&(typeof S[2]=="number"?(R[B]=g.slice(0,L),g=g.slice(L+S[2])):(R[B]=g.slice(L),g=g.slice(0,L))):(L=C.exec(g))&&(R[B]=L[1],g=g.slice(0,L.index)),R[B]=R[B]||y&&S[3]&&b[B]||"",S[4]&&(R[B]=R[B].toLowerCase())):g=S(g,R);_&&(R.query=_(R.query)),y&&b.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||b.pathname!=="")&&(R.pathname=function(J,ut){if(J==="")return ut;for(var Y=(ut||"/").split("/").slice(0,-1).concat(J.split("/")),et=Y.length,rt=Y[et-1],ct=!1,vt=0;et--;)Y[et]==="."?Y.splice(et,1):Y[et]===".."?(Y.splice(et,1),vt++):vt&&(et===0&&(ct=!0),Y.splice(et,1),vt--);return ct&&Y.unshift(""),rt!=="."&&rt!==".."||Y.push(""),Y.join("/")}(R.pathname,b.pathname)),R.pathname.charAt(0)!=="/"&&w(R.protocol)&&(R.pathname="/"+R.pathname),x(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(L=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,L),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(L+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&w(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}k.prototype={set:function(g,b,_){var y=this;switch(g){case"query":typeof b=="string"&&b.length&&(b=(_||v.parse)(b)),y[g]=b;break;case"port":y[g]=b,x(b,y.protocol)?b&&(y.host=y.hostname+":"+b):(y.host=y.hostname,y[g]="");break;case"hostname":y[g]=b,y.port&&(b+=":"+y.port),y.host=b;break;case"host":y[g]=b,O.test(b)?(b=b.split(":"),y.port=b.pop(),y.hostname=b.join(":")):(y.hostname=b,y.port="");break;case"protocol":y.protocol=b.toLowerCase(),y.slashes=!_;break;case"pathname":case"hash":if(b){var P=g==="pathname"?"/":"#";y[g]=b.charAt(0)!==P?P+b:b}else y[g]=b;break;case"username":case"password":y[g]=encodeURIComponent(b);break;case"auth":var C=b.indexOf(":");~C?(y.username=b.slice(0,C),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=b.slice(C+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(b))}for(var S=0;S<a.length;S++){var L=a[S];L[4]&&(y[L[1]]=y[L[1]].toLowerCase())}return y.auth=y.password?y.username+":"+y.password:y.username,y.origin=y.protocol!=="file:"&&w(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString(),y},toString:function(g){g&&typeof g=="function"||(g=v.stringify);var b,_=this,y=_.host,P=_.protocol;P&&P.charAt(P.length-1)!==":"&&(P+=":");var C=P+(_.protocol&&_.slashes||w(_.protocol)?"//":"");return _.username?(C+=_.username,_.password&&(C+=":"+_.password),C+="@"):_.password?(C+=":"+_.password,C+="@"):_.protocol!=="file:"&&w(_.protocol)&&!y&&_.pathname!=="/"&&(C+="@"),(y[y.length-1]===":"||O.test(_.hostname)&&!_.port)&&(y+=":"),C+=y+_.pathname,(b=typeof _.query=="object"?g(_.query):_.query)&&(C+=b.charAt(0)!=="?"?"?"+b:b),_.hash&&(C+=_.hash),C}},k.extractProtocol=T,k.location=m,k.trimLeft=h,k.qs=v,o.exports=k},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Fn={};function tt(o){var i=Fn[o];if(i!==void 0)return i.exports;var f=Fn[o]={id:o,loaded:!1,exports:{}};return ks[o].call(f.exports,f,f.exports,tt),f.loaded=!0,f.exports}tt.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return tt.d(i,{a:i}),i},tt.d=(o,i)=>{for(var f in i)tt.o(i,f)&&!tt.o(o,f)&&Object.defineProperty(o,f,{enumerable:!0,get:i[f]})},tt.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),tt.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var wt={};(()=>{tt.d(wt,{hT:()=>M,O4:()=>U,Kd:()=>L,YK:()=>B,UU:()=>io,Gu:()=>rt,ky:()=>on,h4:()=>Mt,ch:()=>Xt,hq:()=>St,i5:()=>sn});var o=tt(737),i=tt.n(o);function f(e){if(!x(e))throw new Error("Parameter was not an error")}function x(e){return t=e,Object.prototype.toString.call(t)==="[object Error]"||e instanceof Error;var t}class v extends Error{constructor(t,n){const r=[...arguments],{options:p,shortMessage:u}=function(j){let I,F="";if(j.length===0)I={};else if(x(j[0]))I={cause:j[0]},F=j.slice(1).join(" ")||"";else if(j[0]&&typeof j[0]=="object")I=Object.assign({},j[0]),F=j.slice(1).join(" ")||"";else{if(typeof j[0]!="string")throw new Error("Invalid arguments passed to Layerr");I={},F=F=j.join(" ")||""}return{options:I,shortMessage:F}}(r);let A=u;if(p.cause&&(A="".concat(A,": ").concat(p.cause.message)),super(A),this.message=A,p.name&&typeof p.name=="string"?this.name=p.name:this.name="Layerr",p.cause&&Object.defineProperty(this,"_cause",{value:p.cause}),Object.defineProperty(this,"_info",{value:{}}),p.info&&typeof p.info=="object"&&Object.assign(this._info,p.info),Error.captureStackTrace){const j=p.constructorOpt||this.constructor;Error.captureStackTrace(this,j)}}static cause(t){return f(t),t._cause&&x(t._cause)?t._cause:null}static fullStack(t){f(t);const n=v.cause(t);return n?"".concat(t.stack,"\ncaused by: ").concat(v.fullStack(n)):t.stack}static info(t){f(t);const n={},r=v.cause(t);return r&&Object.assign(n,v.info(r)),t._info&&Object.assign(n,t._info),n}cause(){return v.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var N=tt(47),E=tt.n(N);const d="__PATH_SEPARATOR_POSIX__",O="__PATH_SEPARATOR_WINDOWS__";function c(e){try{const t=e.replace(/\//g,d).replace(/\\\\/g,O);return encodeURIComponent(t).split(O).join("\\\\").split(d).join("/")}catch(t){throw new v(t,"Failed encoding path")}}function s(e){return e.startsWith("/")?e:"/"+e}function h(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function a(e){let t=new(i())(e).pathname;return t.length<=0&&(t="/"),h(t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var p=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var u=r.shift();r[0]=u+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var A=0;A<r.length;A++){var j=r[A];if(typeof j!="string")throw new TypeError("Url must be a string. Received "+j);j!==""&&(A>0&&(j=j.replace(/^[\/]+/,"")),j=A<r.length-1?j.replace(/[\/]+$/,""):j.replace(/[\/]+$/,"/"),p.push(j))}var I=p.join("/"),F=(I=I.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return F.shift()+(F.length>0?"?":"")+F.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,p,u)=>((u===0||p!=="/"||p==="/"&&r[r.length-1]!=="/")&&r.push(p),r),[]))}var m=tt(542),w=tt.n(m);const T="abcdef0123456789";function k(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),p=e.method?e.method.toUpperCase():"GET",u=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",A="00000000".concat(t.nc).slice(-8),j=function(Z,Q,q,$,z,H,X){const G=X||w()("".concat(Q,":").concat(q,":").concat($));return Z&&Z.toLowerCase()==="md5-sess"?w()("".concat(G,":").concat(z,":").concat(H)):G}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),I=w()("".concat(p,":").concat(r)),F=u?w()("".concat(j,":").concat(t.nonce,":").concat(A,":").concat(t.cnonce,":").concat(u,":").concat(I)):w()("".concat(j,":").concat(t.nonce,":").concat(I)),D={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:u,response:F,nc:A,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},W=[];for(const Z in D)D[Z]&&(Z==="qop"||Z==="nc"||Z==="algorithm"?W.push("".concat(Z,"=").concat(D[Z])):W.push("".concat(Z,'="').concat(D[Z],'"')));return"Digest ".concat(W.join(", "))}function g(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var b=tt(101),_=tt.n(b);function y(e){return _().decode(e)}function P(e,t){const n=(r="".concat(e,":").concat(t),_().encode(r));var r;return"Basic ".concat(n)}const C=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,S=C.fetch.bind(C),L=C.Request,B=C.Response;let M=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),U=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function R(e,t,n,r,p){switch(e.authType){case M.Auto:t&&n&&(e.headers.Authorization=P(t,n));break;case M.Digest:e.digest=function(A,j,I){return{username:A,password:j,ha1:I,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,p);break;case M.None:break;case M.Password:e.headers.Authorization=P(t,n);break;case M.Token:e.headers.Authorization="".concat((u=r).token_type," ").concat(u.access_token);break;default:throw new v({info:{code:U.InvalidAuthType}},"Invalid auth type: ".concat(e.authType))}var u}tt(345),tt(800);const V="@@HOTPATCHER",J=()=>{};function ut(e){return{original:e,methods:[e],final:!1}}class Y{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=V}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==V)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||J;for(var r=arguments.length,p=new Array(r>1?r-1:0),u=1;u<r;u++)p[u-1]=arguments[u];return n(...p)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,p=new Array(r),u=0;u<r;u++)p[u]=arguments[u];if(p.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var A=arguments.length,j=new Array(A),I=0;I<A;I++)j[I]=arguments[I];let F=j;const D=this;for(;p.length>0;)F=[p.shift().apply(D,F)];return F[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:p=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(p)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ut(n);else if(this.isPatched(t)){const{original:u}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ut(n),{original:u})}else this.configuration.registry[t]=ut(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,p=new Array(r>2?r-2:0),u=2;u<r;u++)p[u-2]=arguments[u];return this.execute(t,...p)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),p=1;p<n;p++)r[p-1]=arguments[p];return r.forEach(u=>{this.patch(t,u,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let et=null;function rt(){return et||(et=new Y),et}function ct(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,p=[...t];for(;p.length>0;){const u=p.shift();r=r?bt(r,u):ct(u)}return r}function bt(e,t){const n=ct(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?bt(n[r],t[r]):ct(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Vt(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Pt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((p,u)=>(Object.keys(u).forEach(A=>{const j=A.toLowerCase();r.hasOwnProperty(j)?p[r[j]]=u[A]:(r[j]=A,p[A]=u[A])}),p),{})}tt(805);const At=typeof ArrayBuffer=="function",{toString:ae}=Object.prototype;function qe(e){return At&&(e instanceof ArrayBuffer||ae.call(e)==="[object ArrayBuffer]")}function Ge(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function ue(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Ze=ce(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=vt(e,{headers:{Authorization:k(e,t)}})),ue(qt(e),function(n){let r=!1;return p=function(A){return r?A:n},(u=function(){if(n.status==401)return t.hasDigestAuth=function(A,j){if(!g(A))return!1;const I=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const F=A.headers&&A.headers.get("www-authenticate")||"",D=I.exec(F);if(!D)break;j[D[1]]=D[2]||D[3]}return j.nc+=1,j.cnonce=function(){let F="";for(let D=0;D<32;++D)F="".concat(F).concat(T[Math.floor(16*Math.random())]);return F}(),!0}(n,t),function(){if(t.hasDigestAuth)return ue(qt(e=vt(e,{headers:{Authorization:k(e,t)}})),function(A){return A.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,A})}();t.nc++}())&&u.then?u.then(p):p(u);var p,u})}),sr=ce(function(e,t){return ue(qt(e),function(n){return n.ok?(t.authType=M.Password,n):n.status==401&&g(n)?(t.authType=M.Digest,R(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Ze(e)):n})}),ot=ce(function(e,t){return t.authType===M.Auto?sr(e,t):e._digest?Ze(e):qt(e)});function it(e,t,n){const r=ct(e);return r.headers=Pt(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function qt(e){const t=rt();return t.patchInline("request",n=>t.patchInline("fetch",S,n.url,function(r){let p={};const u={method:r.method};if(r.headers&&(p=Pt(p,r.headers)),r.data!==void 0){const[A,j]=function(I){if(typeof I=="string")return[I,{}];if(Ge(I))return[I,{}];if(qe(I))return[I,{}];if(I&&typeof I=="object")return[JSON.stringify(I),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(typeof I))}(r.data);u.body=A,p=Pt(p,j)}return r.signal&&(u.signal=r.signal),r.withCredentials&&(u.credentials="include"),u.headers=p,u}(n)),e)}var ar=tt(285);const cr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Dt=e=>e.replace(/[[\]\\-]/g,"\\$&"),He=e=>e.join(""),ur=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],p=[];let u=n+1,A=!1,j=!1,I=!1,F=!1,D=n,W="";t:for(;u<e.length;){const $=e.charAt(u);if($!=="!"&&$!=="^"||u!==n+1){if($==="]"&&A&&!I){D=u+1;break}if(A=!0,$!=="\\"||I){if($==="["&&!I){for(const[z,[H,X,G]]of Object.entries(cr))if(e.startsWith(z,u)){if(W)return["$.",!1,e.length-n,!0];u+=z.length,G?p.push(H):r.push(H),j=j||X;continue t}}I=!1,W?($>W?r.push(Dt(W)+"-"+Dt($)):$===W&&r.push(Dt($)),W="",u++):e.startsWith("-]",u+1)?(r.push(Dt($+"-")),u+=2):e.startsWith("-",u+1)?(W=$,u+=2):(r.push(Dt($)),u++)}else I=!0,u++}else F=!0,u++}if(D<u)return["",!1,0,!1];if(!r.length&&!p.length)return["$.",!1,e.length-n,!0];if(p.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!F)return[(Z=r[0].length===2?r[0].slice(-1):r[0],Z.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,D-n,!1];var Z;const Q="["+(F?"^":"")+He(r)+"]",q="["+(F?"":"^")+He(p)+"]";return[r.length&&p.length?"("+Q+"|"+q+")":r.length?Q:q,j,D-n,!0]};function lt(e,t,n){var r;return(t=typeof(r=function(p,u){if(typeof p!="object"||!p)return p;var A=p[Symbol.toPrimitive];if(A!==void 0){var j=A.call(p,"string");if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(t))=="symbol"?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gt=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new Zt(t,n).match(e)},lr=gt,hr=/^\*+([^+@!?\*\[\(]*)$/,fr=e=>t=>!t.startsWith(".")&&t.endsWith(e),pr=e=>t=>t.endsWith(e),dr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),gr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),mr=/^\*+\.\*+$/,vr=e=>!e.startsWith(".")&&e.includes("."),yr=e=>e!=="."&&e!==".."&&e.includes("."),wr=/^\.\*+$/,br=e=>e!=="."&&e!==".."&&e.startsWith("."),xr=/^\*+$/,Er=e=>e.length!==0&&!e.startsWith("."),Ar=e=>e.length!==0&&e!=="."&&e!=="..",Or=/^\?+([^+@!?\*\[\(]*)?$/,Nr=e=>{let[t,n=""]=e;const r=Xe([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},Tr=e=>{let[t,n=""]=e;const r=Ke([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},jr=e=>{let[t,n=""]=e;const r=Ke([t]);return n?p=>r(p)&&p.endsWith(n):r},_r=e=>{let[t,n=""]=e;const r=Xe([t]);return n?p=>r(p)&&p.endsWith(n):r},Xe=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Ke=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},Qe=typeof te=="object"&&te?typeof je=="object"&&je&&je.__MINIMATCH_TESTING_PLATFORM__||te.platform:"posix";gt.sep=Qe==="win32"?"\\":"/";const yt=Symbol("globstar **");gt.GLOBSTAR=yt;const Ye={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},le="[^/]",he=le+"*?",Je=e=>e.split("").reduce((t,n)=>(t[n]=!0,t),{}),Cr=Je("().*{}+?[]^$\\!"),Sr=Je("[.(");gt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>gt(n,e,t)};const Et=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};gt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return gt;const t=gt;return Object.assign(function(n,r){return t(n,r,Et(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,Et(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(Et(e,n)).Minimatch}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,Et(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,Et(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,Et(e,r))},defaults:n=>t.defaults(Et(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,Et(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,Et(e,r))},match:function(n,r){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,Et(e,p))},sep:t.sep,GLOBSTAR:yt})};const tn=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:ar(e)};gt.braceExpand=tn;const Gt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};gt.makeRe=function(e){return new Zt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},gt.match=function(e,t){const n=new Zt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const en=/[?*]|[+@!]\(.*?\)|\[|\]/,nn=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Zt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lt(this,"options",void 0),lt(this,"set",void 0),lt(this,"pattern",void 0),lt(this,"windowsPathsNoEscape",void 0),lt(this,"nonegate",void 0),lt(this,"negate",void 0),lt(this,"comment",void 0),lt(this,"empty",void 0),lt(this,"preserveMultipleSlashes",void 0),lt(this,"partial",void 0),lt(this,"globSet",void 0),lt(this,"globParts",void 0),lt(this,"nocase",void 0),lt(this,"isWindows",void 0),lt(this,"platform",void 0),lt(this,"windowsNoMagicRoot",void 0),lt(this,"regexp",void 0),Gt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||Qe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(u=>this.slashSplit(u));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let p=this.globParts.map((u,A,j)=>{if(this.isWindows&&this.windowsNoMagicRoot){const I=!(u[0]!==""||u[1]!==""||u[2]!=="?"&&en.test(u[2])||en.test(u[3])),F=/^[a-z]:/i.test(u[0]);if(I)return[...u.slice(0,4),...u.slice(4).map(D=>this.parse(D))];if(F)return[u[0],...u.slice(1).map(D=>this.parse(D))]}return u.map(I=>this.parse(I))});if(this.debug(this.pattern,p),this.set=p.filter(u=>u.indexOf(!1)===-1),this.isWindows)for(let u=0;u<this.set.length;u++){const A=this.set[u];A[0]===""&&A[1]===""&&this.globParts[u][2]==="?"&&typeof A[3]=="string"&&/^[a-z]:$/i.test(A[3])&&(A[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let p=0;p<t[r].length;p++)t[r][p]==="**"&&(t[r][p]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let p=r;for(;n[p+1]==="**";)p++;p!==r&&n.splice(r,p-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,p)=>{const u=r[r.length-1];return p==="**"&&u==="**"?r:p===".."&&u&&u!==".."&&u!=="."&&u!=="**"?(r.pop(),r):(r.push(p),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let p=1;p<t.length-1;p++){const u=t[p];p===1&&u===""&&t[0]===""||u!=="."&&u!==""||(n=!0,t.splice(p,1),p--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const p=t[r-1];p&&p!=="."&&p!==".."&&p!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let p=-1;for(;(p=r.indexOf("**",p+1))!==-1;){let A=p;for(;r[A+1]==="**";)A++;A>p&&r.splice(p+1,A-p);let j=r[p+1];const I=r[p+2],F=r[p+3];if(j!==".."||!I||I==="."||I===".."||!F||F==="."||F==="..")continue;n=!0,r.splice(p,1);const D=r.slice(0);D[p]="**",t.push(D),p--}if(!this.preserveMultipleSlashes){for(let A=1;A<r.length-1;A++){const j=r[A];A===1&&j===""&&r[0]===""||j!=="."&&j!==""||(n=!0,r.splice(A,1),A--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let u=0;for(;(u=r.indexOf("..",u+1))!==-1;){const A=r[u-1];if(A&&A!=="."&&A!==".."&&A!=="**"){n=!0;const j=u===1&&r[u+1]==="**"?["."]:[];r.splice(u-1,2,...j),r.length===0&&r.push(""),u-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const p=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);p&&(t[n]=p,t[r]=[])}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=0,u=0,A=[],j="";for(;p<t.length&&u<n.length;)if(t[p]===n[u])A.push(j==="b"?n[u]:t[p]),p++,u++;else if(r&&t[p]==="**"&&n[u]===t[p+1])A.push(t[p]),p++;else if(r&&n[u]==="**"&&t[p]===n[u+1])A.push(n[u]),u++;else if(t[p]!=="*"||!n[u]||!this.options.dot&&n[u].startsWith(".")||n[u]==="**"){if(n[u]!=="*"||!t[p]||!this.options.dot&&t[p].startsWith(".")||t[p]==="**"||j==="a")return!1;j="b",A.push(n[u]),p++,u++}else{if(j==="b")return!1;j="a",A.push(t[p]),p++,u++}return t.length===n.length&&A}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let p=0;p<t.length&&t.charAt(p)==="!";p++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const p=this.options;if(this.isWindows){const $=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),z=n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3]);if($&&z){const H=t[3],X=n[3];H.toLowerCase()===X.toLowerCase()&&(t[3]=X)}else if(z&&typeof t[0]=="string"){const H=n[3],X=t[0];H.toLowerCase()===X.toLowerCase()&&(n[3]=X,n=n.slice(3))}else if($&&typeof n[0]=="string"){const H=t[3];H.toLowerCase()===n[0].toLowerCase()&&(n[0]=H,t=t.slice(3))}}const{optimizationLevel:u=1}=this.options;u>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var A=0,j=0,I=t.length,F=n.length;A<I&&j<F;A++,j++){this.debug("matchOne loop");var D=n[j],W=t[A];if(this.debug(n,D,W),D===!1)return!1;if(D===yt){this.debug("GLOBSTAR",[n,D,W]);var Z=A,Q=j+1;if(Q===F){for(this.debug("** at the end");A<I;A++)if(t[A]==="."||t[A]===".."||!p.dot&&t[A].charAt(0)===".")return!1;return!0}for(;Z<I;){var q=t[Z];if(this.debug("\nglobstar while",t,Z,n,Q,q),this.matchOne(t.slice(Z),n.slice(Q),r))return this.debug("globstar found match!",Z,I,q),!0;if(q==="."||q===".."||!p.dot&&q.charAt(0)==="."){this.debug("dot detected!",t,Z,n,Q);break}this.debug("globstar swallow a segment, and continue"),Z++}return!(!r||(this.debug("\n>>> no match, partial?",t,Z,n,Q),Z!==I))}let $;if(typeof D=="string"?($=W===D,this.debug("string match",D,W,$)):($=D.test(W),this.debug("pattern match",D,W,$)),!$)return!1}if(A===I&&j===F)return!0;if(A===I)return r;if(j===F)return A===I-1&&t[A]==="";throw new Error("wtf?")}braceExpand(){return tn(this.pattern,this.options)}parse(t){Gt(t);const n=this.options;if(t==="**")return yt;if(t==="")return"";let r,p=null;(r=t.match(xr))?p=n.dot?Ar:Er:(r=t.match(hr))?p=(n.nocase?n.dot?gr:dr:n.dot?pr:fr)(r[1]):(r=t.match(Or))?p=(n.nocase?n.dot?Tr:Nr:n.dot?jr:_r)(r):(r=t.match(mr))?p=n.dot?yr:vr:(r=t.match(wr))&&(p=br);let u="",A=!1,j=!1;const I=[],F=[];let D,W=!1,Z=!1,Q=t.charAt(0)===".",q=n.dot||Q;const $=G=>G.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",z=()=>{if(W){switch(W){case"*":u+=he,A=!0;break;case"?":u+=le,A=!0;break;default:u+="\\"+W}this.debug("clearStateChar %j %j",W,u),W=!1}};for(let G,K=0;K<t.length&&(G=t.charAt(K));K++)if(this.debug("%s	%s %s %j",t,K,u,G),j){if(G==="/")return!1;Cr[G]&&(u+="\\"),u+=G,j=!1}else switch(G){case"/":return!1;case"\\":z(),j=!0;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",t,K,u,G),this.debug("call clearStateChar %j",W),z(),W=G,n.noext&&z();continue;case"(":{if(!W){u+="\\(";continue}const nt={type:W,start:K-1,reStart:u.length,open:Ye[W].open,close:Ye[W].close};this.debug(this.pattern,"	",nt),I.push(nt),u+=nt.open,nt.start===0&&nt.type!=="!"&&(Q=!0,u+=$(t.slice(K+1))),this.debug("plType %j %j",W,u),W=!1;continue}case")":{const nt=I[I.length-1];if(!nt){u+="\\)";continue}I.pop(),z(),A=!0,D=nt,u+=D.close,D.type==="!"&&F.push(Object.assign(D,{reEnd:u.length}));continue}case"|":{const nt=I[I.length-1];if(!nt){u+="\\|";continue}z(),u+="|",nt.start===0&&nt.type!=="!"&&(Q=!0,u+=$(t.slice(K+1)));continue}case"[":z();const[pt,at,ht,$t]=ur(t,K);ht?(u+=pt,Z=Z||at,K+=ht-1,A=A||$t):u+="\\[";continue;case"]":u+="\\"+G;continue;default:z(),u+=nn(G)}for(D=I.pop();D;D=I.pop()){let G;G=u.slice(D.reStart+D.open.length),this.debug(this.pattern,"setting tail",u,D),G=G.replace(/((?:\\{2}){0,64})(\\?)\|/g,(pt,at,ht)=>(ht||(ht="\\"),at+at+ht+"|")),this.debug("tail=%j\n   %s",G,G,D,u);const K=D.type==="*"?he:D.type==="?"?le:"\\"+D.type;A=!0,u=u.slice(0,D.reStart)+K+"\\("+G}z(),j&&(u+="\\\\");const H=Sr[u.charAt(0)];for(let G=F.length-1;G>-1;G--){const K=F[G],pt=u.slice(0,K.reStart),at=u.slice(K.reStart,K.reEnd-8);let ht=u.slice(K.reEnd);const $t=u.slice(K.reEnd-8,K.reEnd)+ht,nt=pt.split(")").length,so=pt.split("(").length-nt;let Ae=ht;for(let vn=0;vn<so;vn++)Ae=Ae.replace(/\)[+*?]?/,"");ht=Ae,u=pt+at+ht+(ht===""?"(?:$|\\/)":"")+$t}if(u!==""&&A&&(u="(?=.)"+u),H&&(u=(Q?"":q?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+u),!n.nocase||A||n.nocaseMagicOnly||(A=t.toUpperCase()!==t.toLowerCase()),!A)return u.replace(/\\(.)/g,"$1");const X=(n.nocase?"i":"")+(Z?"u":"");try{const G=p?{_glob:t,_src:u,test:p}:{_glob:t,_src:u};return Object.assign(new RegExp("^"+u+"$",X),G)}catch(G){return this.debug("invalid regexp",G),new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?he:n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",p=n.nocase?"i":"";let u=t.map(A=>{const j=A.map(I=>typeof I=="string"?nn(I):I===yt?yt:I._src);return j.forEach((I,F)=>{const D=j[F+1],W=j[F-1];I===yt&&W!==yt&&(W===void 0?D!==void 0&&D!==yt?j[F+1]="(?:\\/|"+r+"\\/)?"+D:j[F]=r:D===void 0?j[F-1]=W+"(?:\\/|"+r+")?":D!==yt&&(j[F-1]=W+"(?:\\/|\\/"+r+"\\/)"+D,j[F+1]=yt))}),j.filter(I=>I!==yt).join("/")}).join("|");u="^(?:"+u+")$",this.negate&&(u="^(?!"+u+").*$");try{this.regexp=new RegExp(u,p)}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const p=this.slashSplit(t);this.debug(this.pattern,"split",p);const u=this.set;this.debug(this.pattern,"set",u);let A=p[p.length-1];if(!A)for(let j=p.length-2;!A&&j>=0;j--)A=p[j];for(let j=0;j<u.length;j++){const I=u[j];let F=p;if(r.matchBase&&I.length===1&&(F=[A]),this.matchOne(F,I,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return gt.defaults(t).Minimatch}}function fe(e){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(e.status," ").concat(e.statusText));return t.status=e.status,t.response=e,t}function st(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw fe(t);return t}function St(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Vt(e.headers):{},status:e.status,statusText:e.statusText}:t}gt.Minimatch=Zt,gt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},gt.unescape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};const Ir=(rn=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"COPY",headers:{Destination:l(e.remoteURL,c(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return A=function(j){st(e,j)},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(rn.apply(this,e))}catch(n){return Promise.reject(n)}});var rn,pe=tt(635),Pr=tt(829),Ot=tt.n(Pr),kt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(kt||{});function Ht(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kt.Original;const r=Ot().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Mt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const p={multistatus:Array.isArray(r)?r[0]:r};return Ot().set(p,"multistatus.response",Ht(p,"multistatus.response",kt.Array)),Ot().set(p,"multistatus.response",Ot().get(p,"multistatus.response").map(u=>function(A){const j=Object.assign({},A);return j.status?Ot().set(j,"status",Ht(j,"status",kt.Object)):(Ot().set(j,"propstat",Ht(j,"propstat",kt.Object)),Ot().set(j,"propstat.prop",Ht(j,"propstat.prop",kt.Object))),j}(u))),p}(new pe.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:p="0",resourcetype:u=null,getcontenttype:A=null,getetag:j=null}=e,I=u&&typeof u=="object"&&u.collection!==void 0?"directory":"file",F={filename:t,basename:E().basename(t),lastmod:r,size:parseInt(p,10),type:I,etag:typeof j=="string"?j.replace(/"/g,""):null};return I==="file"&&(F.mime=A&&typeof A=="string"?A.split(";")[0]:""),n&&(F.props=e),F}function on(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:p,status:u}}=r,[A,j,I]=u.split(" ",3),F=parseInt(j,10);if(F>=400){const D=new Error("Invalid response: ".concat(F," ").concat(I));throw D.status=F,D}return Xt(p,h(t),n)}function sn(e){switch(e.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(e,10)}}function de(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const ge=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,c(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return de(ot(p,e),function(u){return st(e,u),de(u.text(),function(A){return de(Mt(A),function(j){const I=on(j,t,r);return St(u,I,r)})})})});function an(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const kr=cn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(u){if(!u||u==="/")return[];let A=u;const j=[];do j.push(A),A=E().dirname(A);while(A&&A!=="/");return j}(h(t));r.sort((u,A)=>u.length>A.length?1:A.length>u.length?-1:0);let p=!1;return function(u,A,j){if(typeof u[ln]=="function"){let $=function(z){try{for(;!(I=W.next()).done;)if((z=A(I.value))&&z.then){if(!hn(z))return void z.then($,D||(D=mt.bind(null,F=new Rt,2)));z=z.v}F?mt(F,1,z):F=z}catch(H){mt(F||(F=new Rt),2,H)}};var I,F,D,W=u[ln]();if($(),W.return){var Z=function(z){try{I.done||W.return()}catch{}return z};if(F&&F.then)return F.then(Z,function(z){throw Z(z)});Z()}return F}if(!("length"in u))throw new TypeError("Object is not iterable");for(var Q=[],q=0;q<u.length;q++)Q.push(u[q]);return function($,z,H){var X,G,K=-1;return function pt(at){try{for(;++K<$.length&&(!H||!H());)if((at=z(K))&&at.then){if(!hn(at))return void at.then(pt,G||(G=mt.bind(null,X=new Rt,2)));at=at.v}X?mt(X,1,at):X=at}catch(ht){mt(X||(X=new Rt),2,ht)}}(),X}(Q,function($){return A(Q[$])},j)}(r,function(u){return A=function(){return function(I,F){try{var D=an(ge(e,u),function(W){if(W.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(W){return F(W)}return D&&D.then?D.then(void 0,F):D}(0,function(I){const F=I;return function(){if(F.status===404)return p=!0,un(me(e,u,{...n,recursive:!1}));throw I}()})},(j=function(){if(p)return un(me(e,u,{...n,recursive:!1}))}())&&j.then?j.then(A):A();var A,j},function(){return!1})});function cn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Rr(){}function un(e,t){if(!t)return e&&e.then?e.then(Rr):Promise.resolve()}const ln=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function mt(e,t,n){if(!e.s){if(n instanceof Rt){if(!n.s)return void(n.o=mt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(mt.bind(null,e,t),mt.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Rt=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,p=this.s;if(p){const u=1&p?t:n;if(u){try{mt(r,1,u(this.v))}catch(A){mt(r,2,A)}return r}return this}return this.o=function(u){try{const A=u.v;1&u.s?mt(r,1,t?t(A):A):n?mt(r,1,n(A)):mt(r,2,A)}catch(A){mt(r,2,A)}},r},e}();function hn(e){return e instanceof Rt&&1&e.s}const me=cn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return kr(e,t,n);const r=it({url:l(e.remoteURL,(p=c(t),p.endsWith("/")?p:p+"/")),method:"MKCOL"},e,n);var p;return an(ot(r,e),function(u){st(e,u)})});var Fr=tt(388),fn=tt.n(Fr);const Lr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let j="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(j="".concat(j).concat(n.range.end)),r.Range=j}const p=it({url:l(e.remoteURL,c(t)),method:"GET",headers:r},e,n);return A=function(j){if(st(e,j),r.Range&&j.status!==206){const I=new Error("Invalid response code for partial request: ".concat(j.status));throw I.status=j.status,I}return n.callback&&setTimeout(()=>{n.callback(j)},0),j.body},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A}),Dr=()=>{},Mr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=l(e.remoteURL,c(t)));const r=it(n,e,{});return u=function(A){return st(e,A),A},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u}),Ur=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"DELETE"},e,n);return u=function(A){st(e,A)},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u}),$r=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,p){try{var u=(A=ge(e,t,n),j=function(){return!0},I?j?j(A):A:(A&&A.then||(A=Promise.resolve(A)),j?A.then(j):A))}catch(F){return p(F)}var A,j,I;return u&&u.then?u.then(void 0,p):u}(0,function(r){if(r.status===404)return!1;throw r})});function ve(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const zr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return ve(ot(r,e),function(p){return st(e,p),ve(p.text(),function(u){if(!u)throw new Error("Failed parsing directory contents: Empty response");return ve(Mt(u),function(A){const j=s(t);let I=function(F,D,W){let Z=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Q=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const q=E().join(D,"/"),{multistatus:{response:$}}=F,z=$.map(H=>{const X=function(K){try{return K.replace(/^https?:\/\/[^\/]+/,"")}catch(pt){throw new v(pt,"Failed normalising HREF")}}(H.href),{propstat:{prop:G}}=H;return Xt(G,q==="/"?decodeURIComponent(h(X)):h(E().relative(decodeURIComponent(q),decodeURIComponent(X))),Z)});return Q?z:z.filter(H=>H.basename&&(H.type==="file"||H.filename!==W.replace(/\/$/,"")))}(A,s(e.remoteBasePath||e.remotePath),j,n.details,n.includeSelf);return n.glob&&(I=function(F,D){return F.filter(W=>lr(W.filename,D,{matchBase:!0}))}(I,n.glob)),St(p,I,n.details)})})})});function ye(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Br=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[qr]},e,n);return Kt(ot(r,e),function(p){return st(e,p),Kt(p.text(),function(u){return St(p,u,n.details)})})});function Kt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Wr=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"GET"},e,n);return Kt(ot(r,e),function(p){let u;return st(e,p),function(A,j){var I=A();return I&&I.then?I.then(j):j()}(function(){return Kt(p.arrayBuffer(),function(A){u=A})},function(){return St(p,u,n.details)})})}),Vr=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new v({info:{code:U.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?Br(e,t,n):Wr(e,t,n)}),qr=e=>e;function Gr(e){return new pe.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(pn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function pn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(t,":").concat(r)]=pn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(t,":").concat(r)]=n[r],delete n[r]));return n}function we(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function dn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Zr=dn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return we(ot(p,e),function(u){if(st(e,u),u.status!==204&&u.status!==200)throw fe(u)})}),Hr=dn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:p=Xr}=n,u={Accept:"text/plain,application/xml",Timeout:p};r&&(u.If=r);const A=it({url:l(e.remoteURL,c(t)),method:"LOCK",headers:u,data:Gr(e.contactHref)},e,n);return we(ot(A,e),function(j){return st(e,j),we(j.text(),function(I){const F=(Z=I,new pe.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(Z)),D=Ot().get(F,"prop.lockdiscovery.activelock.locktoken.href"),W=Ot().get(F,"prop.lockdiscovery.activelock.timeout");var Z;if(!D)throw fe(j,"No lock token received: ");return{token:D,serverTimeout:W}})})}),Xr="Infinite, Second-4100000000";function be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Kr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=it({url:l(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return be(ot(r,e),function(p){return st(e,p),be(p.text(),function(u){return be(Mt(u),function(A){const j=function(I){try{const[F]=I.multistatus.response,{propstat:{prop:{"quota-used-bytes":D,"quota-available-bytes":W}}}=F;return D!==void 0&&W!==void 0?{used:parseInt(D,10),available:sn(W)}:null}catch{}return null}(A);return St(p,j,t.details)})})})});function xe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Qr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,c(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return xe(ot(p,e),function(u){return st(e,u),xe(u.text(),function(A){return xe(Mt(A),function(j){const I=function(F,D,W){const Z={truncated:!1,results:[]};return Z.truncated=F.multistatus.response.some(Q=>{var q,$;return((q=(Q.status||(($=Q.propstat)===null||$===void 0?void 0:$.status)).split(" ",3))===null||q===void 0?void 0:q[1])==="507"&&Q.href.replace(/\/$/,"").endsWith(c(D).replace(/\/$/,""))}),F.multistatus.response.forEach(Q=>{if(Q.propstat===void 0)return;const q=Q.href.split("/").map(decodeURIComponent).join("/");Z.results.push(Xt(Q.propstat.prop,q,W))}),Z}(j,t,r);return St(u,I,r)})})})}),Yr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,c(t)),method:"MOVE",headers:{Destination:l(e.remoteURL,c(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return A=function(j){st(e,j)},(u=ot(p,e))&&u.then||(u=Promise.resolve(u)),A?u.then(A):u;var u,A});var Jr=tt(172);const to=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:p=!0,overwrite:u=!0}=r,A={"Content-Type":"application/octet-stream"};p===!1||(A["Content-Length"]="".concat(typeof p=="number"?p:function(D){if(qe(D))return D.byteLength;if(Ge(D))return D.length;if(typeof D=="string")return(0,Jr.d)(D);throw new v({info:{code:U.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),u||(A["If-None-Match"]="*");const j=it({url:l(e.remoteURL,c(t)),method:"PUT",headers:A,data:n},e,r);return F=function(D){try{st(e,D)}catch(W){const Z=W;if(Z.status!==412||u)throw Z;return!1}return!0},(I=ot(j,e))&&I.then||(I=Promise.resolve(I)),F?I.then(F):I;var I,F}),gn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,c(t)),method:"OPTIONS"},e,n);return u=function(A){var j,I;try{st(e,A)}catch(F){throw F}return{compliance:((j=A.headers.get("DAV"))!==null&&j!==void 0?j:"").split(",").map(F=>F.trim()),server:(I=A.headers.get("Server"))!==null&&I!==void 0?I:""}},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),u?p.then(u):p;var p,u});function Ut(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const eo=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const A={"Content-Type":"application/octet-stream","Content-Length":"".concat(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},j=it({url:l(e.remoteURL,c(t)),method:"PUT",headers:A,data:p},e,u);return Ut(ot(j,e),function(I){st(e,I)})});function mn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const no=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const A={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":"".concat(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},j=it({url:l(e.remoteURL,c(t)),method:"PATCH",headers:A,data:p},e,u);return Ut(ot(j,e),function(I){st(e,I)})});function Ee(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const ro=Ee(function(e,t,n,r,p){let u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Ut(gn(e,t,u),function(A){let j=!1;return mn(function(){if(A.compliance.includes("sabredav-partialupdate"))return Ut(no(e,t,n,r,p,u),function(I){return j=!0,I})},function(I){let F=!1;return j?I:mn(function(){if(A.server.includes("Apache")&&A.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ut(eo(e,t,n,r,p,u),function(D){return F=!0,D})},function(D){if(F)return D;throw new v({info:{code:U.NotSupported}},"Not supported")})})})}),oo="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function io(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:p=oo,ha1:u,headers:A={},httpAgent:j,httpsAgent:I,password:F,token:D,username:W,withCredentials:Z}=t;let Q=n;Q||(Q=W||F?M.Password:M.None);const q={authType:Q,remoteBasePath:r,contactHref:p,ha1:u,headers:Object.assign({},A),httpAgent:j,httpsAgent:I,password:F,remotePath:a(e),remoteURL:e,token:D,username:W,withCredentials:Z};return R(q,W,F,D,u),{copyFile:($,z,H)=>Ir(q,$,z,H),createDirectory:($,z)=>me(q,$,z),createReadStream:($,z)=>function(H,X){let G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const K=new(fn()).PassThrough;return Lr(H,X,G).then(pt=>{pt.pipe(K)}).catch(pt=>{K.emit("error",pt)}),K}(q,$,z),createWriteStream:($,z,H)=>function(X,G){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},pt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Dr;const at=new(fn()).PassThrough,ht={};K.overwrite===!1&&(ht["If-None-Match"]="*");const $t=it({url:l(X.remoteURL,c(G)),method:"PUT",headers:ht,data:at,maxRedirects:0},X,K);return ot($t,X).then(nt=>st(X,nt)).then(nt=>{setTimeout(()=>{pt(nt)},0)}).catch(nt=>{at.emit("error",nt)}),at}(q,$,z,H),customRequest:($,z)=>Mr(q,$,z),deleteFile:($,z)=>Ur(q,$,z),exists:($,z)=>$r(q,$,z),getDirectoryContents:($,z)=>zr(q,$,z),getFileContents:($,z)=>Vr(q,$,z),getFileDownloadLink:$=>function(z,H){let X=l(z.remoteURL,c(H));const G=/^https:/i.test(X)?"https":"http";switch(z.authType){case M.None:break;case M.Password:{const K=y(z.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(G,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(z.authType))}return X}(q,$),getFileUploadLink:$=>function(z,H){let X="".concat(l(z.remoteURL,c(H)),"?Content-Type=application/octet-stream");const G=/^https:/i.test(X)?"https":"http";switch(z.authType){case M.None:break;case M.Password:{const K=y(z.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(G,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(z.authType))}return X}(q,$),getHeaders:()=>Object.assign({},q.headers),getQuota:$=>Kr(q,$),lock:($,z)=>Hr(q,$,z),moveFile:($,z,H)=>Yr(q,$,z,H),putFileContents:($,z,H)=>to(q,$,z,H),partialUpdateFileContents:($,z,H,X,G)=>ro(q,$,z,H,X,G),getDAVCompliance:$=>gn(q,$),search:($,z)=>Qr(q,$,z),setHeaders:$=>{q.headers=Object.assign({},$)},stat:($,z)=>ge(q,$,z),unlock:($,z,H)=>Zr(q,$,z,H)}}})(),wt.hT,wt.O4,wt.Kd,wt.YK;var Rs=wt.UU,Fs=wt.Gu;wt.ky,wt.h4,wt.ch,wt.hq,wt.i5;const Ct=uo().setApp("@nextcloud/files").detectUser().build();var Ls=(o=>(o[o.UploadFromDevice=0]="UploadFromDevice",o[o.CreateNew=1]="CreateNew",o[o.Other=2]="Other",o))(Ls||{});class Ds{constructor(){Tt(this,"_entries",[])}registerEntry(i){var f;this.validateEntry(i),i.category=(f=i.category)!=null?f:1,this._entries.push(i)}unregisterEntry(i){const f=typeof i=="string"?this.getEntryIndex(i):this.getEntryIndex(i.id);if(f===-1){Ct.warn("Entry not found, nothing removed",{entry:i,entries:this.getEntries()});return}this._entries.splice(f,1)}getEntries(i){return i?this._entries.filter(f=>typeof f.enabled=="function"?f.enabled(i):!0):this._entries}getEntryIndex(i){return this._entries.findIndex(f=>f.id===i)}validateEntry(i){if(!i.id||!i.displayName||!(i.iconSvgInline||i.iconClass)||!i.handler)throw new Error("Invalid entry");if(typeof i.id!="string"||typeof i.displayName!="string")throw new Error("Invalid id or displayName property");if(i.iconClass&&typeof i.iconClass!="string"||i.iconSvgInline&&typeof i.iconSvgInline!="string")throw new Error("Invalid icon provided");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(typeof i.handler!="function")throw new Error("Invalid handler property");if("order"in i&&typeof i.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(i.id)!==-1)throw new Error("Duplicate entry")}}const Ms=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new Ds,Ct.debug("NewFileMenu initialized")),window._nc_newfilemenu};class ea{constructor(i){Tt(this,"_header");this.validateHeader(i),this._header=i}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(i){if(!i.id||!i.render||!i.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof i.id!="string")throw new Error("Invalid id property");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(i.render&&typeof i.render!="function")throw new Error("Invalid render property");if(i.updated&&typeof i.updated!="function")throw new Error("Invalid updated property")}}const na=function(o){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],Ct.debug("FileListHeaders initialized")),window._nc_filelistheader.find(i=>i.id===o.id)){Ct.error("Header ".concat(o.id," already registered"),{header:o});return}window._nc_filelistheader.push(o)};var xt=(o=>(o[o.NONE=0]="NONE",o[o.CREATE=4]="CREATE",o[o.READ=1]="READ",o[o.UPDATE=2]="UPDATE",o[o.DELETE=8]="DELETE",o[o.SHARE=16]="SHARE",o[o.ALL=31]="ALL",o))(xt||{});const er=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],nr={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},ra=function(o,i={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er],window._nc_dav_namespaces={...nr});const f={...window._nc_dav_namespaces,...i};if(window._nc_dav_properties.find(v=>v===o))return Ct.warn("".concat(o," already registered"),{prop:o}),!1;if(o.startsWith("<")||o.split(":").length!==2)return Ct.error("".concat(o," is not valid. See example: 'oc:fileid'"),{prop:o}),!1;const x=o.split(":")[0];return f[x]?(window._nc_dav_properties.push(o),window._nc_dav_namespaces=f,!0):(Ct.error("".concat(o," namespace unknown"),{prop:o,namespaces:f}),!1)},ze=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er]),window._nc_dav_properties.map(o=>"<".concat(o," />")).join(" ")},Be=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...nr}),Object.keys(window._nc_dav_namespaces).map(o=>{var i;return"xmlns:".concat(o,'="').concat((i=window._nc_dav_namespaces)==null?void 0:i[o],'"')}).join(" ")},oa=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(Be(),">\n			<d:prop>\n				").concat(ze(),"\n			</d:prop>\n		</d:propfind>")},Us=function(){return'<?xml version="1.0"?>\n		<oc:filter-files '.concat(Be(),">\n			<d:prop>\n				").concat(ze(),"\n			</d:prop>\n			<oc:filter-rules>\n				<oc:favorite>1</oc:favorite>\n			</oc:filter-rules>\n		</oc:filter-files>")},ia=function(o){var i;return'<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest '.concat(Be(),'\n	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n	<d:basicsearch>\n		<d:select>\n			<d:prop>\n				').concat(ze(),"\n			</d:prop>\n		</d:select>\n		<d:from>\n			<d:scope>\n				<d:href>/files/").concat((i=Ie())==null?void 0:i.uid,"/</d:href>\n				<d:depth>infinity</d:depth>\n			</d:scope>\n		</d:from>\n		<d:where>\n			<d:and>\n				<d:or>\n					<d:not>\n						<d:eq>\n							<d:prop>\n								<d:getcontenttype/>\n							</d:prop>\n							<d:literal>httpd/unix-directory</d:literal>\n						</d:eq>\n					</d:not>\n					<d:eq>\n						<d:prop>\n							<oc:size/>\n						</d:prop>\n						<d:literal>0</d:literal>\n					</d:eq>\n				</d:or>\n				<d:gt>\n					<d:prop>\n						<d:getlastmodified/>\n					</d:prop>\n					<d:literal>").concat(o,"</d:literal>\n				</d:gt>\n			</d:and>\n		</d:where>\n		<d:orderby>\n			<d:order>\n				<d:prop>\n					<d:getlastmodified/>\n				</d:prop>\n				<d:descending/>\n			</d:order>\n		</d:orderby>\n		<d:limit>\n			<d:nresults>100</d:nresults>\n			<ns:firstresult>0</ns:firstresult>\n		</d:limit>\n	</d:basicsearch>\n</d:searchrequest>")},$s=function(o=""){let i=xt.NONE;return o&&((o.includes("C")||o.includes("K"))&&(i|=xt.CREATE),o.includes("G")&&(i|=xt.READ),(o.includes("W")||o.includes("N")||o.includes("V"))&&(i|=xt.UPDATE),o.includes("D")&&(i|=xt.DELETE),o.includes("R")&&(i|=xt.SHARE)),i};var We=(o=>(o.Folder="folder",o.File="file",o))(We||{});const rr=function(o,i){return o.match(i)!==null},Ln=(o,i)=>{if(o.id&&typeof o.id!="number")throw new Error("Invalid id type of value");if(!o.source)throw new Error("Missing mandatory source");try{new URL(o.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!o.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(o.displayname&&typeof o.displayname!="string")throw new Error("Invalid displayname type");if(o.mtime&&!(o.mtime instanceof Date))throw new Error("Invalid mtime type");if(o.crtime&&!(o.crtime instanceof Date))throw new Error("Invalid crtime type");if(!o.mime||typeof o.mime!="string"||!o.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in o&&typeof o.size!="number"&&o.size!==void 0)throw new Error("Invalid size type");if("permissions"in o&&o.permissions!==void 0&&!(typeof o.permissions=="number"&&o.permissions>=xt.NONE&&o.permissions<=xt.ALL))throw new Error("Invalid permissions");if(o.owner&&o.owner!==null&&typeof o.owner!="string")throw new Error("Invalid owner type");if(o.attributes&&typeof o.attributes!="object")throw new Error("Invalid attributes type");if(o.root&&typeof o.root!="string")throw new Error("Invalid root type");if(o.root&&!o.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(o.root&&!o.source.includes(o.root))throw new Error("Root must be part of the source");if(o.root&&rr(o.source,i)){const f=o.source.match(i)[0];if(!o.source.includes(It.join(f,o.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(o.status&&!Object.values(Ve).includes(o.status))throw new Error("Status must be a valid NodeStatus")};var Ve=(o=>(o.NEW="new",o.FAILED="failed",o.LOADING="loading",o.LOCKED="locked",o))(Ve||{});class se{constructor(i,f){Tt(this,"_data");Tt(this,"_attributes");Tt(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);Tt(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(se.prototype)).filter(i=>typeof i[1].get=="function"&&i[0]!=="__proto__").map(i=>i[0]));Tt(this,"handler",{set:(i,f,x)=>this.readonlyAttributes.includes(f)?!1:Reflect.set(i,f,x),deleteProperty:(i,f)=>this.readonlyAttributes.includes(f)?!1:Reflect.deleteProperty(i,f),get:(i,f,x)=>this.readonlyAttributes.includes(f)?(Ct.warn('Accessing "Node.attributes.'.concat(f,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,f)):Reflect.get(i,f,x)});var x,v;Ln(i,f||this._knownDavService),this._data={displayname:(x=i.attributes)==null?void 0:x.displayname,...i,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update((v=i.attributes)!=null?v:{}),f&&(this._knownDavService=f)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:i}=new URL(this.source);return i+Os(this.source.slice(i.length))}get basename(){return It.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(i){this._data.displayname=i}get extension(){return It.extname(this.source)}get dirname(){if(this.root){let f=this.source;this.isDavRessource&&(f=f.split(this._knownDavService).pop());const x=f.indexOf(this.root),v=this.root.replace(/\/$/,"");return It.dirname(f.slice(x+v.length)||"/")}const i=new URL(this.source);return It.dirname(i.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(i){this._data.mtime=i}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(i){this.updateMtime(),this._data.size=i}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavRessource?xt.READ:this._data.permissions!==void 0?this._data.permissions:xt.NONE}set permissions(i){this.updateMtime(),this._data.permissions=i}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return rr(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&It.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let i=this.source;this.isDavRessource&&(i=i.split(this._knownDavService).pop());const f=i.indexOf(this.root),x=this.root.replace(/\/$/,"");return i.slice(f+x.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var i;return(i=this._data)==null?void 0:i.id}get status(){var i;return(i=this._data)==null?void 0:i.status}set status(i){this._data.status=i}move(i){Ln({...this._data,source:i},this._knownDavService);const f=this.basename;this._data.source=i,this.displayname===f&&this.basename!==f&&(this.displayname=this.basename),this.updateMtime()}rename(i){if(i.includes("/"))throw new Error("Invalid basename");this.move(It.dirname(this.source)+"/"+i)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(i){for(const[f,x]of Object.entries(i))try{x===void 0?delete this.attributes[f]:this.attributes[f]=x}catch(v){if(v instanceof TypeError)continue;throw v}}}class zs extends se{get type(){return We.File}}class Bs extends se{constructor(i){super({...i,mime:"httpd/unix-directory"})}get type(){return We.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}function Ws(){var o;return Pe()?"/files/".concat(fo()):"/files/".concat((o=Ie())==null?void 0:o.uid)}const or=Ws();function Vs(){const o=Ro("dav");return Pe()?o.replace("remote.php","public.php"):o}const ir=Vs(),sa=function(o=ir,i={}){const f=Rs(o,{headers:i});function x(v){f.setHeaders({...i,"X-Requested-With":"XMLHttpRequest",requesttoken:v!=null?v:""})}return lo(x),x(ho()),Fs().patch("fetch",(v,N)=>{const E=N.headers;return E!=null&&E.method&&(N.method=E.method,delete E.method),fetch(v,N)}),f},aa=(o,i="/",f=or)=>{const x=new AbortController;return new Nt(async(v,N,E)=>{E(()=>x.abort());try{const d=(await o.getDirectoryContents("".concat(f).concat(i),{signal:x.signal,details:!0,data:Us(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(O=>O.filename!==i).map(O=>qs(O,f));v(d)}catch(d){N(d)}})},qs=function(o,i=or,f=ir){var c,s;let x=(c=Ie())==null?void 0:c.uid;if(Pe())x=x!=null?x:"anonymous";else if(!x)throw new Error("No user id found");const v=o.props,N=$s(v==null?void 0:v.permissions),E=String((v==null?void 0:v["owner-id"])||x),d=v.fileid||0,O={id:d,source:"".concat(f).concat(o.filename),mtime:new Date(Date.parse(o.lastmod)),mime:o.mime||"application/octet-stream",displayname:v.displayname,size:(v==null?void 0:v.size)||Number.parseInt(v.getcontentlength||"0"),status:d<0?Ve.FAILED:void 0,permissions:N,owner:E,root:i,attributes:{...o,...v,hasPreview:v==null?void 0:v["has-preview"]}};return(s=O.attributes)==null||delete s.props,o.type==="file"?new zs(O):new Bs(O)},_e=["B","KB","MB","GB","TB","PB"],Ce=["B","KiB","MiB","GiB","TiB","PiB"];function ca(o,i=!1,f=!1,x=!1){f=f&&!x,typeof o=="string"&&(o=Number(o));let v=o>0?Math.floor(Math.log(o)/Math.log(x?1e3:1024)):0;v=Math.min((f?Ce.length:_e.length)-1,v);const N=f?Ce[v]:_e[v];let E=(o/Math.pow(x?1e3:1024,v)).toFixed(1);return i===!0&&v===0?(E!=="0.0"?"< 1 ":"0 ")+(f?Ce[1]:_e[1]):(v<2?E=parseFloat(E).toFixed(0):E=parseFloat(E).toLocaleString(Mn()),E+" "+N)}function Dn(o){return o instanceof Date?o.toISOString():String(o)}function Gs(o,i,f){i=i!=null?i:[N=>N],f=f!=null?f:[];const x=i.map((N,E)=>{var d;return((d=f[E])!=null?d:"asc")==="asc"?1:-1}),v=Intl.Collator([po(),Mn()],{numeric:!0,usage:"sort"});return[...o].sort((N,E)=>{for(const[d,O]of i.entries()){const c=v.compare(Dn(O(N)),Dn(O(E)));if(c!==0)return c*x[d]}return 0})}function ua(o,i={}){const f={sortingMode:"basename",sortingOrder:"asc",...i},x=E=>E.lastIndexOf(".")>0?E.slice(0,E.lastIndexOf(".")):E,v=[...f.sortFavoritesFirst?[E=>{var d;return((d=E.attributes)==null?void 0:d.favorite)!==1}]:[],...f.sortFoldersFirst?[E=>E.type!=="folder"]:[],...f.sortingMode!=="basename"?[E=>E[f.sortingMode]]:[],E=>{var d;return x(((d=E.attributes)==null?void 0:d.displayname)||E.basename)},E=>E.basename],N=[...f.sortFavoritesFirst?["asc"]:[],...f.sortFoldersFirst?["asc"]:[],...f.sortingMode==="mtime"?[f.sortingOrder==="asc"?"desc":"asc"]:[],...f.sortingMode!=="mtime"&&f.sortingMode!=="basename"?[f.sortingOrder]:[],f.sortingOrder,f.sortingOrder];return Gs(o,v,N)}var Zs={};(function(o){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",f=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",x="["+i+"]["+f+"]*",v=new RegExp("^"+x+"$"),N=function(d,O){const c=[];let s=O.exec(d);for(;s;){const h=[];h.startIndex=O.lastIndex-s[0].length;const a=s.length;for(let l=0;l<a;l++)h.push(s[l]);c.push(h),s=O.exec(d)}return c},E=function(d){const O=v.exec(d);return!(O===null||typeof O>"u")};o.isExist=function(d){return typeof d<"u"},o.isEmptyObject=function(d){return Object.keys(d).length===0},o.merge=function(d,O,c){if(O){const s=Object.keys(O),h=s.length;for(let a=0;a<h;a++)c==="strict"?d[s[a]]=[O[s[a]]]:d[s[a]]=O[s[a]]}},o.getValue=function(d){return o.isExist(d)?d:""},o.isName=E,o.getAllMatches=N,o.nameRegexp=x})(Zs),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const la=function(o){return Ms().registerEntry(o)};export{Nt as C,zs as F,ea as H,Ls as N,xt as P,na as a,la as b,or as c,sa as d,We as e,ia as f,aa as g,qs as h,oa as i,ca as j,ra as r,ua as s};
