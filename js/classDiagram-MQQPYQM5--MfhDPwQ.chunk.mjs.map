{"version":3,"file":"classDiagram-MQQPYQM5--MfhDPwQ.chunk.mjs","sources":["../node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-MQQPYQM5.mjs"],"sourcesContent":["import {\n  classDb_default,\n  classDiagram_default,\n  styles_default\n} from \"./chunk-IBIA4ERB.mjs\";\nimport {\n  utils_default\n} from \"./chunk-VKXSJROQ.mjs\";\nimport {\n  __name,\n  configureSvgSize,\n  getConfig2 as getConfig,\n  log,\n  parseGenericTypes\n} from \"./chunk-O2AGWWWV.mjs\";\n\n// src/diagrams/class/classRenderer.js\nimport { select } from \"d3\";\nimport { layout as dagreLayout } from \"dagre-d3-es/src/dagre/index.js\";\nimport * as graphlib from \"dagre-d3-es/src/graphlib/index.js\";\n\n// src/diagrams/class/svgDraw.js\nimport { line, curveBasis } from \"d3\";\nvar edgeCount = 0;\nvar drawEdge = /* @__PURE__ */ __name(function(elem, path, relation, conf, diagObj) {\n  const getRelationType = /* @__PURE__ */ __name(function(type) {\n    switch (type) {\n      case diagObj.db.relationType.AGGREGATION:\n        return \"aggregation\";\n      case diagObj.db.relationType.EXTENSION:\n        return \"extension\";\n      case diagObj.db.relationType.COMPOSITION:\n        return \"composition\";\n      case diagObj.db.relationType.DEPENDENCY:\n        return \"dependency\";\n      case diagObj.db.relationType.LOLLIPOP:\n        return \"lollipop\";\n    }\n  }, \"getRelationType\");\n  path.points = path.points.filter((p) => !Number.isNaN(p.y));\n  const lineData = path.points;\n  const lineFunction = line().x(function(d) {\n    return d.x;\n  }).y(function(d) {\n    return d.y;\n  }).curve(curveBasis);\n  const svgPath = elem.append(\"path\").attr(\"d\", lineFunction(lineData)).attr(\"id\", \"edge\" + edgeCount).attr(\"class\", \"relation\");\n  let url = \"\";\n  if (conf.arrowMarkerAbsolute) {\n    url = window.location.protocol + \"//\" + window.location.host + window.location.pathname + window.location.search;\n    url = url.replace(/\\(/g, \"\\\\(\");\n    url = url.replace(/\\)/g, \"\\\\)\");\n  }\n  if (relation.relation.lineType == 1) {\n    svgPath.attr(\"class\", \"relation dashed-line\");\n  }\n  if (relation.relation.lineType == 10) {\n    svgPath.attr(\"class\", \"relation dotted-line\");\n  }\n  if (relation.relation.type1 !== \"none\") {\n    svgPath.attr(\n      \"marker-start\",\n      \"url(\" + url + \"#\" + getRelationType(relation.relation.type1) + \"Start)\"\n    );\n  }\n  if (relation.relation.type2 !== \"none\") {\n    svgPath.attr(\n      \"marker-end\",\n      \"url(\" + url + \"#\" + getRelationType(relation.relation.type2) + \"End)\"\n    );\n  }\n  let x, y;\n  const l = path.points.length;\n  let labelPosition = utils_default.calcLabelPosition(path.points);\n  x = labelPosition.x;\n  y = labelPosition.y;\n  let p1_card_x, p1_card_y;\n  let p2_card_x, p2_card_y;\n  if (l % 2 !== 0 && l > 1) {\n    let cardinality_1_point = utils_default.calcCardinalityPosition(\n      relation.relation.type1 !== \"none\",\n      path.points,\n      path.points[0]\n    );\n    let cardinality_2_point = utils_default.calcCardinalityPosition(\n      relation.relation.type2 !== \"none\",\n      path.points,\n      path.points[l - 1]\n    );\n    log.debug(\"cardinality_1_point \" + JSON.stringify(cardinality_1_point));\n    log.debug(\"cardinality_2_point \" + JSON.stringify(cardinality_2_point));\n    p1_card_x = cardinality_1_point.x;\n    p1_card_y = cardinality_1_point.y;\n    p2_card_x = cardinality_2_point.x;\n    p2_card_y = cardinality_2_point.y;\n  }\n  if (relation.title !== void 0) {\n    const g = elem.append(\"g\").attr(\"class\", \"classLabel\");\n    const label = g.append(\"text\").attr(\"class\", \"label\").attr(\"x\", x).attr(\"y\", y).attr(\"fill\", \"red\").attr(\"text-anchor\", \"middle\").text(relation.title);\n    window.label = label;\n    const bounds = label.node().getBBox();\n    g.insert(\"rect\", \":first-child\").attr(\"class\", \"box\").attr(\"x\", bounds.x - conf.padding / 2).attr(\"y\", bounds.y - conf.padding / 2).attr(\"width\", bounds.width + conf.padding).attr(\"height\", bounds.height + conf.padding);\n  }\n  log.info(\"Rendering relation \" + JSON.stringify(relation));\n  if (relation.relationTitle1 !== void 0 && relation.relationTitle1 !== \"none\") {\n    const g = elem.append(\"g\").attr(\"class\", \"cardinality\");\n    g.append(\"text\").attr(\"class\", \"type1\").attr(\"x\", p1_card_x).attr(\"y\", p1_card_y).attr(\"fill\", \"black\").attr(\"font-size\", \"6\").text(relation.relationTitle1);\n  }\n  if (relation.relationTitle2 !== void 0 && relation.relationTitle2 !== \"none\") {\n    const g = elem.append(\"g\").attr(\"class\", \"cardinality\");\n    g.append(\"text\").attr(\"class\", \"type2\").attr(\"x\", p2_card_x).attr(\"y\", p2_card_y).attr(\"fill\", \"black\").attr(\"font-size\", \"6\").text(relation.relationTitle2);\n  }\n  edgeCount++;\n}, \"drawEdge\");\nvar drawClass = /* @__PURE__ */ __name(function(elem, classDef, conf, diagObj) {\n  log.debug(\"Rendering class \", classDef, conf);\n  const id = classDef.id;\n  const classInfo = {\n    id,\n    label: classDef.id,\n    width: 0,\n    height: 0\n  };\n  const g = elem.append(\"g\").attr(\"id\", diagObj.db.lookUpDomId(id)).attr(\"class\", \"classGroup\");\n  let title;\n  if (classDef.link) {\n    title = g.append(\"svg:a\").attr(\"xlink:href\", classDef.link).attr(\"target\", classDef.linkTarget).append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  } else {\n    title = g.append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  }\n  let isFirst = true;\n  classDef.annotations.forEach(function(member) {\n    const titleText2 = title.append(\"tspan\").text(\"\\xAB\" + member + \"\\xBB\");\n    if (!isFirst) {\n      titleText2.attr(\"dy\", conf.textHeight);\n    }\n    isFirst = false;\n  });\n  let classTitleString = getClassTitleString(classDef);\n  const classTitle = title.append(\"tspan\").text(classTitleString).attr(\"class\", \"title\");\n  if (!isFirst) {\n    classTitle.attr(\"dy\", conf.textHeight);\n  }\n  const titleHeight = title.node().getBBox().height;\n  let membersLine;\n  let membersBox;\n  let methodsLine;\n  if (classDef.members.length > 0) {\n    membersLine = g.append(\"line\").attr(\"x1\", 0).attr(\"y1\", conf.padding + titleHeight + conf.dividerMargin / 2).attr(\"y2\", conf.padding + titleHeight + conf.dividerMargin / 2);\n    const members = g.append(\"text\").attr(\"x\", conf.padding).attr(\"y\", titleHeight + conf.dividerMargin + conf.textHeight).attr(\"fill\", \"white\").attr(\"class\", \"classText\");\n    isFirst = true;\n    classDef.members.forEach(function(member) {\n      addTspan(members, member, isFirst, conf);\n      isFirst = false;\n    });\n    membersBox = members.node().getBBox();\n  }\n  if (classDef.methods.length > 0) {\n    methodsLine = g.append(\"line\").attr(\"x1\", 0).attr(\"y1\", conf.padding + titleHeight + conf.dividerMargin + membersBox.height).attr(\"y2\", conf.padding + titleHeight + conf.dividerMargin + membersBox.height);\n    const methods = g.append(\"text\").attr(\"x\", conf.padding).attr(\"y\", titleHeight + 2 * conf.dividerMargin + membersBox.height + conf.textHeight).attr(\"fill\", \"white\").attr(\"class\", \"classText\");\n    isFirst = true;\n    classDef.methods.forEach(function(method) {\n      addTspan(methods, method, isFirst, conf);\n      isFirst = false;\n    });\n  }\n  const classBox = g.node().getBBox();\n  var cssClassStr = \" \";\n  if (classDef.cssClasses.length > 0) {\n    cssClassStr = cssClassStr + classDef.cssClasses.join(\" \");\n  }\n  const rect = g.insert(\"rect\", \":first-child\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", classBox.width + 2 * conf.padding).attr(\"height\", classBox.height + conf.padding + 0.5 * conf.dividerMargin).attr(\"class\", cssClassStr);\n  const rectWidth = rect.node().getBBox().width;\n  title.node().childNodes.forEach(function(x) {\n    x.setAttribute(\"x\", (rectWidth - x.getBBox().width) / 2);\n  });\n  if (classDef.tooltip) {\n    title.insert(\"title\").text(classDef.tooltip);\n  }\n  if (membersLine) {\n    membersLine.attr(\"x2\", rectWidth);\n  }\n  if (methodsLine) {\n    methodsLine.attr(\"x2\", rectWidth);\n  }\n  classInfo.width = rectWidth;\n  classInfo.height = classBox.height + conf.padding + 0.5 * conf.dividerMargin;\n  return classInfo;\n}, \"drawClass\");\nvar getClassTitleString = /* @__PURE__ */ __name(function(classDef) {\n  let classTitleString = classDef.id;\n  if (classDef.type) {\n    classTitleString += \"<\" + parseGenericTypes(classDef.type) + \">\";\n  }\n  return classTitleString;\n}, \"getClassTitleString\");\nvar drawNote = /* @__PURE__ */ __name(function(elem, note, conf, _diagObj) {\n  log.debug(\"Rendering note \", note, conf);\n  const id = note.id;\n  const noteInfo = {\n    id,\n    text: note.text,\n    width: 0,\n    height: 0\n  };\n  const g = elem.append(\"g\").attr(\"id\", id).attr(\"class\", \"classGroup\");\n  let text = g.append(\"text\").attr(\"y\", conf.textHeight + conf.padding).attr(\"x\", 0);\n  const lines = JSON.parse(`\"${note.text}\"`).split(\"\\n\");\n  lines.forEach(function(line2) {\n    log.debug(`Adding line: ${line2}`);\n    text.append(\"tspan\").text(line2).attr(\"class\", \"title\").attr(\"dy\", conf.textHeight);\n  });\n  const noteBox = g.node().getBBox();\n  const rect = g.insert(\"rect\", \":first-child\").attr(\"x\", 0).attr(\"y\", 0).attr(\"width\", noteBox.width + 2 * conf.padding).attr(\n    \"height\",\n    noteBox.height + lines.length * conf.textHeight + conf.padding + 0.5 * conf.dividerMargin\n  );\n  const rectWidth = rect.node().getBBox().width;\n  text.node().childNodes.forEach(function(x) {\n    x.setAttribute(\"x\", (rectWidth - x.getBBox().width) / 2);\n  });\n  noteInfo.width = rectWidth;\n  noteInfo.height = noteBox.height + lines.length * conf.textHeight + conf.padding + 0.5 * conf.dividerMargin;\n  return noteInfo;\n}, \"drawNote\");\nvar addTspan = /* @__PURE__ */ __name(function(textEl, member, isFirst, conf) {\n  const { displayText, cssStyle } = member.getDisplayDetails();\n  const tSpan = textEl.append(\"tspan\").attr(\"x\", conf.padding).text(displayText);\n  if (cssStyle !== \"\") {\n    tSpan.attr(\"style\", member.cssStyle);\n  }\n  if (!isFirst) {\n    tSpan.attr(\"dy\", conf.textHeight);\n  }\n}, \"addTspan\");\nvar svgDraw_default = {\n  getClassTitleString,\n  drawClass,\n  drawEdge,\n  drawNote\n};\n\n// src/diagrams/class/classRenderer.js\nvar idCache = {};\nvar padding = 20;\nvar getGraphId = /* @__PURE__ */ __name(function(label) {\n  const foundEntry = Object.entries(idCache).find((entry) => entry[1].label === label);\n  if (foundEntry) {\n    return foundEntry[0];\n  }\n}, \"getGraphId\");\nvar insertMarkers = /* @__PURE__ */ __name(function(elem) {\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"extensionStart\").attr(\"class\", \"extension\").attr(\"refX\", 0).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,7 L18,13 V 1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"extensionEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 1,1 V 13 L18,7 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"compositionStart\").attr(\"class\", \"extension\").attr(\"refX\", 0).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"compositionEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"aggregationStart\").attr(\"class\", \"extension\").attr(\"refX\", 0).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"aggregationEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"dependencyStart\").attr(\"class\", \"extension\").attr(\"refX\", 0).attr(\"refY\", 7).attr(\"markerWidth\", 190).attr(\"markerHeight\", 240).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 5,7 L9,13 L1,7 L9,1 Z\");\n  elem.append(\"defs\").append(\"marker\").attr(\"id\", \"dependencyEnd\").attr(\"refX\", 19).attr(\"refY\", 7).attr(\"markerWidth\", 20).attr(\"markerHeight\", 28).attr(\"orient\", \"auto\").append(\"path\").attr(\"d\", \"M 18,7 L9,13 L14,7 L9,1 Z\");\n}, \"insertMarkers\");\nvar draw = /* @__PURE__ */ __name(function(text, id, _version, diagObj) {\n  const conf = getConfig().class;\n  idCache = {};\n  log.info(\"Rendering diagram \" + text);\n  const securityLevel = getConfig().securityLevel;\n  let sandboxElement;\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = select(\"#i\" + id);\n  }\n  const root = securityLevel === \"sandbox\" ? select(sandboxElement.nodes()[0].contentDocument.body) : select(\"body\");\n  const diagram2 = root.select(`[id='${id}']`);\n  insertMarkers(diagram2);\n  const g = new graphlib.Graph({\n    multigraph: true\n  });\n  g.setGraph({\n    isMultiGraph: true\n  });\n  g.setDefaultEdgeLabel(function() {\n    return {};\n  });\n  const classes = diagObj.db.getClasses();\n  const keys = [...classes.keys()];\n  for (const key of keys) {\n    const classDef = classes.get(key);\n    const node = svgDraw_default.drawClass(diagram2, classDef, conf, diagObj);\n    idCache[node.id] = node;\n    g.setNode(node.id, node);\n    log.info(\"Org height: \" + node.height);\n  }\n  const relations = diagObj.db.getRelations();\n  relations.forEach(function(relation) {\n    log.info(\n      // cspell:ignore tjoho\n      \"tjoho\" + getGraphId(relation.id1) + getGraphId(relation.id2) + JSON.stringify(relation)\n    );\n    g.setEdge(\n      getGraphId(relation.id1),\n      getGraphId(relation.id2),\n      {\n        relation\n      },\n      relation.title || \"DEFAULT\"\n    );\n  });\n  const notes = diagObj.db.getNotes();\n  notes.forEach(function(note) {\n    log.debug(`Adding note: ${JSON.stringify(note)}`);\n    const node = svgDraw_default.drawNote(diagram2, note, conf, diagObj);\n    idCache[node.id] = node;\n    g.setNode(node.id, node);\n    if (note.class && classes.has(note.class)) {\n      g.setEdge(\n        note.id,\n        getGraphId(note.class),\n        {\n          relation: {\n            id1: note.id,\n            id2: note.class,\n            relation: {\n              type1: \"none\",\n              type2: \"none\",\n              lineType: 10\n            }\n          }\n        },\n        \"DEFAULT\"\n      );\n    }\n  });\n  dagreLayout(g);\n  g.nodes().forEach(function(v) {\n    if (v !== void 0 && g.node(v) !== void 0) {\n      log.debug(\"Node \" + v + \": \" + JSON.stringify(g.node(v)));\n      root.select(\"#\" + (diagObj.db.lookUpDomId(v) || v)).attr(\n        \"transform\",\n        \"translate(\" + (g.node(v).x - g.node(v).width / 2) + \",\" + (g.node(v).y - g.node(v).height / 2) + \" )\"\n      );\n    }\n  });\n  g.edges().forEach(function(e) {\n    if (e !== void 0 && g.edge(e) !== void 0) {\n      log.debug(\"Edge \" + e.v + \" -> \" + e.w + \": \" + JSON.stringify(g.edge(e)));\n      svgDraw_default.drawEdge(diagram2, g.edge(e), g.edge(e).relation, conf, diagObj);\n    }\n  });\n  const svgBounds = diagram2.node().getBBox();\n  const width = svgBounds.width + padding * 2;\n  const height = svgBounds.height + padding * 2;\n  configureSvgSize(diagram2, height, width, conf.useMaxWidth);\n  const vBox = `${svgBounds.x - padding} ${svgBounds.y - padding} ${width} ${height}`;\n  log.debug(`viewBox ${vBox}`);\n  diagram2.attr(\"viewBox\", vBox);\n}, \"draw\");\nvar classRenderer_default = {\n  draw\n};\n\n// src/diagrams/class/classDiagram.ts\nvar diagram = {\n  parser: classDiagram_default,\n  db: classDb_default,\n  renderer: classRenderer_default,\n  styles: styles_default,\n  init: /* @__PURE__ */ __name((cnf) => {\n    if (!cnf.class) {\n      cnf.class = {};\n    }\n    cnf.class.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n    classDb_default.clear();\n  }, \"init\")\n};\nexport {\n  diagram\n};\n"],"names":["edgeCount","drawEdge","__name","elem","path","relation","conf","diagObj","getRelationType","type","p","lineData","lineFunction","line","d","curveBasis","svgPath","url","x","y","l","labelPosition","utils_default","p1_card_x","p1_card_y","p2_card_x","p2_card_y","cardinality_1_point","cardinality_2_point","log","g","label","bounds","drawClass","classDef","id","classInfo","title","isFirst","member","titleText2","classTitleString","getClassTitleString","classTitle","titleHeight","membersLine","membersBox","methodsLine","members","addTspan","methods","method","classBox","cssClassStr","rectWidth","parseGenericTypes","drawNote","note","_diagObj","noteInfo","text","lines","line2","noteBox","textEl","displayText","cssStyle","tSpan","svgDraw_default","idCache","padding","getGraphId","foundEntry","entry","insertMarkers","draw","_version","getConfig","securityLevel","sandboxElement","select","root","diagram2","graphlib.Graph","classes","keys","key","node","dagreLayout","v","svgBounds","width","height","configureSvgSize","vBox","classRenderer_default","diagram","classDiagram_default","classDb_default","styles_default","cnf"],"mappings":"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","x_google_ignoreList":[0]}