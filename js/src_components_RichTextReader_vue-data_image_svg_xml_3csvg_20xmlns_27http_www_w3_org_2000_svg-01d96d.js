/*! For license information please see src_components_RichTextReader_vue-data_image_svg_xml_3csvg_20xmlns_27http_www_w3_org_2000_svg-01d96d.js.LICENSE.txt */
"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["src_components_RichTextReader_vue-data_image_svg_xml_3csvg_20xmlns_27http_www_w3_org_2000_svg-01d96d","data_image_svg_xml_3csvg_20xmlns_27http_www_w3_org_2000_svg_27_20width_2724_27_20height_2724_-b2e651"],{95242:(t,e,n)=>{n.d(e,{B:()=>r,U:()=>o});let i=null;const o=t=>{i=t},r=()=>i},33528:(t,e,n)=>{n.d(e,{TI:()=>s,eS:()=>r,gn:()=>o,kZ:()=>a,qj:()=>l,uT:()=>i});const i=Symbol("state:uploading-state"),o=Symbol("editor:action:attachment-prompt"),r=Symbol("editor:action:upload-attachment"),a={inject:{$uploadingState:{from:i,default:{isUploadingAttachments:!1}}}},s={inject:{$callAttachmentPrompt:{from:o,default:()=>{}}}},l={inject:{$callChooseLocalAttachment:{from:r,default:()=>{}}}}},28612:(t,e,n)=>{n.d(e,{Ad:()=>a,Dr:()=>i,aM:()=>o,vV:()=>r});const i=Symbol("wrapper:outline-state"),o=Symbol("wrapper:outline-actions"),r={inject:{$outlineState:{from:i,default:{visible:!1,enable:!1}}}},a={inject:{$outlineActions:{from:o,default:{toggle:()=>{}}}}}},76115:(t,e,n)=>{n.d(e,{b:()=>w});var i=n(20296),o=n.n(i),r=n(31728),a=n(28612),s=n(72076),l=n(13815),d=n(93379),c=n.n(d),A=n(7795),p=n.n(A),u=n(90569),h=n.n(u),m=n(3565),C=n.n(m),v=n(19216),f=n.n(v),g=n(44589),b=n.n(g),x=n(97646),y={};y.styleTagTransform=b(),y.setAttributes=C(),y.insert=h().bind(null,"head"),y.domAPI=p(),y.insertStyleElement=f();c()(x.Z,y);x.Z&&x.Z.locals&&x.Z.locals;const w={mixins:[r.Cy,r.ww,l.Z,a.Ad,a.vV],props:{actionEntry:{type:Object,required:!0},canBeFocussed:{type:Boolean,default:null}},data(){return{state:(0,s.wr)(this.actionEntry,this.$editor)}},computed:{label(){const{label:t}=this.actionEntry;return"function"==typeof t?t(this):t},icon(){return this.actionEntry.icon},keyshortcuts(){return(0,s.FZ)(this.actionEntry)},tooltip(){return[this.label,(0,s.RR)(this.$isMobile,this.actionEntry)].join(" ")}},watch:{canBeFocussed(){this.setTabIndexOnButton()}},mounted(){this.$_updateState=o()(this.updateState.bind(this),50),this.$editor.on("update",this.$_updateState),this.$editor.on("selectionUpdate",this.$_updateState),this.$emit("disabled",this.state.disabled),this.setTabIndexOnButton()},beforeDestroy(){this.$editor.off("update",this.$_updateState),this.$editor.off("selectionUpdate",this.$_updateState)},methods:{updateState(){this.state=(0,s.wr)(this.actionEntry,this.$editor),this.$emit("disabled",this.state.disabled)},setTabIndexOnButton(){const t="button"===this.$el.tagName.toLowerCase()?this.$el:this.$el.querySelector("button");null===this.canBeFocussed?t.removeAttribute("tabindex"):t.setAttribute("tabindex",this.canBeFocussed?"0":"-1")},focusButton(){("button"===this.$el.tagName.toLowerCase()?this.$el:this.$el.querySelector("button")).focus()}}}},60948:(t,e,n)=>{n.d(e,{V:()=>i,q:()=>o});const i=Symbol("menu::id"),o={inject:{$menuID:{from:i,default:null}},computed:{menuIDSelector(){return"#".concat(this.$menuID)}}}},25381:(e,n,i)=>{i.d(n,{E:()=>N,Z:()=>H});var o=i(32318),r=i(76115),a=i(76640),s=i(60948);const l={name:"EmojiPickerAction",components:{NcEmojiPicker:a.Xo,NcButton:a.P2},extends:r.b,mixins:[s.q],methods:{addEmoji(t){let{id:e,native:n}=t;this.actionEntry.action(this.$editor.chain(),{id:e,native:n}).focus().run()}}};var d=i(51900);const c=(0,d.Z)(l,(function(){var t=this,e=t._self._c;return e("NcEmojiPicker",{staticClass:"entry-action entry-action__emoji",attrs:{"data-text-action-entry":t.actionEntry.key,container:t.menuIDSelector},on:{"select-data":t.addEmoji}},[e("div",[e("NcButton",{staticClass:"entry-action__button",attrs:{role:"menu",title:t.actionEntry.label,"aria-label":t.actionEntry.label},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{tag:"component"})]},proxy:!0}])})],1)])}),[],!1,null,null,null).exports;var A=i(31728),p=i(33528);const u={name:"ActionAttachmentUpload",components:{NcActions:a.O3,NcActionButton:a.Js,Loading:o.gb,Folder:o.gt,Upload:o.gq},extends:r.b,mixins:[A.fB,A.eP,p.TI,p.kZ,p.qj,s.q],computed:{icon(){return this.isUploadingAttachments?o.gb:this.actionEntry.icon},isUploadingAttachments(){return this.$uploadingState.isUploadingAttachments}}};const h=(0,d.Z)(u,(function(){var t=this,e=t._self._c;return e("NcActions",{staticClass:"entry-action entry-action__image-upload",attrs:{"data-text-action-entry":t.actionEntry.key,name:t.actionEntry.label,title:t.actionEntry.label,"aria-label":t.actionEntry.label,container:t.menuIDSelector},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{tag:"component",attrs:{name:t.actionEntry.label,"aria-label":t.actionEntry.label}})]},proxy:!0}])},[t._v(" "),t.$editorUpload?e("NcActionButton",{attrs:{"close-after-click":"",disabled:t.isUploadingAttachments,"data-text-action-entry":"".concat(t.actionEntry.key,"-upload")},on:{click:t.$callChooseLocalAttachment},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Upload")]},proxy:!0}],null,!1,933298848)},[t._v("\n\t\t"+t._s(t.t("text","Upload from computer"))+"\n\t")]):t._e(),t._v(" "),t.$isPublic?t._e():e("NcActionButton",{attrs:{"close-after-click":"",disabled:t.isUploadingAttachments,"data-text-action-entry":"".concat(t.actionEntry.key,"-insert")},on:{click:t.$callAttachmentPrompt},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Folder")]},proxy:!0}],null,!1,2750733237)},[t._v("\n\t\t"+t._s(t.t("text","Insert from Files"))+"\n\t")])],1)}),[],!1,null,null,null).exports;var m=i(78652),C=i(64024),v=i(73845),f=i(94091);const g={name:"ActionInsertLink",components:{NcActions:a.O3,NcActionButton:a.Js,NcActionInput:a.Iw,Document:o.BB,Loading:o.gb,LinkOff:o.pR,Web:o.ph,Shape:o.bn},extends:r.b,mixins:[A.a_,s.q],data:()=>({href:"",isInputMode:!1,startPath:null,menuOpen:!1}),computed:{activeClass(){return this.state.active?"is-active":""},relativePath(){var t,e;return null!==(t=null===(e=this.$file)||void 0===e?void 0:e.relativePath)&&void 0!==t?t:"/"}},methods:{linkFile(){null===this.startPath&&(this.startPath=this.relativePath.split("/").slice(0,-1).join("/"));(0,C.fn)(t("text","Select file or folder to link to")).startAt(this.startPath).allowDirectories(!0).setMultiSelect(!1).setType(C.K9.Choose).build().pick().then((t=>{OC.Files.getClient().getFileInfo(t).then(((t,e)=>{const n=(0,f.Lz)(this.relativePath,"".concat(e.path,"/").concat(e.name)).split("/").map(encodeURIComponent).join("/")+("dir"===e.type?"/":""),i="".concat(n,"?fileId=").concat(e.id);this.setLink(i,e.name),this.startPath=e.path+("dir"===e.type?"/".concat(e.name,"/"):"")})),this.menuOpen=!1})).catch((()=>{this.$refs.buttonFile.$el.focus()}))},linkWebsite(t){if("submit"===(null==t?void 0:t.type)){const e=[...t.target.elements].filter((t=>"text"===(null==t?void 0:t.type)))[0].value;return this.menuOpen=!1,this.isInputMode=!1,this.href="",this.setLink(e,e)}if((0,v.zh)(this.$editor.state,"link")){const t=(0,v.Jo)(this.$editor.state,"link");this.href=t.href}this.isInputMode=!0},setLink(t,e){var n;t&&![/^[a-zA-Z]+:/,/^\//,/\?fileId=/,/^\.\.?\//,/^[^.]*[/$]/,/^#/].find((e=>t.match(e)))&&(t="https://"+t);const i=t.replaceAll(" ","%20"),o=this.$editor.chain();null!==(n=this.$editor.view.state)&&void 0!==n&&n.selection.empty?o.insertContent({type:"paragraph",content:[{type:"text",marks:[{type:"link",attrs:{href:i}}],text:e}]}):o.setLink({href:i}),o.focus().run()},removeLink(){this.$editor.chain().unsetLink().focus().run(),this.menuOpen=!1},linkPicker(){(0,m.CE)(null,!0).then((t=>{this.$editor.chain().focus().insertContent(t+" ").run()})).catch((t=>{console.error("Smart picker promise rejected",t)}))}}};var b=i(93379),x=i.n(b),y=i(7795),w=i.n(y),k=i(90569),_=i.n(k),B=i(3565),M=i.n(B),P=i(19216),I=i.n(P),E=i(44589),S=i.n(E),T=i(23501),D={};D.styleTagTransform=S(),D.setAttributes=M(),D.insert=_().bind(null,"head"),D.domAPI=w(),D.insertStyleElement=I();x()(T.Z,D);T.Z&&T.Z.locals&&T.Z.locals;const Z=(0,d.Z)(g,(function(){var t=this,e=t._self._c;return e("NcActions",{staticClass:"entry-action entry-action__insert-link",class:t.activeClass,attrs:{title:t.actionEntry.label,"aria-label":t.actionEntry.label,container:t.menuIDSelector,"data-text-action-entry":t.actionEntry.key,name:t.actionEntry.label,open:t.menuOpen},on:{"update:open":e=>{t.menuOpen=t.menuOpen||e}},scopedSlots:t._u([{key:"icon",fn:function(){return[e(t.icon,{tag:"component",attrs:{name:t.actionEntry.label,"aria-label":t.actionEntry.label}})]},proxy:!0}])},[t._v(" "),t.state.active?e("NcActionButton",{attrs:{"data-text-action-entry":"".concat(t.actionEntry.key,"-remove")},on:{click:t.removeLink},scopedSlots:t._u([{key:"icon",fn:function(){return[e("LinkOff")]},proxy:!0}],null,!1,3589828876)},[t._v("\n\t\t"+t._s(t.t("text","Remove link"))+"\n\t")]):t._e(),t._v(" "),e("NcActionButton",{ref:"buttonFile",attrs:{"data-text-action-entry":"".concat(t.actionEntry.key,"-file")},on:{click:t.linkFile},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Document")]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("text","Link to file or folder"))+"\n\t")]),t._v(" "),t.isInputMode?e("NcActionInput",{attrs:{type:"text",value:t.href,"data-text-action-entry":"".concat(t.actionEntry.key,"-input")},on:{submit:t.linkWebsite},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Web")]},proxy:!0}],null,!1,1844845715)},[t._v("\n\t\t"+t._s(t.t("text","Link to website"))+"\n\t")]):e("NcActionButton",{attrs:{"data-text-action-entry":"".concat(t.actionEntry.key,"-website")},on:{click:t.linkWebsite},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Web")]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.state.active?t.t("text","Update link"):t.t("text","Link to website"))+"\n\t")]),t._v(" "),e("NcActionButton",{attrs:{"data-text-action-entry":"".concat(t.actionEntry.key,"-picker")},on:{click:t.linkPicker},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Shape")]},proxy:!0}])},[t._v("\n\t\t"+t._s(t.t("text","Open the Smart Picker"))+"\n\t")])],1)}),[],!1,null,"23d2732e",null).exports;var L=i(59400);const N=[{key:"outline",forceLabel:!0,icon:o.Cj,click:t=>{let{$outlineActions:e}=t;return e.toggle()},label:e=>{let{$outlineState:n}=e;return n.visible?t("text","Hide outline"):t("text","Show outline")}}],H=[{key:"undo",label:t("text","Undo"),keyChar:"z",keyModifiers:[L.v.Mod],icon:o.WP,action:t=>t.undo(),priority:6},{key:"redo",label:t("text","Redo"),keyChar:"y",keyModifiers:[L.v.Mod],icon:o.Jw,action:t=>t.redo(),priority:12},{key:"bold",label:t("text","Bold"),keyChar:"b",keyModifiers:[L.v.Mod],icon:o.VK,isActive:"strong",action:t=>t.toggleBold(),priority:7},{key:"italic",label:t("text","Italic"),keyChar:"i",keyModifiers:[L.v.Mod],icon:o.mV,isActive:"em",action:t=>t.toggleItalic(),priority:8},{key:"underline",label:t("text","Underline"),keyChar:"u",keyModifiers:[L.v.Mod],icon:o.Bz,isActive:"underline",action:t=>t.toggleUnderline(),priority:15},{key:"strikethrough",label:t("text","Strikethrough"),keyChar:"s",keyModifiers:[L.v.Mod,L.v.Shift],icon:o.Lo,isActive:"strike",action:t=>t.toggleStrike(),priority:16},{key:"headings",label:t("text","Headings"),keyChar:"1…6",keyModifiers:[L.v.Mod,L.v.Shift],icon:o.Lz,isActive:"heading",children:[{key:"headings-h1",label:t("text","Heading 1"),icon:o.Lz,isActive:["heading",{level:1}],action:t=>t.toggleHeading({level:1})},{key:"headings-h2",label:t("text","Heading 2"),icon:o.DB,isActive:["heading",{level:2}],action:t=>t.toggleHeading({level:2})},{key:"headings-h3",label:t("text","Heading 3"),icon:o.XD,isActive:["heading",{level:3}],action:t=>t.toggleHeading({level:3})},{key:"headings-h4",label:t("text","Heading 4"),isActive:["heading",{level:4}],icon:o.fy,action:t=>t.toggleHeading({level:4})},{key:"headings-h5",label:t("text","Heading 5"),isActive:["heading",{level:5}],icon:o.Ze,action:t=>t.toggleHeading({level:5})},{key:"headings-h6",label:t("text","Heading 6"),isActive:["heading",{level:6}],icon:o.J4,action:t=>t.toggleHeading({level:6})},{key:"headings-separator",isSeparator:!0,visible:t=>{let{$outlineState:e}=t;return e.enable}},{key:"outline",icon:o.Cj,click:t=>{let{$outlineActions:e}=t;return e.toggle()},visible:t=>{let{$outlineState:e}=t;return e.enable},label:e=>{let{$outlineState:n}=e;return n.visible?t("text","Hide outline"):t("text","Show outline")}}],priority:1},{key:"unordered-list",label:t("text","Unordered list"),keyChar:"8",keyModifiers:[L.v.Mod,L.v.Shift],isActive:"bulletList",icon:o.Cj,action:t=>t.toggleBulletList(),priority:9},{key:"ordered-list",label:t("text","Ordered list"),keyChar:"7",keyModifiers:[L.v.Mod,L.v.Shift],isActive:"orderedList",icon:o.mH,action:t=>t.toggleOrderedList(),priority:10},{key:"task-list",label:t("text","To-Do list"),keyChar:"9",keyModifiers:[L.v.Mod,L.v.Shift],isActive:"taskList",icon:o.Fv,action:t=>t.toggleTaskList(),priority:11},{key:"insert-link",label:t("text","Insert link"),isActive:"link",icon:o.xP,component:Z,priority:2},{key:"blockquote",label:t("text","Blockquote"),keyChar:"b",keyModifiers:[L.v.Mod,L.v.Shift],isActive:"blockquote",icon:o.UX,action:t=>t.toggleBlockquote(),priority:13},{key:"callouts",label:t("text","Callouts"),visible:!1,icon:o.kI,isActive:"callout",children:[{key:"callout-info",label:t("text","Info"),isActive:["callout",{type:"info"}],icon:o.kI,action:t=>t.toggleCallout({type:"info"})},{key:"callout-success",label:t("text","Success"),isActive:["callout",{type:"success"}],icon:o.Ho,action:t=>t.toggleCallout({type:"success"})},{key:"callout-warn",label:t("text","Warning"),isActive:["callout",{type:"warn"}],icon:o.uU,action:t=>t.toggleCallout({type:"warn"})},{key:"callout-error",label:t("text","Danger"),isActive:["callout",{type:"error"}],icon:o.b0,action:t=>t.toggleCallout({type:"error"})}],priority:6},{key:"code-block",label:t("text","Code block"),keyChar:"c",keyModifiers:[L.v.Mod,L.v.Alt],isActive:"codeBlock",icon:o.Nk,action:t=>t.toggleCodeBlock(),priority:14},{key:"table",label:t("text","Table"),isActive:"table",icon:o.iA,action:t=>t.insertTable(),priority:17},{key:"emoji-picker",label:t("text","Insert emoji"),icon:o.tk,component:c,action:function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.emoji(e)},priority:3},{key:"insert-attachment",label:t("text","Insert attachment"),icon:o.rU,component:h,priority:1}]},59400:(e,n,i)=>{i.d(n,{K:()=>a,v:()=>r});const o=navigator.userAgent.includes("Mac"),r={Mod:o?"Meta":"Control",Alt:"Alt",Control:"Control",Shift:"Shift"},a={[r.Mod]:o?t("text","Command"):t("text","Control"),[r.Control]:t("text","Ctrl"),[r.Alt]:t("text",o?"Option":"Alt"),[r.Shift]:t("text","Shift")}},72076:(t,e,n)=>{n.d(e,{FZ:()=>r,RR:()=>a,vK:()=>l,wr:()=>c});var i=n(59400);const o=(t,e)=>({"is-active":e,["action-menu-".concat(t.key)]:!0}),r=t=>{let{keyChar:e,keyModifiers:n=[]}=t;return n.map((t=>i.v[t])).concat(e).join("+")},a=(t,e)=>{let{keyChar:n,keyModifiers:o}=e;return!t&&n?"(".concat(function(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).map((t=>i.K[t])).concat(t.toUpperCase()).join("+")}(n,o),")"):""},s=(t,e)=>t.action&&!t.action(e.can()),l=(t,e)=>{let{isActive:n}=t;if(!n)return!1;const i=Array.isArray(n)?n:[n];return e.isActive(...i)},d=t=>Array.isArray(t.isActive)?"radio":"string"==typeof t.isActive?"checkbox":"button",c=(t,e)=>{const n=l(t,e);return{disabled:s(t,e),class:o(t,n),active:n,type:d(t)}}},28374:(t,e,n)=>{n.d(e,{Z:()=>r});var i=n(13861),o=n(79835);const r=t=>{let{listComponent:e,items:n=(()=>{}),command:r=(t=>{let{editor:e,range:n,props:i}=t})}=t;return{items:n,command:r,render:()=>{let t,n;return{onStart:r=>{t=new o.aA(e,{parent:void 0,propsData:r}),r.clientRect&&(n=(0,i.ZP)("body",{getReferenceClientRect:r.clientRect,appendTo:()=>document.body,content:t.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}),t.ref.$on("select",(()=>{n.length>0&&n[0].hide()})))},onUpdate(e){t.updateProps(e),e.clientRect&&n&&n[0].setProps({getReferenceClientRect:e.clientRect})},onKeyDown(e){var i,o;if(n)return"Escape"===e.event.key?(n[0].hide(),n[0].destroy(),t.destroy(),n=null,!0):null===(i=t.ref)||void 0===i||null===(o=i.onKeyDown)||void 0===o?void 0:o.call(i,e)},onExit(){n&&(n[0].destroy(),t.destroy())}}}}}},32318:(t,e,n)=>{n.d(e,{Ah:()=>$t,BB:()=>At,BF:()=>pt,Bz:()=>Pt,Cj:()=>wt,DB:()=>vt,Ee:()=>Et,F5:()=>Rt,Fq:()=>Ut,Fv:()=>kt,HG:()=>ct,Ho:()=>Lt,IY:()=>Ot,J4:()=>xt,Jw:()=>Nt,L9:()=>rt,Lo:()=>Mt,Lz:()=>Ct,Nk:()=>lt,Pn:()=>it,QK:()=>ot,UX:()=>Bt,VK:()=>mt,WP:()=>Wt,WW:()=>It,XD:()=>ft,Ze:()=>bt,_2:()=>Gt,b0:()=>dt,bn:()=>Ht,fy:()=>gt,gb:()=>nt,gq:()=>Ft,gr:()=>at,gt:()=>ht,iA:()=>jt,kI:()=>Tt,mH:()=>_t,mV:()=>yt,pR:()=>Zt,ph:()=>qt,pn:()=>zt,rU:()=>St,tk:()=>ut,uU:()=>Vt,x8:()=>st,xP:()=>Dt});var i=n(29107),o=n(66034),r=n(66830),a=n(44358),s=n(67921),l=n(78568),d=n(25110),c=n(81984),A=n(28537),p=n(8705),u=n(54901),h=n(9989),m=n(30476),C=n(23420),v=n(93023),f=n(71927),g=n(79926),b=n(6026),x=n(23845),y=n(13527),w=n(523),k=n(20896),_=n(87767),B=n(93214),M=n(82456),P=n(33074),I=n(91044),E=n(24776),S=n(52843),T=n(52477),D=n(29779),Z=n(86015),L=n(45822),N=n(19039),H=n(14780),j=n(28297),$=n(6804),O=n(9),R=n(20583),z=n(17930),G=n(19299),U=n(67879),W=n(41260),F=n(97727),V=n(61080),q=n(31980),K=n(90619),Y=n(71327),Q=n(57729),J=n(60072),X=n(73113),tt=n(91957);const et=t=>({functional:!0,render(e,n){let{data:i,props:o}=n;return e(t,{data:i,key:i.key,staticClass:i.staticClass,props:{size:20,...o}})}}),nt={functional:!0,render(t,e){let{data:n,props:i}=e;return t(j.Z,{data:n,staticClass:"animation-rotate",props:{size:20,...i}})}},it=et(i.Z),ot=et(m.Z),rt=et(C.Z),at=et(v.Z),st=et(o.Z),lt=(et(r.Z),et(s.Z)),dt=(et(a.Z),et(l.Z)),ct=et(d.Z),At=et(c.Z),pt=et(A.Z),ut=et(p.Z),ht=et(u.Z),mt=et(h.Z),Ct=et(f.Z),vt=et(g.Z),ft=et(b.Z),gt=et(x.Z),bt=et(y.Z),xt=et(w.Z),yt=et(k.Z),wt=et(_.Z),kt=et(B.Z),_t=et(M.Z),Bt=et(P.Z),Mt=et(I.Z),Pt=et(E.Z),It=et(S.Z),Et=et(T.Z),St=et(D.Z),Tt=et(Z.Z),Dt=et(L.Z),Zt=et(N.Z),Lt=(et(H.Z),et($.Z),et(O.Z)),Nt=et(R.Z),Ht=et(z.Z),jt=et(G.Z),$t=et(U.Z),Ot=et(W.Z),Rt=et(F.Z),zt=et(V.Z),Gt=et(q.Z),Ut=(et(K.Z),et(tt.Z)),Wt=et(Y.Z),Ft=et(Q.Z),Vt=et(J.Z),qt=et(X.Z)},32892:(t,e,n)=>{n.d(e,{g:()=>c,Z:()=>u});var i=n(73845),o=n(2376),r=n(55963),a=n(87823),s=n(40187);function l(t){const e=(new DOMParser).parseFromString(t,"text/html");return function(t,e){const n=t.createNodeIterator(t.body,NodeFilter.SHOW_TEXT);let i=n.nextNode();for(;i;)e(i),i=n.nextNode()}(e,(t=>{(function(t){const e=["normal","nowrap"];let n=t.parentElement;for(;n;){const t=getComputedStyle(n),i=null==t?void 0:t.getPropertyValue("white-space");if(i)return e.includes(i);if("PRE"===n.tagName)return!1;n=n.parentElement}return!0})(t)&&(t.textContent=t.textContent.replaceAll("\n"," "))})),e.body.innerHTML}const d=i.hj.create({name:"markdown",extendMarkSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{toMarkdown:(0,i.Nl)(t,"toMarkdown",e)}},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{toMarkdown:(0,i.Nl)(t,"toMarkdown",e)}},addProseMirrorPlugins(){let t=!1;return[new o.Sy({key:new o.H$("pasteEventHandler"),props:{handleDOMEvents:{mouseup:(e,n)=>(t=n.shiftKey,!1)},handleKeyDown:(e,n)=>(t=n.shiftKey,!1),clipboardTextParser(e,n,i,o){const r=a.aw.fromSchema(o.state.schema),l=document.cloneNode(!1),d=l.createElement("div");if(t)for(const t of e.split("\n\n")){const e=l.createElement("p");e.innerText=t,d.append(e)}else d.innerHTML=s.Z.render(e);return r.parseSlice(d,{preserveWhitespace:!0,context:n})},clipboardTextSerializer:t=>c(this.editor.schema).serialize(t.content),transformPastedHTML:l}})]}}),c=t=>{let{nodes:e,marks:n}=t;const i=p(r.Dm.nodes),o=p(r.Dm.marks);return{serializer:new r.nZ({...i,...A(e)},{...o,...A(n)}),serialize(t,e){return this.serializer.serialize(t,{...e,tightLists:!0})}}},A=t=>Object.entries(t).map((t=>{let[e,n]=t;return[e,n.spec.toMarkdown]})).filter((t=>{let[,e]=t;return e})).reduce(((t,e)=>{let[n,i]=e;return{...t,[n]:i}}),{}),p=t=>{const e=t=>t.replace(/_(\w)/g,((t,e)=>e.toUpperCase()));return Object.fromEntries(Object.entries(t).map((t=>{let[n,i]=t;return[e(n),i]})))},u=d},36109:(e,n,i)=>{function o(t){setTimeout((()=>{const e=document.getElementById("collaboration-cursor__label__".concat(t));e&&(e.classList.add("collaboration-cursor__label__active"),setTimeout((()=>{null==e||e.classList.remove("collaboration-cursor__label__active")}),50))}),50)}function r(){return Math.floor(Date.now()/1e3)}i.d(n,{lN:()=>a,iQ:()=>h,pf:()=>wn,f3:()=>y,Ho:()=>Fn});const a=i(14539).l.extend({addOptions:()=>({provider:null,user:{name:null,clientId:null,color:null,lastUpdate:r()},render:t=>{const e=document.createElement("span");e.classList.add("collaboration-cursor__caret"),e.setAttribute("style","border-color: ".concat(t.color));const n=document.createElement("div");return n.classList.add("collaboration-cursor__label"),n.id="collaboration-cursor__label__".concat(t.clientId),n.setAttribute("style","background-color: ".concat(t.color)),n.insertBefore(document.createTextNode(t.name),null),e.insertBefore(n,null),e}}),onCreate(){this.options.provider.awareness.on("change",((t,e)=>{let{added:n,removed:i,updated:r}=t;if("local"!==e)for(const t of[...n,...r])t!==this.options.user.clientId&&o(t)}))},onTransaction(t){var e;let{transaction:n}=t;const{updated:i,meta:o}=n;!i||null!==(e=o.addToHistory)&&void 0!==e&&!e||o.pointer||(this.options.user.lastUpdate=r(),this.options.provider.awareness.setLocalStateField("user",this.options.user))}});var s=i(73845),l=i(2376),d=i(16722);const c=new l.H$("emoji"),A=s.NB.create({name:"emoji",addOptions:()=>({HTMLAttributes:{},suggestion:{char:":",allowedPrefixes:[" "],pluginKey:c}}),content:"text*",addCommands:()=>({emoji:t=>e=>{let{commands:n}=e;return n.insertContent(t.native+" ")}}),addProseMirrorPlugins(){return[(0,d.ZP)({editor:this.editor,...this.options.suggestion})]}});let p=!1;const u=t=>{var e;let{editor:n}=t;const i=null!==(e=window._nc_focus_trap)&&void 0!==e?e:[],o=i[i.length-1];n.can().sinkListItem("listItem")||n.can().goToNextCell()||n.can().goToPreviousCell()?(null==o||o.pause(),p=!0):p&&(p=!1,null==o||o.unpause())},h=s.hj.create({name:"focustrap",onFocus:u,onBlur:t=>{var e;let{editor:n}=t;const i=null!==(e=window._nc_focus_trap)&&void 0!==e?e:[],o=i[i.length-1];null==o||o.unpause()},onSelectionUpdate:u,onTransaction:u,onUpdate:u});s.hj.create({name:"customkeymap",addKeyboardShortcuts(){return this.options},addProseMirrorPlugins:()=>[new l.Sy({props:{handleKeyDown(t,e){const n=e.key||e.keyCode;return!e.ctrlKey&&!e.metaKey||e.shiftKey||"f"!==n&&70!==n?"Delete"===e.key&&!0===e.ctrlKey?(e.stopPropagation(),window.dispatchEvent(e),!0):void 0:(e.stopPropagation(),window.dispatchEvent(e),!0)}}})]});var m=i(84348);class C{constructor(t,e,n){this.from=t,this.to=e,this.author=n}}function v(t,e,n,i){if(e>=n)return;let o,r=0;for(;r<t.length;r++)if(o=t[r],o.author===i){if(o.to>=e)break}else if(o.to>e){if(o.from<e){const i=new C(o.from,e,o.author);o.to>n?t.splice(r++,0,i):t[r++]=i}break}for(;o=t[r];)if(o.author===i){if(o.from>n)break;e=Math.min(e,o.from),n=Math.max(n,o.to),t.splice(r,1)}else{if(o.from>=n)break;if(o.to>n){t[r]=new C(n,o.to,o.author);break}t.splice(r,1)}t.splice(r,0,new C(e,n,i))}class f{constructor(t){this.blameMap=t}applyTransform(t){var e;const n=null!==(e=t.getMeta("clientID"))&&void 0!==e?e:t.steps.map((t=>"self")),i=function(t,e,n){const i=[],o=e.mapping;for(let e=0;e<t.length;e++){const n=t[e],r=o.map(n.from,1),a=o.map(n.to,-1);r<a&&i.push(new C(r,a,n.author))}for(let t=0;t<o.maps.length;t++){const e=o.maps[t],r=o.slice(t+1);e.forEach(((e,o,a,s)=>{v(i,r.map(a,1),r.map(s,-1),n[t])}))}return i}(this.blameMap,t,n);return new f(i)}}s.hj.create({name:"users",addOptions:()=>({clientID:0,color:t=>"#"+Math.floor(Math.abs(16777215*Math.sin(t))%16777215).toString(16)+"aa",name:t=>"Unknown user "+t}),addProseMirrorPlugins(){let t=null;return[new l.Sy({clientID:this.options.clientID,color:this.options.color,name:this.options.name,view:e=>(t=e,{}),state:{init:(t,e)=>({tracked:new f([new C(0,e.doc.content.size,null)],[],[],[]),deco:m.EH.empty}),apply(e,n,i,o){let{tracked:r,decos:a}=n,s=this.getState(i).tracked;return e.docChanged&&(e.getMeta("clientID")||e.setMeta("clientID",e.steps.map((t=>this.spec.clientID))),t.composing||(r=r.applyTransform(e),s=r)),a=s.blameMap.map((t=>{const e=t.author;return m.p.inline(t.from,t.to,{class:"author-annotation",style:"background-color: "+this.spec.color(e)+"66;",title:this.spec.name(e)})})).filter((t=>null!==t)),{tracked:r,deco:m.EH.create(o.doc,a)}}},props:{decorations(t){return this.getState(t).deco}}})]}});var g=i(32892),b=i(52701);const x=s.NB.create({name:"doc",content:"block",addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.insertContent("\t")}}}),y=s.hj.create({name:"PlainText",addExtensions:()=>[x,b.Z]});var w=i(33668),k=i(99734);const _=i(30561).ZP.extend({parseHTML(){return this.parent().map((t=>Object.assign(t,{preserveWhitespace:!0})))},addAttributes(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),bullet:{default:"-",rendered:!1,isRequired:!0,parseHTML:t=>t.getAttribute("data-bullet")}}},addInputRules(){return[(t=/^\s*([-+*])\s([^\s[]+)$/,e=this.type,new s.VK({find:t,handler:i=>{let{state:o,range:r,match:a}=i;(0,s.S0)({find:t,type:e,getAttributes:n}).handler({state:o,range:r,match:a}),a.length>=3&&o.tr.insertText(a[2])}}))];var t,e,n}});var B=i(79835),M=i(30744),P=i(32318);const I={info:P.kI,success:P.Ho,error:P.b0,warn:P.uU},E={name:"Callout",components:{NodeViewWrapper:B.T5,NodeViewContent:B.ms},props:{node:{type:Object,required:!0}},computed:{icon(){return I[this.type]||P.kI},type(){var t;return(null===(t=this.node)||void 0===t||null===(t=t.attrs)||void 0===t?void 0:t.type)||"info"}}};var S=i(93379),T=i.n(S),D=i(7795),Z=i.n(D),L=i(90569),N=i.n(L),H=i(3565),j=i.n(H),$=i(19216),O=i.n($),R=i(44589),z=i.n(R),G=i(32550),U={};U.styleTagTransform=z(),U.setAttributes=j(),U.insert=N().bind(null,"head"),U.domAPI=Z(),U.insertStyleElement=O();T()(G.Z,U);G.Z&&G.Z.locals&&G.Z.locals;var W=i(51900);const F=(0,W.Z)(E,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"callout",class:"callout--".concat(t.type),attrs:{"data-text-el":"callout",as:"div"}},[e(t.icon,{tag:"component",staticClass:"callout__icon"}),t._v(" "),e("NodeViewContent",{staticClass:"callout__content"})],1)}),[],!1,null,"4387ae9f",null).exports,V=s.NB.create({name:"callout",content:"paragraph+",group:"block",defining:!0,addOptions:()=>({types:M.F,HTMLAttributes:{class:"callout"}}),addAttributes:()=>({type:{default:"info",rendered:!1,parseHTML:t=>t.getAttribute("data-callout")||M.F.find((e=>t.classList.contains(e)))||t.classList.contains("warning")&&"warn",renderHTML:t=>({"data-callout":t.type,class:"callout-".concat(t.type)})}}),parseHTML:()=>[{tag:"div.callout"},{tag:"p.callout",priority:1001}],renderHTML(t){let{node:e,HTMLAttributes:n}=t;const{class:i}=this.options.HTMLAttributes,o={...this.options.HTMLAttributes,"data-callout":e.attrs.type,class:"".concat(i," ").concat(i,"-").concat(e.attrs.type)};return["div",(0,s.P1)(o,n),0]},toMarkdown:(t,e)=>{t.write("::: "+(e.attrs.type||"info")+"\n"),t.renderContent(e),t.ensureNewLine(),t.write(":::"),t.closeBlock(e)},addNodeView:()=>(0,B.uf)(F),addCommands(){return{setCallout:t=>e=>{let{commands:n}=e;return n.wrapIn(this.name,t)},toggleCallout:t=>e=>{let{commands:n,state:i}=e;return(0,s.Ig)(i,this.name)?(0,s.Ig)(i,this.name,t)?n.unsetCallout():n.updateAttributes(this.name,t):n.setCallout(t)},unsetCallout:()=>t=>{let{commands:e}=t;return e.lift(this.name)}}}});var q=i(88776),K=i(57355),Y=i(22608),Q=i(55963),J=i(20296),X=i.n(J),tt=i(76640),et=i(65009),nt=i(3001),it=i(19158),ot=i(48605),rt=i(95749),at=i(83330),st=i(58963),lt=i(38250),dt=i(66830),ct=i(64024);const At={data:()=>({copied:!1,copyLoading:!1,copySuccess:!1}),methods:{async copyToClipboard(e){this.copyLoading=!0;try{await navigator.clipboard.writeText(e),this.copySuccess=!0,this.copied=!0,(0,ct.s$)(t("text","Copied to the clipboard"))}catch(e){this.copySuccess=!1,this.copied=!0,(0,ct.x2)("<div>".concat(t("text","Could not copy to the clipboard"),"</div>"),{isHTML:!0})}finally{this.copyLoading=!1,setTimeout((()=>{this.copySuccess=!1,this.copied=!1}),4e3)}}}},pt={name:"CodeBlockView",components:{MarkerIcon:at.Z,ContentCopy:lt.Z,Help:st.Z,Check:dt.Z,Eye:rt.Z,ViewSplitVertical:it.Z,CodeBraces:ot.Z,NcActions:tt.O3,NcActionButton:tt.Js,NcActionInput:tt.Iw,NcActionLink:tt.ih,NcActionSeparator:tt.rr,NcLoadingIcon:tt.lb,NodeViewWrapper:B.T5,NodeViewContent:B.ms},mixins:[At],props:{node:{type:Object,required:!0},editor:{type:Object,required:!0}},data:()=>({isEditable:!1,viewMode:"preview",targetId:"mermaid-view-"+(0,nt.Z)()}),computed:{hasCode(){var t;return null===(t=this.node)||void 0===t?void 0:t.textContent},type(){var t;return(null===(t=this.node)||void 0===t||null===(t=t.attrs)||void 0===t?void 0:t.language)||""},supportPreview(){return["mermaid"].includes(this.type)},showCode(){return!this.supportPreview||"code"===this.viewMode||"side-by-side"===this.viewMode},showPreview(){return this.supportPreview&&("preview"===this.viewMode||"side-by-side"===this.viewMode)},defaultMode(){return this.isEditable?"side-by-side":this.supportPreview()?"code":"preview"}},watch:{"node.textContent"(){this.renderMermaid()}},beforeMount(){this.isEditable=this.editor.isEditable,this.editor.on("update",(t=>{let{editor:e}=t;this.isEditable=e.isEditable})),this.renderMermaidDebounced=X()((async function(){var t;if(!this.supportPreview)return void(this.viewMode="code");const e=(null===(t=this.node)||void 0===t?void 0:t.textContent)||"";""===e.trim()&&(this.viewMode=this.defaultMode,this.$refs.preview.innerHTML="");try{await et.K.parse(e);const{svg:t}=await et.K.render(this.targetId,e),n=document.getElementById(this.targetId);n&&(n.style.display="none"),this.$refs.preview.innerHTML=t}catch(t){console.debug("Invalid mermaid source",t),"preview"===this.viewMode&&(this.viewMode=this.isEditable?"side-by-side":"code")}}),250),et.K.initialize({startOnLoad:!1}),this.$nextTick((()=>{this.renderMermaid()}))},methods:{async copyCode(){var t;await this.copyToClipboard(null===(t=this.node)||void 0===t?void 0:t.textContent)},updateLanguage(t){this.updateAttributes({language:t.target.value})},renderMermaid(){this.renderMermaidDebounced()}}};var ut=i(48356),ht={};ht.styleTagTransform=z(),ht.setAttributes=j(),ht.insert=N().bind(null,"head"),ht.domAPI=Z(),ht.insertStyleElement=O();T()(ut.Z,ht);ut.Z&&ut.Z.locals&&ut.Z.locals;const mt=(0,W.Z)(pt,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"code-block",attrs:{as:"div","data-mode":t.viewMode}},[e("div",{staticClass:"code-block-header"},[e("div",{staticClass:"view-switch"},[e("NcActions",{attrs:{"aria-label":t.t("text","Copy code block")}},[t.hasCode?e("NcActionButton",{attrs:{"data-cy":"copy-code","aria-label":t.t("text","Copy code"),"close-after-click":!1},on:{click:t.copyCode},scopedSlots:t._u([{key:"icon",fn:function(){return[t.copySuccess?e("Check",{attrs:{size:20}}):t.copyLoading?e("NcLoadingIcon",{attrs:{size:20}}):e("ContentCopy",{attrs:{size:20}})]},proxy:!0}],null,!1,2104404999)}):t._e()],1),t._v(" "),t.isEditable?e("NcActions",{attrs:{"data-cy":"code-action-group","aria-label":t.t("text","Code block options")}},[e("NcActionInput",{attrs:{label:t.t("text","Code block language"),value:t.type,"show-trailing-button":!1,placeholder:t.t("text","e.g. php, javascript, json…")},on:{input:t.updateLanguage},scopedSlots:t._u([{key:"icon",fn:function(){return[e("MarkerIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,3768505569)}),t._v(" "),t.supportPreview?e("NcActionSeparator"):t._e(),t._v(" "),t.supportPreview?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){t.viewMode="code"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CodeBraces",{attrs:{size:20}})]},proxy:!0}],null,!1,2428748609)},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Source code"))+"\n\t\t\t\t")]):t._e(),t._v(" "),t.supportPreview?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){t.viewMode="preview"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Eye",{attrs:{size:20}})]},proxy:!0}],null,!1,1151454737)},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Diagram"))+"\n\t\t\t\t")]):t._e(),t._v(" "),t.supportPreview?e("NcActionButton",{attrs:{"close-after-click":!0},on:{click:function(e){t.viewMode="side-by-side"}},scopedSlots:t._u([{key:"icon",fn:function(){return[e("ViewSplitVertical",{attrs:{size:20}})]},proxy:!0}],null,!1,3354721413)},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Both"))+"\n\t\t\t\t")]):t._e(),t._v(" "),t.supportPreview?e("NcActionSeparator"):t._e(),t._v(" "),t.supportPreview?e("NcActionLink",{attrs:{href:"https://mermaid.js.org/intro/",target:"_blank"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Help",{attrs:{size:20}})]},proxy:!0}],null,!1,802739225)},[t._v("\n\t\t\t\t\t"+t._s(t.t("text","Mermaid documentation"))+"\n\t\t\t\t")]):t._e()],1):t._e()],1)]),t._v(" "),e("div",{class:{"split-view":t.showCode&&t.showPreview}},[e("pre",{directives:[{name:"show",rawName:"v-show",value:t.showCode,expression:"showCode"}],staticClass:"split-view__code"},[e("NodeViewContent",{attrs:{as:"code",tabindex:"-1",contenteditable:t.isEditable}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showPreview,expression:"showPreview"}],ref:"preview",staticClass:"split-view__preview",attrs:{contenteditable:!1}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:t.targetId,contenteditable:!1}})])])}),[],!1,null,"633fb49e",null).exports,Ct=Y.Z.extend({parseHTML:()=>[{tag:"pre",preserveWhitespace:"full",getContent:(t,e)=>{const n=t.textContent.replace(/\n$/,""),i=n?[e.text(n)]:[];return e.nodes.codeBlock.create(null,i)}}],toMarkdown:(t,e,n,i)=>(e.attrs.params=e.attrs.language,Q.Dm.nodes.code_block(t,e,n,i)),addNodeView:()=>(0,B.uf)(mt),addKeyboardShortcuts(){return{"Mod-a":()=>{if(!this.editor.isActive("codeBlock"))return;const t=this.editor.state.selection.$from.node().nodeSize;this.editor.commands.selectParentNode();const e=this.editor.state.selection.$from.pos,n=e+t;return this.editor.commands.setTextSelection({from:e,to:n}),!0}}}});var vt=i(20336),ft=i(79829),gt=i(22773);const bt=s.NB.create({name:"tableCaption",content:"inline*",allowGapCursor:!1,addAttributes:()=>({}),renderHTML:()=>["caption"],toMarkdown(t,e){},parseHTML:()=>[{tag:"table caption",priority:90}]});var xt=i(658),yt=i(87823);const wt=xt.p.extend({content:"inline*",toMarkdown(t,e){var n,i;t.write(" ");const o=null===(n=t.options)||void 0===n?void 0:n.escapeExtraCharacters,r=t.options.currentColumnIndex;t.options.escapeExtraCharacters=/\|/;let a=0;e.content.forEach(((t,n,i)=>{var o,r;a+=(null===(o=t.text)||void 0===o?void 0:o.length)||6,null!==(r=t.text)&&void 0!==r&&r.includes("|")&&(a+=1),"  "===t.attrs.syntax&&(e.child(i).attrs.syntax="html")}));const s=t.options.columnWidths[r],l=(null===(i=e.attrs)||void 0===i?void 0:i.textAlign)||"left",d=s-a,c=Math.floor(d/2),A=Math.ceil(d/2);"center"===l&&t.write(" ".repeat(c)),"right"===l&&t.write(" ".repeat(d)),t.renderInline(e),"center"===l&&t.write(" ".repeat(A)),"left"===l&&t.write(" ".repeat(d)),t.options.escapeExtraCharacters=o,t.write(" |"),t.options.currentColumnIndex++},parseHTML:()=>[{tag:"td",preserveWhitespace:!0},{tag:"th",preserveWhitespace:!0},{tag:"table thead ~ tbody th",priority:70,preserveWhitespace:!0},{tag:"table thead ~ tbody td",priority:70,preserveWhitespace:!0}],addAttributes(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),textAlign:{rendered:!1,parseHTML:t=>t.style.textAlign||null}}},addProseMirrorPlugins(){return[new l.Sy({props:{handlePaste:(t,e,n)=>{if(!this.editor.isActive(this.type.name))return!1;const{state:i}=t,o=[];let r=!1;n.content.descendants(((t,e)=>{t.isText?(o.push(i.schema.text(t.textContent,t.marks)),r=!1):r||(o.push(i.schema.text("\n")),r=!0)}));const a=i.schema.node("paragraph",[],o);n.content=yt.HY.empty.addToStart(a)}}})]}});const kt=i(43626).x.extend({content:"inline*",toMarkdown(t,e){var n;const i=t.options.currentHeaderIndex,o=t.options.columnWidths[i],r=(null===(n=e.attrs)||void 0===n?void 0:n.textAlign)||"left",a=o-e.content.size,s=Math.floor(a/2),l=Math.ceil(a/2);t.write(" "),"center"===r&&t.write(" ".repeat(s)),"right"===r&&t.write(" ".repeat(a)),t.renderInline(e),"center"===r&&t.write(" ".repeat(l)),"left"===r&&t.write(" ".repeat(a)),t.write(" |"),t.options.currentHeaderIndex++},parseHTML:()=>[{tag:"table thead:empty ~ tbody :first-child th",priority:80},{tag:"table thead:empty ~ tbody :first-child td",priority:80},{tag:"table thead :first-child th",priority:60},{tag:"table thead :first-child td",priority:60},{tag:"table tbody :first-child th",priority:60},{tag:"table tbody :first-child td",priority:60},{tag:"table > :first-child > th",priority:60},{tag:"table > :first-child > td",priority:60}],addAttributes(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),textAlign:{rendered:!1,parseHTML:t=>t.style.textAlign||null}}}});const _t=i(33991).S.extend({content:"tableCell*",allowGapCursor:!1,toMarkdown(t,e){t.write("|"),t.options.currentColumnIndex=0,t.renderInline(e),t.ensureNewLine()},parseHTML:()=>[{tag:"tr",priority:70}]}),Bt=_t.extend({name:"tableHeadRow",content:"tableHeader*",allowGapCursor:!1,toMarkdown(t,e){t.write("|"),t.renderInline(e),t.ensureNewLine(),t.write("|"),e.forEach(((e,n,i)=>{var o;let r=t.repeat("-",t.options.columnWidths[i]+2);const a=null===(o=e.attrs)||void 0===o?void 0:o.textAlign;"center"!==a&&"left"!==a||(r=":"+r.slice(1)),"center"!==a&&"right"!==a||(r=r.slice(0,-1)+":"),t.write(r),t.write("|")})),t.ensureNewLine()},parseHTML:()=>[{tag:"tr:first-of-type",priority:80}]});var Mt=i(97245);const Pt=gt.iA.extend({content:"tableCaption? tableHeadRow tableRow*",addExtensions:()=>[bt,wt,kt,Bt,_t],addCommands(){return{...this.parent(),addRowAfter:()=>t=>{let{chain:e,dispatch:n}=t;return e().command((t=>{let{state:e}=t;return(0,Mt.dl)(e,n)})).command((t=>{let{state:e,tr:i}=t;const{tableStart:o,table:r,bottom:a}=(0,Mt.zN)(e);if(n){const t=r.child(a-1),e=r.child(a);let n=o+1;for(let t=0;t<a;t++)n+=r.child(t).nodeSize;for(let o=0;o<t.childCount;o++)i.setNodeAttribute(n,"textAlign",t.child(o).attrs.textAlign),n+=e.child(o).nodeSize}return!0})).run()},addRowBefore:()=>t=>{let{chain:e,dispatch:n}=t;return e().command((t=>{let{state:e}=t;return(0,Mt.z2)(e,n)})).command((t=>{let{state:e,tr:i}=t;const{tableStart:o,table:r,top:a}=(0,Mt.zN)(e);if(n){const t=r.child(a),e=r.child(a-1);let n=o+1;for(let t=0;t<a-1;t++)n+=r.child(t).nodeSize;for(let o=0;o<t.childCount;o++)i.setNodeAttribute(n,"textAlign",t.child(o).attrs.textAlign),n+=e.child(o).nodeSize}return!0})).run()},insertTable:()=>t=>{let{tr:e,dispatch:n,editor:i}=t;if((0,Mt.Lw)(e))return!1;const o=function(t,e,n,i){const o=[],r=[];for(let e=0;e<n;e+=1){const e=t.nodes.tableCell.createAndFill();e&&r.push(e);const n=t.nodes.tableHeader.createAndFill();n&&o.push(n)}const a=t.nodes.tableHeadRow.createChecked(null,o),s=[];for(let n=1;n<e;n+=1)s.push(t.nodes.tableRow.createChecked(null,r));return t.nodes.table.createChecked(null,[a,...s])}(i.schema,3,3);if(n){const t=e.selection.anchor+1;e.replaceSelectionWith(o).scrollIntoView().setSelection(l.Bs.near(e.doc.resolve(t)))}return!0},leaveTable:()=>t=>{let{tr:e,dispatch:n,editor:i}=t;if(!(0,Mt.Lw)(e))return!1;const{$head:o,empty:r}=e.selection;if(!r)return!1;const a=o.depth<3?1:o.depth-2;if(n){const t=e.doc.resolve(o.after(a)+1),i=l.Bs.near(t);n(e.setSelection(i).scrollIntoView())}return!0},goToNextRow:()=>t=>{let{tr:e,dispatch:n,editor:i}=t;if(!(0,Mt.Lw)(e))return!1;const o=function(t){if(t.index(-1)===t.node(-1).childCount-1)return null;let e=t.after();const n=t.node(-1);for(let i=t.indexAfter(-1);i<n.childCount;i++){const o=n.child(i);if(o.childCount>=t.index()){for(let n=0;n<t.index();n++)e+=o.child(n).nodeSize;return e+1}e+=o.nodeSize}}((0,Mt.Le)(e));if(null!=o){if(n){const t=e.doc.resolve(o),i=l.Bs.between(t,(0,Mt.SZ)(t));n(e.setSelection(i).scrollIntoView())}return!0}}}},renderHTML(t){let{HTMLAttributes:e}=t;return["div",{class:"table-wrapper",style:"overflow-x: auto;"},["table",(0,s.P1)(this.options.HTMLAttributes,e),0]]},toMarkdown(t,e){const n=function(t){const e=[];return t.content.forEach((t=>{t.content.forEach(((t,n,i)=>{e[i]||(e[i]=[]),e[i].push(t)}))})),e}(e);t.options.columnWidths=function(t){const e=[];return t.forEach((t=>{let n=0;t.forEach((t=>{let e=0;t.content.forEach((t=>{var n,i;e+=(null===(n=t.text)||void 0===n?void 0:n.length)||6,null!==(i=t.text)&&void 0!==i&&i.includes("|")&&(e+=1)})),n=Math.max(n,e)})),e.push(n)})),e}(n),t.options.currentHeaderIndex=0,t.renderContent(e),t.closeBlock(e)},addKeyboardShortcuts(){return{...this.parent(),Tab:()=>this.editor.commands.goToNextCell()||this.editor.commands.leaveTable(),Enter:t=>{var e;let{editor:n}=t;const{selection:i}=n.state;return!!i.$from.parent.type.name.startsWith("table")&&("hardBreak"===(null===(e=i.$from.nodeBefore)||void 0===e?void 0:e.type.name)?!(!n.can().goToNextRow()&&!n.can().addRowAfter())&&(n.chain().setTextSelection({from:i.from-1,to:i.from}).deleteSelection().run(),!!n.commands.goToNextRow()||n.chain().addRowAfter().goToNextRow().run()):n.chain().insertContent('<br data-syntax="html" />').focus().run())}}}});const It={name:"TableView",components:{NcActionButton:tt.Js,NcActions:tt.O3,NodeViewWrapper:B.T5,NodeViewContent:B.ms,TableSettings:P._2,Delete:P.HG},props:{editor:{type:Object,required:!0},deleteNode:{type:Function,required:!0}}};var Et=i(17795),St={};St.styleTagTransform=z(),St.setAttributes=j(),St.insert=N().bind(null,"head"),St.domAPI=Z(),St.insertStyleElement=O();T()(Et.Z,St);Et.Z&&Et.Z.locals&&Et.Z.locals;const Tt=(0,W.Z)(It,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"table-wrapper",attrs:{"data-text-el":"table-view"}},[t.editor.isEditable?e("NcActions",{staticClass:"table-settings",attrs:{"force-menu":"","data-text-table-actions":"settings"},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableSettings")]},proxy:!0}],null,!1,1699550424)},[t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"delete","close-after-click":""},on:{click:t.deleteNode},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Delete")]},proxy:!0}],null,!1,3429380666)},[t._v("\n\t\t\t"+t._s(t.t("text","Delete this table"))+"\n\t\t")])],1):t._e(),t._v(" "),e("NodeViewContent",{staticClass:"content",attrs:{as:"table"}}),t._v(" "),e("div",{staticClass:"clearfix"})],1)}),[],!1,null,"072ea952",null).exports;const Dt={name:"TableCellView",components:{NcActionButton:tt.Js,NcActions:tt.O3,NodeViewWrapper:B.T5,NodeViewContent:B.ms,TableAddRowBefore:P.pn,TableAddRowAfter:P.F5,Delete:P.HG},props:{editor:{type:Object,required:!0},getPos:{type:Function,required:!0}},computed:{textAlign(){return{"text-align":this.node.attrs.textAlign}}},methods:{deleteRow(){this.editor.chain().focus().setTextSelection(this.getPos()).deleteRow().run()},addRowBefore(){this.editor.chain().focus().setTextSelection(this.getPos()).addRowBefore().run()},addRowAfter(){this.editor.chain().focus().setTextSelection(this.getPos()).addRowAfter().run()}}};var Zt=i(39024),Lt={};Lt.styleTagTransform=z(),Lt.setAttributes=j(),Lt.insert=N().bind(null,"head"),Lt.domAPI=Z(),Lt.insertStyleElement=O();T()(Zt.Z,Lt);Zt.Z&&Zt.Z.locals&&Zt.Z.locals;const Nt=(0,W.Z)(Dt,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{style:t.textAlign,attrs:{"data-text-el":"table-cell",as:"td"}},[e("div",{staticClass:"container"},[e("NodeViewContent",{staticClass:"content"}),t._v(" "),t.editor.isEditable?e("NcActions",{attrs:{"data-text-table-actions":"row"}},[e("NcActionButton",{attrs:{"data-text-table-action":"add-row-before","close-after-click":""},on:{click:t.addRowBefore},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableAddRowBefore")]},proxy:!0}],null,!1,1805502767)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Add row before"))+"\n\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"add-row-after","close-after-click":""},on:{click:t.addRowAfter},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableAddRowAfter")]},proxy:!0}],null,!1,3179199218)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Add row after"))+"\n\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"remove-row","close-after-click":""},on:{click:t.deleteRow},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Delete")]},proxy:!0}],null,!1,3429380666)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Delete this row"))+"\n\t\t\t")])],1):t._e()],1)])}),[],!1,null,"4018f47d",null).exports;const Ht={name:"TableHeaderView",components:{AlignHorizontalCenter:P.QK,AlignHorizontalLeft:P.L9,AlignHorizontalRight:P.gr,Delete:P.HG,NcActionButton:tt.Js,NcActionButtonGroup:tt.xQ,NcActions:tt.O3,NodeViewWrapper:B.T5,NodeViewContent:B.ms,TableAddColumnBefore:P.IY,TableAddColumnAfter:P.Ah},props:{editor:{type:Object,required:!0},getPos:{type:Function,required:!0},node:{type:Object,required:!0}},computed:{textAlign(){return{"text-align":this.node.attrs.textAlign}}},methods:{alignCenter(){this.align("center")},alignLeft(){this.align("left")},alignRight(){this.align("right")},align(t){for(this.editor.chain().focus().setTextSelection(this.getPos()).setCellAttribute("textAlign",t).run();this.editor.commands.goToNextRow();)this.editor.commands.setCellAttribute("textAlign",t);this.editor.chain().setTextSelection(this.getPos()).focus().run(),this.$refs.menu.closeMenu(!1)},deleteColumn(){this.editor.chain().focus().setTextSelection(this.getPos()).deleteColumn().run()},addColumnBefore(){this.editor.chain().focus().setTextSelection(this.getPos()).addColumnBefore().run()},addColumnAfter(){this.editor.chain().focus().setTextSelection(this.getPos()).addColumnAfter().run()}}};var jt=i(12144),$t={};$t.styleTagTransform=z(),$t.setAttributes=j(),$t.insert=N().bind(null,"head"),$t.domAPI=Z(),$t.insertStyleElement=O();T()(jt.Z,$t);jt.Z&&jt.Z.locals&&jt.Z.locals;const Ot=(0,W.Z)(Ht,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{style:t.textAlign,attrs:{"data-text-el":"table-header",as:"th"}},[e("div",[e("NodeViewContent",{staticClass:"content"}),t._v(" "),t.editor.isEditable?e("NcActions",{ref:"menu",attrs:{"data-text-table-actions":"header"}},[e("NcActionButtonGroup",[e("NcActionButton",{attrs:{"data-text-table-action":"align-column-left","aria-label":t.t("text","Left align column"),type:"radio",value:"left","model-value":t.node.attrs.textAlign},on:{click:t.alignLeft},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AlignHorizontalLeft")]},proxy:!0}],null,!1,2968467243)}),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"align-column-center","aria-label":t.t("text","Center align column"),type:"radio",value:"center","model-value":t.node.attrs.textAlign},on:{click:t.alignCenter},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AlignHorizontalCenter")]},proxy:!0}],null,!1,536750267)}),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"align-column-right","aria-label":t.t("text","Right align column"),type:"radio",value:"right","model-value":t.node.attrs.textAlign},on:{click:t.alignRight},scopedSlots:t._u([{key:"icon",fn:function(){return[e("AlignHorizontalRight")]},proxy:!0}],null,!1,3861151024)})],1),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"add-column-before","close-after-click":""},on:{click:t.addColumnBefore},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableAddColumnBefore")]},proxy:!0}],null,!1,3782681875)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Add column before"))+"\n\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"add-column-after","close-after-click":""},on:{click:t.addColumnAfter},scopedSlots:t._u([{key:"icon",fn:function(){return[e("TableAddColumnAfter")]},proxy:!0}],null,!1,1608287598)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Add column after"))+"\n\t\t\t")]),t._v(" "),e("NcActionButton",{attrs:{"data-text-table-action":"remove-column","close-after-click":""},on:{click:t.deleteColumn},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Delete")]},proxy:!0}],null,!1,3429380666)},[t._v("\n\t\t\t\t"+t._s(t.t("text","Delete this column"))+"\n\t\t\t")])],1):t._e()],1)])}),[],!1,null,"fc7c7a54",null).exports;function Rt(t,e){return t.extend({addNodeView:()=>(0,B.uf)(e)})}const zt=Pt.extend({addNodeView:()=>(0,B.uf)(Tt),addExtensions:()=>[bt,Rt(wt,Nt),Rt(kt,Ot),Bt,_t]});var Gt=i(28374),Ut=i(31352);const Wt={name:"EmojiList",props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data:()=>({selectedIndex:0}),computed:{hasResults(){return this.items.length>0},itemHeight(){return this.$el.scrollHeight/this.items.length},itemInsideScrollView(){return this.selectedIndex*this.itemHeight>=this.$el.scrollTop&&(this.selectedIndex+1)*this.itemHeight<=this.$el.scrollTop+this.$el.clientHeight}},watch:{items(){this.selectedIndex=0,this.$el.scrollTop=0}},methods:{t:Ut.Iu,onKeyDown(t){let{event:e}=t;return!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&("ArrowUp"===e.key?(this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length,this.itemInsideScrollView||(this.$el.scrollTop=this.selectedIndex*this.itemHeight),!0):"ArrowDown"===e.key?(this.selectedIndex=(this.selectedIndex+1)%this.items.length,this.itemInsideScrollView||(this.$el.scrollTop=(this.selectedIndex+1)*this.itemHeight-this.$el.clientHeight),!0):("Enter"===e.key||"Tab"===e.key)&&(this.selectItem(this.selectedIndex),!0))},selectItem(t){const e=this.items[t];e&&(this.command(e),(0,tt.Ry)(e))}}};var Ft=i(35437),Vt={};Vt.styleTagTransform=z(),Vt.setAttributes=j(),Vt.insert=N().bind(null,"head"),Vt.domAPI=Z(),Vt.insertStyleElement=O();T()(Ft.Z,Vt);Ft.Z&&Ft.Z.locals&&Ft.Z.locals;const qt=(0,W.Z)(Wt,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"emoji-list"},[t.hasResults?t._l(t.items,(function(n,i){return e("div",{key:i,staticClass:"emoji-list__item",class:{"is-selected":i===t.selectedIndex},on:{click:function(e){return t.selectItem(i)}}},[e("span",{staticClass:"emoji-list__item__emoji"},[t._v("\n\t\t\t\t"+t._s(n.native)+"\n\t\t\t")]),t._v("\n\t\t\t:"+t._s(n.short_name)+"\n\t\t")])})):e("div",{staticClass:"emoji-list__item is-empty"},[t._v("\n\t\t"+t._s(t.t("text","No emoji found"))+"\n\t")])],2)}),[],!1,null,"74f9a54a",null).exports;const Kt=i(83416).ZP.extend({name:"frontMatter",draggable:!1,renderHTML(e){let{node:n,HTMLAttributes:i}=e;return this.parent({node:n,HTMLAttributes:(0,s.P1)(i,{"data-title":t("text","Front matter"),class:"frontmatter"})})},parseHTML:()=>[{tag:"pre#frontmatter",preserveWhitespace:"full",priority:9001,attrs:{language:"yaml"}}],toMarkdown:(t,e)=>{if(!t.out.match(/^\s*/))throw Error("FrontMatter must be the first node of the document!");const n=e.textContent,i=n.match(/-{3,}/gm),o=i?i.sort().slice(-1)[0]+"-":"---";t.write(""),t.out="",t.write("".concat(o,"\n")),t.text(n,!1),t.ensureNewLine(),t.write(o),t.closeBlock(e)},addInputRules(){return[{find:/^---$/g,handler:t=>{let{state:e,range:n,chain:i}=t;return 1===n.from&&(e.doc.resolve(1).parent.type.name!==this.name&&(i().deleteRange(n).insertContentAt(0,{type:this.name}),!0))}}]},addCommands:()=>({}),addPasteRules:()=>[],addProseMirrorPlugins:()=>[]});var Yt=i(9966);const Qt=i(35525).Z.extend({addAttributes:()=>({syntax:{default:"  ",rendered:!1,keepOnSplit:!0,parseHTML:t=>t.getAttribute("data-syntax")||"  "}}),addCommands(){return{...null==this?void 0:this.parent(),setHardBreak:()=>t=>{for(let e=t.state.selection.$from.depth;e>=0;e--)if("heading"===t.state.selection.$from.node(e).type.name)return!1;return this.parent().setHardBreak()(t)}}},toMarkdown(t,e,n,i){for(let r=i+1;r<n.childCount;r++)if(n.child(r).type!==e.type){var o;if("html"!==e.attrs.syntax)t.write(e.attrs.syntax),null!==(o=n.child(r).text)&&void 0!==o&&o.startsWith("\n")||t.write("\n");else t.write("<br />");return}}});var Jt=i(7490),Xt=i(25030),te=i(63811),ee=i.n(te);const ne=t=>{const e=new Map,n=[],i=t.state.tr;var o;t.state.doc.descendants(((t,o)=>{if("heading"===t.type.name){var r;const a=t.textContent,s=(t=>{const n=ee()(t);if(e.has(n)){const t=e.get(n);return e.set(n,t+1),"h-".concat(n,"--").concat(t)}return e.set(n,1),"h-"+n})(a),l=null!==(r=t.attrs.uuid)&&void 0!==r?r:(0,nt.Z)();if(t.attrs.id!==s||!t.attrs.uuid){const e={...t.attrs,uuid:l,id:s};i.setNodeMarkup(o,void 0,e)}n.push(Object.freeze({level:t.attrs.level,position:o,text:a,id:s,uuid:l}))}})),i.setMeta("addToHistory",!1),i.setMeta("preventUpdate",!0),t.view.dispatch(i),o=n,Xt.default.dispatch("text/setHeadings",o)};var ie=i(31728);const oe={name:"HeadingView",components:{NodeViewWrapper:B.T5,NodeViewContent:B.ms},mixins:[ie.Cy],props:{node:{type:Object,required:!0},extension:{type:Object,required:!0}},data:()=>({content:null}),computed:{href(){return"#".concat(this.node.attrs.id)},domElement(){const t=this.extension.options.levels.includes(this.node.attrs.level)?this.node.attrs.level:this.extension.options.levels[0];return"h".concat(t)},linkSymbol(){return this.extension.options.linkSymbol}},methods:{click(){this.$refs.container.$el.scrollIntoView(),window.location.hash=this.href}}};var re=i(2516),ae={};ae.styleTagTransform=z(),ae.setAttributes=j(),ae.insert=N().bind(null,"head"),ae.domAPI=Z(),ae.insertStyleElement=O();T()(re.Z,ae);re.Z&&re.Z.locals&&re.Z.locals;const se=(0,W.Z)(oe,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{ref:"container",attrs:{id:t.node.attrs.id,as:t.domElement}},[e("a",{staticClass:"heading-anchor",attrs:{"aria-hidden":"true",href:t.href,title:t.t("text","Link to this section"),contenteditable:!1},on:{click:function(e){return e.stopPropagation(),t.click.apply(null,arguments)}}},[t._v(t._s(t.linkSymbol))]),t._v(" "),e("NodeViewContent",{attrs:{as:"span"}})],1)}),[],!1,null,null,null).exports,le=X()((t=>{let{editor:e}=t;e.view&&e.state&&!e.isDestroyed&&ne(e)}),900),de=Jt.Z.extend({addAttributes(){return{...this.parent(),id:{default:void 0,rendered:!0},uuid:{default:void 0,rendered:!1}}},addOptions(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),linkSymbol:"#"}},addKeyboardShortcuts(){return this.options.levels.reduce(((t,e)=>({...t,["Mod-Shift-".concat(e)]:()=>this.editor.commands.toggleHeading({level:e})})),{})},addNodeView(){return(0,B.uf)(se,{update:t=>{let{oldNode:e,newNode:n,updateProps:i}=t;return n.type.name===this.name&&(n.attrs===e.attrs&&(i(),!0))}})},onCreate(){ne(this.editor),this.parent&&this.parent()},onUpdate:t=>{le(t)}});var ce=i(25748),Ae=i(26761),pe=i(2649),ue=i.n(pe),he=i(20629);const me={name:"ShowImageModal",components:{NcModal:tt.Jc},props:{images:{type:Array,required:!0},startIndex:{type:Number,default:0},show:{type:Boolean,default:!1}},data:()=>({currentImageIndex:0}),computed:{currentImage(){return this.images[this.currentImageIndex]}},watch:{startIndex(t){this.currentImageIndex=t}},methods:{showNextImage(){this.currentImageIndex=(this.currentImageIndex+1)%this.images.length},showPreviousImage(){this.currentImageIndex=this.currentImageIndex<=0?this.images.length-1:this.currentImageIndex-1}}};var Ce=i(62657),ve={};ve.styleTagTransform=z(),ve.setAttributes=j(),ve.insert=N().bind(null,"head"),ve.domAPI=Z(),ve.insertStyleElement=O();T()(Ce.Z,ve);Ce.Z&&Ce.Z.locals&&Ce.Z.locals;const fe=(0,W.Z)(me,(function(){var t=this,e=t._self._c;return t.show?e("NcModal",{attrs:{size:"large",name:t.currentImage.name,"out-transition":!0,"has-next":!0,"has-previous":!0,"close-button-contained":!1,dark:!0},on:{next:t.showNextImage,previous:t.showPreviousImage,close:function(e){return t.$emit("close")}}},[e("div",{staticClass:"modal__content"},[e("img",{attrs:{src:t.currentImage.previewUrl}})])]):t._e()}),[],!1,null,"403f8ff2",null).exports;var ge=i(13815),be=i(69183);class xe extends Error{constructor(e,n){super((null==e?void 0:e.message)||t("text","Failed to load")),this.reason=e,this.imageUrl=n}}const ye={name:"ImageView",components:{ImageIcon:P.Ee,DeleteIcon:P.HG,NcButton:tt.P2,ShowImageModal:fe,NodeViewWrapper:B.T5},directives:{ClickOutside:ue()},mixins:[ge.Z,ie.Zf],props:["editor","node","extension","updateAttributes","deleteNode"],data:()=>({attachment:null,imageLoaded:!1,loaded:!1,failed:!1,showIcons:!1,imageUrl:null,errorMessage:null,attachmentSize:null,showImageModal:!1,imageIndex:null,isEditable:!1,embeddedImageList:[]}),computed:{...(0,he.Se)({imageAttachments:"text/imageAttachments"}),attachmentType(){return this.attachment?this.attachment.isImage?"image":"media":null},isMediaAttachment(){return"media"===this.attachmentType},showDeleteIcon(){return this.isEditable&&this.showIcons},showImageDeleteIcon(){return this.showDeleteIcon&&!this.isMediaAttachment},canDisplayImage(){return!(!this.failed||!this.loaded)||this.loaded&&this.imageLoaded},src:{get(){return this.node.attrs.src||""},set(t){this.updateAttributes({src:t})}},alt:{get(){return this.node.attrs.alt?this.node.attrs.alt:""},set(t){this.updateAttributes({alt:t})}}},beforeMount(){this.isEditable=this.editor.isEditable,this.editor.on("update",(t=>{let{editor:e}=t;this.isEditable=e.isEditable})),this.loadPreview().catch(this.onImageLoadFailure)},methods:{async loadPreview(){return this.attachment=await this.$attachmentResolver.resolve(this.src),new Promise(((t,e)=>{const n=new Image;n.onload=async()=>{this.imageUrl=this.attachment.previewUrl,this.imageLoaded=!0,this.loaded=!0,this.attachmentSize=this.attachment.size},n.onerror=t=>{e(new xe(t,this.attachment.previewUrl))},n.src=this.attachment.previewUrl}))},onImageLoadFailure(t){this.failed=!0,this.imageLoaded=!1,this.loaded=!0,this.errorMessage=t.message,t instanceof xe&&(this.errorMessage="".concat(this.errorMessage," ").concat(this.src)),this.$emit("error",{error:t,src:this.src})},updateAlt(t){this.updateAttributes({alt:t.target.value})},onLoaded(){this.loaded=!0},async updateEmbeddedImageList(){this.embeddedImageList=[];const t=Array.from(document.querySelectorAll('figure[data-component="image-view"][data-attachment-type="image"]:not(.image-view--failed).image-view'));for(const e of t){const t=e.getAttribute("data-src");if(!this.embeddedImageList.find((e=>e.src===t))){const n=await this.$attachmentResolver.resolve(e.getAttribute("data-src"));this.embeddedImageList.push({src:t,...n})}}},handleAttachmentClick(){OCA.Viewer&&!OCA.Viewer.file&&-1!==OCA.Viewer.mimetypes.indexOf(this.attachment.mimetype)&&this.attachment.davPath?OCA.Viewer.open({path:this.attachment.davPath}):window.location.assign(this.attachment.fullUrl)},async handleImageClick(){await this.updateEmbeddedImageList(),this.imageIndex=this.embeddedImageList.findIndex((t=>t.src===this.src)),-1!==this.imageIndex?this.showImageModal=!0:(console.error("Could not find image in attachments list",this.attachment),(0,ct.x2)(t("text","Could not find image in attachments list.")))},onDelete(){(0,be.j8)("text:image-node:delete",this.imageUrl),this.deleteNode()}}};var we=i(37204),ke={};ke.styleTagTransform=z(),ke.setAttributes=j(),ke.insert=N().bind(null,"head"),ke.domAPI=Z(),ke.insertStyleElement=O();T()(we.Z,ke);we.Z&&we.Z.locals&&we.Z.locals;const _e=(0,W.Z)(ye,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{attrs:{contenteditable:t.isEditable}},[e("figure",{staticClass:"image image-view",class:{"icon-loading":!t.loaded,"image-view--failed":t.failed},attrs:{"data-component":"image-view","data-attachment-type":t.attachmentType,"data-src":t.src}},[t.canDisplayImage?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:()=>t.showIcons=!1,expression:"() => showIcons = false"}],staticClass:"image__view",on:{mouseover:function(e){t.showIcons=!0},mouseleave:function(e){t.showIcons=!1}}},[e("transition",{attrs:{name:"fade"}},[t.failed?[e("ImageIcon",{staticClass:"image__main image__main--broken-icon",attrs:{size:100}})]:[t.isMediaAttachment?e("div",{staticClass:"media",attrs:{contenteditable:"false"},on:{click:t.handleAttachmentClick}},[e("div",{staticClass:"media__wrapper"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:t.imageUrl,alt:t.alt},on:{load:t.onLoaded}}),t._v(" "),e("div",{staticClass:"metadata"},[e("span",{staticClass:"name"},[t._v(t._s(t.alt))]),t._v(" "),e("span",{staticClass:"size"},[t._v(t._s(t.attachmentSize))])])]),t._v(" "),t.showDeleteIcon?e("div",{staticClass:"buttons"},[e("NcButton",{attrs:{"aria-label":t.t("text","Delete this attachment"),title:t.t("text","Delete this attachment")},on:{click:t.onDelete},scopedSlots:t._u([{key:"icon",fn:function(){return[e("DeleteIcon")]},proxy:!0}],null,!1,3930079857)})],1):t._e()]):e("div",{attrs:{contenteditable:"false"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:t.imageUrl,alt:t.alt},on:{click:t.handleImageClick,load:t.onLoaded}})])]],2),t._v(" "),e("transition",{attrs:{name:"fade"}},[t.isMediaAttachment?t._e():e("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__caption",attrs:{title:t.alt}},[t.isEditable?e("div",{staticClass:"image__caption__wrapper"},[e("input",{directives:[{name:"show",rawName:"v-show",value:!t.isMediaAttachment,expression:"!isMediaAttachment"}],ref:"altInput",staticClass:"image__caption__input",attrs:{type:"text"},domProps:{value:t.alt},on:{blur:t.updateAlt,keyup:t.updateAlt}}),t._v(" "),t.showImageDeleteIcon?e("div",{staticClass:"image__caption__delete",attrs:{contenteditable:"false"}},[e("NcButton",{attrs:{"aria-label":t.t("text","Delete this image"),title:t.t("text","Delete this image")},on:{click:t.onDelete},scopedSlots:t._u([{key:"icon",fn:function(){return[e("DeleteIcon")]},proxy:!0}],null,!1,3930079857)})],1):t._e()]):e("figcaption",[t._v("\n\t\t\t\t\t\t"+t._s(t.alt)+"\n\t\t\t\t\t")])])]),t._v(" "),e("div",{staticClass:"image__modal"},[e("ShowImageModal",{attrs:{images:t.embeddedImageList,"start-index":t.imageIndex,show:t.showImageModal},on:{close:function(e){t.showImageModal=!1}}})],1)],1):e("div",{staticClass:"image-view__cant_display"},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__caption"},[e("input",{ref:"altInput",attrs:{type:"text",disabled:!t.isEditable},domProps:{value:t.alt},on:{blur:t.updateAlt,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateAlt.apply(null,arguments)}}})])])],1),t._v(" "),t.errorMessage?e("small",{staticClass:"image__error-message"},[t._v("\n\t\t\t"+t._s(t.errorMessage)+"\n\t\t")]):t._e()])])}),[],!1,null,"27c2d6f0",null).exports,Be=Ae.ZP.extend({selectable:!1,parseHTML(){return[{tag:this.options.allowBase64?"figure img[src]":'figure img[src]:not([src^="data:"])'}]},renderHTML:()=>["img"],addOptions(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this)}},addNodeView:()=>(0,B.uf)(_e),addProseMirrorPlugins:()=>[new l.Sy({props:{handleDrop:(t,e,n)=>{if(e.dataTransfer.files&&e.dataTransfer.files.length>0){const n=t.posAtCoords({left:e.clientX,top:e.clientY}),i=new CustomEvent("file-drop",{bubbles:!0,detail:{files:e.dataTransfer.files,position:n.pos}});return e.target.dispatchEvent(i),!0}},handlePaste:(t,e,n)=>{if(e.clipboardData.files&&e.clipboardData.files.length>0){const t=new CustomEvent("image-paste",{bubbles:!0,detail:{files:e.clipboardData.files}});return e.target.dispatchEvent(t),!0}}}})],toMarkdown(t,e,n,i){e.attrs.alt=e.attrs.alt.toString(),Q.Dm.nodes.image(t,e,n,i),t.closeBlock(e)}}),Me=Ae.ZP.extend({name:"image-inline",priority:99,selectable:!1,parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},addOptions(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),inline:!0}},addCommands:()=>({}),addInputRules:()=>[],addNodeView:()=>(0,B.uf)(_e),toMarkdown:(t,e,n,i)=>Q.Dm.nodes.image(t,e,n,i)}),Pe=s.vc.create({name:"keep-syntax",parseHTML:()=>[{tag:"span.keep-md"}],renderHTML:()=>["span",{class:"keep-md"},0],toMarkdown:{open:"",close:"",mixable:!0,escape:!1,expelEnclosingWhitespace:!0},onUpdate(){const t=this.editor.state.tr;this.editor.state.doc.descendants(((e,n,i,o)=>{-1!==e.marks.findIndex((t=>t.type.name===this.name))&&("text"===e.type.name&&1===e.text.length||t.removeMark(n,n+e.nodeSize,this.type))})),t.docChanged&&(t.setMeta("addToHistory",!1),t.setMeta("preventUpdate",!0),this.editor.view.dispatch(t))}});const Ie={components:{SuggestionListWrapper:i(15039).Z},props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},methods:{onKeyDown(t){var e;let{event:n}=t;return null===(e=this.$refs.suggestionList)||void 0===e?void 0:e.onKeyDown({event:n})}}};var Ee=i(38049),Se={};Se.styleTagTransform=z(),Se.setAttributes=j(),Se.insert=N().bind(null,"head"),Se.domAPI=Z(),Se.insertStyleElement=O();T()(Ee.Z,Se);Ee.Z&&Ee.Z.locals&&Ee.Z.locals;const Te=(0,W.Z)(Ie,(function(){var t=this,e=t._self._c;return e("SuggestionListWrapper",{ref:"suggestionList",attrs:{command:t.command,items:t.items},on:{select:e=>t.$emit("select",e)},scopedSlots:t._u([{key:"default",fn:function(n){let{item:i}=n;return[e("div",{staticClass:"link-picker__item",attrs:{"data-key":i.key}},["string"!=typeof i.icon?e(i.icon,{tag:"compoent"}):e("img",{attrs:{src:i.icon}}),t._v(" "),e("div",[t._v(t._s(i.label))])],1)]}},{key:"empty",fn:function(){return[t._v("\n\t\t"+t._s(t.t("text","No command found"))+"\n\t")]},proxy:!0}])})}),[],!1,null,"11ad0ffc",null).exports;var De=i(78652),Ze=i(25381),Le=i(72076),Ne=i(40187);const He=t("text","Formatting"),je=t("text","Smart picker"),$e=["task-list","table"],Oe=t=>{return[...(e=[...Ze.Z.find((t=>"headings"===t.key)).children,...Ze.Z.filter((t=>t.action&&!(t=>["undo","redo","outline","emoji-picker"].indexOf(t.key)>-1)(t))),...Ze.Z.find((t=>"callouts"===t.key)).children,{...Ze.Z.find((t=>"emoji-picker"===t.key)),action:t=>t.insertContent(":")}].filter((e=>{var n,i;return null==e||null===(n=e.label)||void 0===n||null===(i=n.toLowerCase)||void 0===i||null===(i=i.call(n))||void 0===i?void 0:i.includes(t.toLowerCase())})).map((t=>({...t,suggestGroup:He})))).filter((t=>$e.indexOf(t.key)>-1)),...e.filter((t=>-1===$e.indexOf(t.key)))];var e},Re=()=>(0,Gt.Z)({listComponent:Te,command:t=>{let{editor:e,range:n,props:i}=t;if(i.action){const t=e.chain().deleteRange(n);return i.action(t),void t.run()}(0,De.CE)(i.providerId,!0).then((t=>{let i=t;(t=>[/\*\*.*?\*\*/,/\*.*?\*/,/\[.*?\(.*?\)/,/^#{1,6}\s.*$/,/^\s*[-+*]\s.*/m,/^\s\d\..*/m,/^>+\s.*/,/`.*?`/].some((e=>e.test(t))))(i)&&(t=>{try{return Ne.Z.parse(t),!0}catch(t){return!1}})(i)&&(i=Ne.Z.render(i)),e.chain().focus().insertContentAt(n,i+" ").run()})).catch((t=>{console.error("Smart picker promise rejected",t)}))},items:t=>{let{editor:e,query:n}=t;return[...(0,De.mX)(n).map((t=>({suggestGroup:je,label:t.title,icon:t.icon_url,providerId:t.id}))).filter((t=>{var e,i;return null==t||null===(e=t.label)||void 0===e||null===(i=e.toLowerCase)||void 0===i||null===(i=i.call(e))||void 0===i?void 0:i.includes(n.toLowerCase())})),...Oe(n).filter((t=>{let{action:n,isActive:i}=t;const o=n(null==e?void 0:e.can()),r=i&&(0,Le.vK)({isActive:i},e);return o&&!r}))]}}),ze=new l.H$("linkPicker"),Ge=s.hj.create({name:"linkPicker",addOptions:()=>({suggestion:{char:"/",allowedPrefixes:[" "],pluginKey:ze,...Re()}}),addProseMirrorPlugins(){return[(0,d.q$)({editor:this.editor,...this.options.suggestion})]}});var Ue=i(13861),We=i(43554),Fe=i(11480);const Ve=function(t){const e=t.lastIndexOf("/");return e>0?t.slice(0,e):t.slice(0,e+1)},qe=function(t,e){const n=t.attrs.href;if(!n)return n;if(!OCA.Viewer)return n;if(n.match(/^[a-zA-Z]*:/))return n;if(n.startsWith("#"))return n;if("collectives"===(0,We.j)("core","active-app"))return n;const i=n.match(/^([^?]*)\?fileId=(\d+)/);if(i){var o;const[,t,n]=i,r=function(t,e){if(!e)return t;if("/"===e[0])return e;for(t=t.split("/"),e=e.split("/");".."===e[0]||"."===e[0];)".."===e[0]&&t.pop(),e.shift();return t.concat(e).join("/")}(Ve(e||(null===(o=OCA.Viewer)||void 0===o?void 0:o.file)||"/"),Ve(t));return t.length>1&&t.endsWith("/")?(0,Fe.nu)("/apps/files/?dir=".concat(r,"&fileId=").concat(n)):(0,Fe.nu)("/apps/files/?dir=".concat(r,"&openfile=").concat(n,"#relPath=").concat(t))}return n},Ke=function(t){const e=t.getAttribute("href");if(!e)return e;const n=e.match(/\?dir=([^&]*)&openfile=([^&]*)#relPath=([^&]*)/);if(n){const[,,t,e]=n;return"".concat(e,"?fileId=").concat(t)}return e};var Ye=i(66034),Qe=i(19039),Je=i(22528);const Xe={name:"LinkBubbleView",components:{CheckIcon:dt.Z,CloseIcon:Ye.Z,ContentCopyIcon:lt.Z,NcButton:tt.P2,NcLoadingIcon:tt.lb,NcReferenceList:De.ek,NcTextField:tt.h3,LinkOffIcon:Qe.Z,PencilIcon:Je.Z},mixins:[At],props:{editor:{type:Object,required:!0},href:{type:String,default:null}},data:()=>({isEditable:!1,edit:!1,newHref:null,referenceTitle:null}),computed:{key(){return this.href||"no-href"},copyLinkTooltip(){return this.copied?this.copySuccess?"":(0,Ut.Iu)("text","Cannot copy, please copy the link manually"):(0,Ut.Iu)("text","Copy link to clipboard")},sanitizedHref(){var t;return null!==(t=this.href)&&void 0!==t&&t.startsWith("/")?location.origin+this.href:this.href},title(){return this.referenceTitle?this.referenceTitle:this.sanitizedHref}},watch:{key(){this.resetBubble()}},beforeMount(){this.isEditable=this.editor.isEditable,this.editor.on("update",(t=>{let{editor:e}=t;this.isEditable=e.isEditable}))},methods:{t:Ut.Iu,resetBubble(){this.edit=!1,this.newHref=null,this.referenceTitle=null},async copyLink(){await this.copyToClipboard(this.href)},onReferenceListLoaded(){var t,e;this.referenceTitle=null!==(t=null===(e=this.$refs.referencelist.firstReference)||void 0===e||null===(e=e.openGraphObject)||void 0===e?void 0:e.name)&&void 0!==t?t:null},startEdit(){this.edit=!0,this.newHref=this.href},stopEdit(){this.edit=!1,this.newHref=null},updateLink(){this.href!==this.newHref&&this.setLinkUrl(this.newHref),this.stopEdit()},setLinkUrl(t){const e={...this.editor.view.state.selection},{ranges:n}=e,i=Math.min(...n.map((t=>t.$from.pos))),o=Math.max(...n.map((t=>t.$to.pos)));console.debug("selection",e),this.editor.chain().extendMarkRange("link").setLink({href:t}).setTextSelection({from:i,to:o}).focus().run()},removeLink(){this.editor.chain().unsetLink().focus().run(),this.stopEdit()}}};var tn=i(34738),en={};en.styleTagTransform=z(),en.setAttributes=j(),en.insert=N().bind(null,"head"),en.domAPI=Z(),en.insertStyleElement=O();T()(tn.Z,en);tn.Z&&tn.Z.locals&&tn.Z.locals;const nn=(0,W.Z)(Xe,(function(){var t=this,e=t._self._c;return e("div",{key:t.key,staticClass:"link-view-bubble"},[e("div",{staticClass:"link-view-bubble__header"},[e("div",{staticClass:"link-view-bubble__title"},[t._v("\n\t\t\t"+t._s(t.title)+"\n\t\t")]),t._v(" "),e("NcButton",{attrs:{title:t.copyLinkTooltip,"aria-label":t.copyLinkTooltip,type:"tertiary"},on:{click:t.copyLink},scopedSlots:t._u([{key:"icon",fn:function(){return[t.copySuccess?e("CheckIcon",{attrs:{size:20}}):t.copyLoading?e("NcLoadingIcon",{attrs:{size:20}}):e("ContentCopyIcon",{attrs:{size:20}})]},proxy:!0}])}),t._v(" "),t.isEditable?e("div",{staticClass:"edit-buttons"},[t.edit?e("NcButton",{attrs:{title:t.t("text","Save changes"),"aria-label":t.t("text","Save changes"),type:"tertiary"},on:{click:t.updateLink},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CheckIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2630571749)}):e("NcButton",{attrs:{title:t.t("text","Edit link"),"aria-label":t.t("text","Edit link"),type:"tertiary"},on:{click:t.startEdit},scopedSlots:t._u([{key:"icon",fn:function(){return[e("PencilIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,4260349822)}),t._v(" "),t.edit?e("NcButton",{attrs:{title:t.t("text","Cancel"),"aria-label":t.t("text","Cancel"),type:"tertiary"},on:{click:t.stopEdit},scopedSlots:t._u([{key:"icon",fn:function(){return[e("CloseIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2428343285)}):e("NcButton",{attrs:{title:t.t("text","Remove link"),"aria-label":t.t("text","Remove link"),type:"tertiary"},on:{click:t.removeLink},scopedSlots:t._u([{key:"icon",fn:function(){return[e("LinkOffIcon",{attrs:{size:20}})]},proxy:!0}],null,!1,2250374828)})],1):t._e()],1),t._v(" "),t.isEditable&&t.edit?e("div",{staticClass:"link-view-bubble__edit"},[e("NcTextField",{attrs:{name:"newHref",label:t.t("text","URL"),value:t.newHref},on:{"update:value":function(e){t.newHref=e},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.updateLink.apply(null,arguments))}}})],1):e("NcReferenceList",{ref:"referencelist",staticClass:"link-view-bubble__reference-list",attrs:{text:t.sanitizedHref,limit:1,"display-fallback":!0},on:{loaded:t.onReferenceListLoaded}})],1)}),[],!1,null,"5ebda722",null).exports;var on=i(95242);function rn(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function an(t,e,n){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.set(t,n)}function sn(t,e){return function(t,e){if(e.get)return e.get.call(t);return e.value}(t,dn(t,e,"get"))}function ln(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,dn(t,e,"set"),n),n}function dn(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}var cn=new WeakMap,An=new WeakMap,pn=new WeakMap,un=new WeakMap;const hn=class{constructor(t){let{editor:e,view:n}=t;an(this,cn,{writable:!0,value:null}),an(this,An,{writable:!0,value:!1}),an(this,pn,{writable:!0,value:!1}),an(this,un,{writable:!0,value:void 0}),rn(this,"dragOrScrollHandler",(()=>{this.hide()})),rn(this,"pointerdownHandler",(()=>{ln(this,An,!0)})),rn(this,"clickHandler",(t=>{if(0!==t.button||t.ctrlKey||t.metaKey)return!1;const{pos:e}=this.editor.view.posAtCoords({left:t.clientX,top:t.clientY});if(!e)return!1;const n=this.editor.view.state.doc.resolve(e);setTimeout((()=>this.updateFromClick(this.editor.view,n)))})),rn(this,"focusHandler",(()=>{setTimeout((()=>this.update(this.editor.view)))})),rn(this,"blurHandler",(t=>{var e;let{event:n}=t;sn(this,An)?ln(this,An,!1):null!=n&&n.relatedTarget&&null!==(e=this.tippy)&&void 0!==e&&e.popper.firstChild.contains(n.relatedTarget)||this.hide()})),rn(this,"tippyBlurHandler",(()=>{this.hide()})),rn(this,"keydownHandler",(t=>{"Escape"===t.key&&(t.preventDefault(),this.hide())})),rn(this,"updateTooltip",((t,e,n,i)=>{var o,r;if(this.createTooltip(),!e||!n)return void this.hide();let a=t.nodeDOM(i);"[object Text]"===Object.prototype.toString.call(a)&&(a=a.parentElement);const s=null===(o=a)||void 0===o?void 0:o.getBoundingClientRect();sn(this,cn).updateProps({href:qe(n.marks.find((t=>"link"===t.type.name)))}),null===(r=this.tippy)||void 0===r||r.setProps({getReferenceClientRect:()=>s}),this.show()})),rn(this,"linkNodeFromSelection",(t=>{const{state:e}=t,{selection:n}=e,{ranges:i}=n,o=Math.min(...i.map((t=>t.$from.pos))),r=Math.max(...i.map((t=>t.$to.pos))),a=t.state.doc.resolve(o),s=a.parent.maybeChild(a.index());if(!(r>a.pos-a.textOffset+(null==s?void 0:s.nodeSize)))return this.isLinkNode(s)?s:null})),this.editor=e,this.view=n;const i=(0,on.B)(),o=i?i.extend(nn):nn;ln(this,cn,new B.aA(o,{parent:this.editor.contentComponent,propsData:{editor:this.editor,href:null}})),this.view.dom.addEventListener("dragstart",this.dragOrScrollHandler),this.view.dom.addEventListener("click",this.clickHandler),document.addEventListener("scroll",this.dragOrScrollHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler)}createTooltip(){var t,e;const{element:n}=this.editor.options,i=!!n.parentElement;!this.tippy&&i&&(this.tippy=(0,Ue.ZP)(n,{duration:100,getReferenceClientRect:null,content:sn(this,cn).element,interactive:!0,trigger:"manual",placement:"bottom",hideOnClick:"toggle",popperOptions:{strategy:"fixed"}}),null===(t=this.tippy.popper.firstChild)||void 0===t||t.addEventListener("pointerdown",this.pointerdownHandler,{capture:!0}),null===(e=this.tippy.popper.firstChild)||void 0===e||e.addEventListener("blur",this.tippyBlurHandler))}update(t,e){const{composing:n}=t,i=!(null!=e&&e.selection.eq(t.state.selection)),o=!(null!=e&&e.doc.eq(t.state.doc));n||!i&&!o||(sn(this,un)&&clearTimeout(sn(this,un)),ln(this,un,window.setTimeout((()=>{this.updateFromSelection(t)}),250)))}updateFromSelection(t){if(sn(this,pn))return;const{state:e}=t,{selection:n}=e,{ranges:i}=n,o=Math.min(...i.map((t=>t.$from.pos))),r=t.state.doc.resolve(o),a=r.pos-r.textOffset,s=this.linkNodeFromSelection(t),l=sn(this,cn).element.contains(document.activeElement),d=t.hasFocus()||l,c=!!s&&d;this.updateTooltip(t,c,s,a)}updateFromClick(t,e){const n=e.pos-e.textOffset,i=e.parent.maybeChild(e.index()),o=this.isLinkNode(i);ln(this,pn,!0),setTimeout((()=>{ln(this,pn,!1)}),200),this.updateTooltip(this.editor.view,o,i,n)}show(){var t;null===(t=this.tippy)||void 0===t||t.show(),this.view.dom.addEventListener("keydown",this.keydownHandler)}hide(){this.view.dom.removeEventListener("keydown",this.keydownHandler),setTimeout((()=>{var t;null===(t=this.tippy)||void 0===t||t.hide()}),100)}destroy(){var t,e,n;null===(t=this.tippy)||void 0===t||null===(t=t.popper.firstChild)||void 0===t||t.removeEventListener("blur",this.tippyBlurHandler),null===(e=this.tippy)||void 0===e||null===(e=e.popper.firstChild)||void 0===e||e.removeEventListener("pointerdown",this.pointerdownHandler,{capture:!0}),null===(n=this.tippy)||void 0===n||n.destroy(),this.view.dom.removeEventListener("dragstart",this.dragOrScrollHandler),this.view.dom.removeEventListener("click",this.clickHandler),document.removeEventListener("scroll",this.dragOrScrollHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}isLinkNode(t){const e=null==t?void 0:t.marks.find((t=>"link"===t.type.name));return!!e&&!e.attrs.href.startsWith("#")}},mn=s.hj.create({name:"linkViewBubble",addOptions:()=>({pluginKey:"linkViewBubble"}),addProseMirrorPlugins(){return[new l.Sy({key:new l.H$(this.options.pluginKey),view:t=>new hn({editor:this.editor,view:t})})]}});var Cn=i(34565),vn=i(14068),fn=i(77958);const gn={name:"Mention",components:{NcUserBubble:tt.uq,NodeViewWrapper:B.T5},props:{updateAttributes:{type:Function,required:!0},node:{type:Object,required:!0}},data(){return{username:this.node.attrs.label}},computed:{isCurrentUser(){var t;return this.node.attrs.id===(null===(t=(0,fn.ts)())||void 0===t?void 0:t.uid)}}};var bn=i(50580),xn={};xn.styleTagTransform=z(),xn.setAttributes=j(),xn.insert=N().bind(null,"head"),xn.domAPI=Z(),xn.insertStyleElement=O();T()(bn.Z,xn);bn.Z&&bn.Z.locals&&bn.Z.locals;const yn=(0,W.Z)(gn,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"mention",attrs:{as:"span",contenteditable:"false"}},[e("NcUserBubble",{staticClass:"mention-user-bubble",attrs:{user:t.node.attrs.id,"display-name":t.username,primary:t.isCurrentUser}},[t._v("\n\t\t@"+t._s(t.username)+"\n\t")])],1)}),[],!1,null,"297bb5fa",null).exports,wn=vn.ZP.extend({parseHTML:()=>[{tag:'span[data-type="user"]',getAttrs:t=>({id:decodeURIComponent(t.getAttribute("data-id")),label:t.innerText||t.textContent||t.getAttribute("data-label")}),priority:100}],renderHTML(t){let{node:e,HTMLAttributes:n}=t;return["span",(0,s.P1)({"data-type":"user",class:"mention"},this.options.HTMLAttributes,n),this.options.renderLabel({options:this.options,node:e})]},addNodeView:()=>(0,B.uf)(yn),toMarkdown(t,e){t.write(" "),t.write("@[".concat(e.attrs.label,"](mention://user/").concat(encodeURIComponent(e.attrs.id),")")),t.write(" ")}});var kn=i(51575),_n=i(26022);const Bn={name:"ParagraphView",components:{NodeViewWrapper:B.T5,NodeViewContent:B.ms,NcReferenceList:De.ek},props:B.Un,data:()=>({text:null,isLoggedIn:(0,fn.ts)()}),watch:{node:{handler(t){null!=t&&t.textContent?this.debouncedUpdateText(t):this.text=""}}},beforeCreate(){this.debouncedUpdateText=X()((t=>{this.text=this.getTextReference(this.node)}),500)},created(){this.text=this.getTextReference(this.node)},beforeUnmount(){var t;null===(t=this.debouncedUpdateText)||void 0===t||t.cancel()},methods:{getTextReference(t){var e,n;if(null==t||!t.childCount)return null;let i;for(let e=0;e<t.childCount;e++){const n=t.child(e);if("text"!==n.type.name)return null;if(n.textContent.trim()){if(i)return null;i=n}}const o=null===(e=i)||void 0===e?void 0:e.marks.find((t=>"link"===t.type.name)),r=null==o||null===(n=o.attrs)||void 0===n?void 0:n.href;return new RegExp(/(^)(https?:\/\/)((?:[-A-Z0-9+_]+\.)+[-A-Z]+(?:\/[-A-Z0-9+&@#%?=~_|!:,.;()]*)*)($)/gi).test(r)?r:null}}};var Mn=i(68989),Pn={};Pn.styleTagTransform=z(),Pn.setAttributes=j(),Pn.insert=N().bind(null,"head"),Pn.domAPI=Z(),Pn.insertStyleElement=O();T()(Mn.Z,Pn);Mn.Z&&Mn.Z.locals&&Mn.Z.locals;const In=(0,W.Z)(Bn,(function(){var t=this,e=t._self._c;return e("NodeViewWrapper",{staticClass:"vue-component",attrs:{as:"p"}},[e("NodeViewContent",{staticClass:"paragraph-content"}),t._v(" "),t.isLoggedIn&&t.text?e("NcReferenceList",{attrs:{text:t.text,limit:1,interactive:!0,contenteditable:"false"}}):t._e()],1)}),[],!1,null,"96bc0d6c",null).exports,En=_n.Z.extend({addNodeView:()=>(0,B.uf)(In),parseHTML(){return this.parent().map((t=>Object.assign(t,{preserveWhitespace:"full"})))},addKeyboardShortcuts(){return{Backspace:()=>{const t=this.editor.state.selection;if(0!==t.$from.parentOffset)return!1;const e=t.$from.parent,n=t.$from.index(t.$from.depth-1);if(0===n)return!1;const i=t.$from.node(t.$from.depth-1).child(n-1);return e.type.name===this.name&&i.type.name===this.name&&this.editor.chain().joinBackward().setHardBreak().run()}}}});var Sn=i(93237);const Tn=Pt;var Dn=i(87605);const Zn=Dn.ZP.extend({addOptions:()=>({nested:!0,HTMLAttributes:{}}),draggable:!1,content:"paragraph block*",addAttributes(){const t={...this.parent()};return t.checked.parseHTML=t=>{var e;return null===(e=t.querySelector("input[type=checkbox]"))||void 0===e?void 0:e.checked},t},parseHTML:[{priority:101,tag:"li",getAttrs:t=>t.querySelector("input[type=checkbox]"),context:"taskList/"}],renderHTML(t){let{node:e,HTMLAttributes:n}=t;const i={class:"checkbox-item"},o={type:"checkbox",class:"",contenteditable:!1};return e.attrs.checked&&(o.checked=!0,i.class+=" checked"),["li",(0,s.P1)(n,i),["input",o],["label",0]]},addNodeView:!1,toMarkdown:(t,e)=>{t.write("[".concat(e.attrs.checked?"x":" ","] ")),t.renderContent(e)},addInputRules(){return[...this.parent(),(0,s.S0)({find:/^\s*([-+*])\s(\[(x|X|\s)?\])\s$/,type:this.type,getAttributes:t=>({checked:"xX".includes(t[t.length-1])})})]},addProseMirrorPlugins:()=>[new l.Sy({props:{handleClick:(t,e,n)=>{const i=t.state,o=i.schema,r=t.posAtCoords({left:n.clientX,top:n.clientY}),a=((t,e)=>{for(let n=t.depth;n>0;n--){const i=t.node(n);if(e(i))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:i}}})(i.doc.resolve(r.pos),(function(t){return t.type===o.nodes.taskItem||t.type===o.nodes.listItem}));if(!("li"===n.target.tagName.toLowerCase())||!a||a.node.type!==o.nodes.taskItem||!t.editable)return;const s=i.tr;s.setNodeMarkup(a.pos,o.nodes.taskItem,{checked:!a.node.attrs.checked}),t.dispatch(s)}}})]});const Ln=i(63354).Z.extend({parseHTML:[{priority:100,tag:"ul.contains-task-list"}],addAttributes(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),bullet:{default:"-",rendered:!1,isRequired:!0,parseHTML:t=>t.getAttribute("data-bullet")}}},toMarkdown:(t,e)=>{t.renderList(e,"  ",(()=>"".concat(e.attrs.bullet," ")))}});function Nn(t){let{types:e,node:n}=t;return Array.isArray(e)&&e.includes(n.type)||n.type===e}const Hn=s.hj.create({name:"trailingNode",addOptions:()=>({node:"paragraph",notAfter:["paragraph"]}),addProseMirrorPlugins(){const t=new l.H$(this.name),e=Object.entries(this.editor.schema.nodes).map((t=>{let[,e]=t;return e})).filter((t=>this.options.notAfter.includes(t.name)));return[new l.Sy({key:t,appendTransaction:(e,n,i)=>{const{doc:o,tr:r,schema:a}=i,s=t.getState(i),l=o.content.size,d=a.nodes[this.options.node];if(s)return r.insert(l,d.create())},state:{init:(t,n)=>!Nn({node:n.tr.doc.lastChild,types:e}),apply:(t,n)=>{if(!t.docChanged)return n;return!Nn({node:t.doc.lastChild,types:e})}}})]}});var jn=i(73816);const $n=i(49924).Z.extend({addOptions(){var t;return{...null===(t=this.parent)||void 0===t?void 0:t.call(this),relativePath:null}},addAttributes:()=>({href:{default:null},title:{default:null}}),inclusive:!1,parseHTML:[{tag:"a[href]",getAttrs:t=>({href:Ke(t),title:t.getAttribute("title")})}],renderHTML(t){const{mark:e}=t;return["a",{...e.attrs,href:qe(e,this.options.relativePath),"data-md-href":e.attrs.href,rel:"noopener noreferrer nofollow"},0]},addProseMirrorPlugins(){return[...this.parent().filter((t=>{let{key:e}=t;return!e.startsWith("handleClickLink")})),new l.Sy({key:new l.H$("textHandleClickLink"),props:{handleDOMEvents:{pointerup:(t,e)=>{if(e.target.closest("a")&&1===e.button&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey){e.preventDefault();const t=e.target.closest("a");window.open(t.href,"_blank")}},paste:(t,e)=>{e.target.closest("a")&&(e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation())},click:(t,e)=>{const n=e.target.closest("a");var i;0===e.button&&n&&(e.preventDefault(),null!==(i=n.attributes.href)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&i.startsWith("#")?location.href=n.attributes.href.value:(e.ctrlKey||e.metaKey)&&window.open(n.href,"_blank"))}}}})]}}),On=$n;const Rn=i(4281).ZP.extend({parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],renderHTML:()=>["s",0],toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}});var zn=i(67937);const Gn=zn.d8.extend({name:"strong",addInputRules(){return[(0,s.Cf)({find:zn.bP,type:this.type})]},addPasteRules(){return[(0,s.K9)({find:zn.lN,type:this.type})]}});const Un=i(48510).Z.extend({parseHTML:()=>[{tag:"u"},{style:"text-decoration",getAttrs:t=>"underline"===t}],renderHTML:()=>["u",0],toMarkdown:{open:"__",close:"__",mixable:!0,expelEnclosingWhitespace:!0},addInputRules(){return[(0,s.Cf)({find:zn.fJ,type:this.type})]},addPasteRules(){return[(0,s.K9)({find:zn.lD,type:this.type})]}}),Wn=jn.ZP.extend({name:"em"});w.$.registerAlias("plaintext","mermaid");const Fn=s.hj.create({name:"RichText",addOptions:()=>({editing:!0,extensions:[],component:null,relativePath:null}),addExtensions(){const t=[this.options.editing?g.Z:null,vt.Z,b.Z,En,Qt,de,Gn,Wn,Rn,k.ZP,q.Z,K.ZP,Ct.configure({lowlight:w.$,defaultLanguage:"plaintext"}),_,ce.Z,kn.ZP,Cn.Z,this.options.editing?zt:Tn,Ln,Zn,V,Un,Be,Me,ft.Z,Yt.Z,Pe,Kt,wn,A.configure({suggestion:(0,Gt.Z)({listComponent:qt,items:t=>{let{query:e}=t;return(0,tt.Kn)(e)},command:t=>{let{editor:e,range:n,props:i}=t;e.chain().focus().insertContentAt(n,i.native+" ").run()}})}),Ge,On.configure({openOnClick:!0,validate:t=>/^https?:\/\//.test(t),relativePath:this.options.relativePath}),mn,this.options.editing?Sn.Z.configure({emptyNodeClass:"is-empty",placeholder:(0,Ut.Iu)("text","Add notes, lists or links …"),showOnlyWhenEditable:!0}):null,Hn],e=this.options.extensions.map((t=>t.name));return[...t.filter((t=>t&&!e.includes(t.name))),...this.options.extensions]}})},30744:(t,e,n)=>{n.d(e,{F:()=>o,Z:()=>a});var i=n(28464);const o=["info","warn","error","success"],r=t=>(e,n,i,o,r)=>{const a=e[n];return 1===a.nesting&&(a.attrSet("data-callout",t),a.attrJoin("class","callout callout-".concat(t))),r.renderToken(e,n,i,o,r)},a=t=>(o.forEach((e=>{t.use(i.Z,e,{render:r(e)})})),t)},40187:(t,e,n)=>{n.d(e,{Z:()=>x});var i=n(9980),o=n.n(i),r=n(28087),a=n(17251),s=n.n(a);function l(t,e){var n;return(null===(n=t.attrGet("class"))||void 0===n?void 0:n.split(" ").includes(e))||!1}function d(t,e,n){const i=new n("bullet_list_close","ul",-1);i.block=!0;const o=new n("bullet_list_open","ul",1);o.attrSet("class","contains-task-list"),o.block=!0,o.markup=t[e].markup,t.splice(e,0,i,o)}function c(t,e,n){const i=t[e].level+1;for(let o=e+1;o<t.length;o++){const e=t[o];if(e.level<i)return-1;if(e.level===i&&n(t[o]))return o}return-1}var A=n(30744),p=n(43905),u=n.n(p),h=n(1917),m=n.n(h);var C=n(66661),v=n.n(C),f=n(65495),g=n(67022);const b=o()("commonmark",{html:!1,breaks:!1}).enable("strikethrough").enable("table").use(r.Z,{enable:!0,labelAfter:!0}).use(v(),(t=>{})).use((function(t){t.core.ruler.after("task-lists","split-mixed-task-lists",(t=>{const e=t.tokens;for(let n=0;n<e.length;n++){const i=e[n];if(!l(i,"contains-task-list"))continue;const o=l(e[n+1],"task-list-item");o||(i.attrs.splice(i.attrIndex("class")),0===i.attrs.length&&(i.attrs=null));const r=c(e,n,(t=>1===t.nesting&&l(t,"task-list-item")!==o));r>n&&d(e,r,t.Token)}return!1}))})).use((function(t){t.inline.ruler2.after("emphasis","underline",(t=>{const e=t.tokens;for(let t=e.length-1;t>0;t--){const n=e[t];"__"===n.markup&&("strong_open"===n.type&&(e[t].tag="u",e[t].type="u_open"),"strong_close"===n.type&&(e[t].tag="u",e[t].type="u_close"))}return!1}))})).use((function(t){t.inline.ruler.at("newline",((t,e)=>{const n=u()(t,e);return n&&t.tokens.length&&"hardbreak"===t.tokens[t.tokens.length-1].type&&t.tokens[t.tokens.length-1].attrSet("syntax","  "),n})),t.inline.ruler.at("escape",((t,e)=>{const n=m()(t,e);return n&&t.tokens.length&&"hardbreak"===t.tokens[t.tokens.length-1].type&&t.tokens[t.tokens.length-1].attrSet("syntax","\\"),n})),t.inline.ruler.after("html_inline","html_breaks",(t=>{const e=t.src.slice(t.pos).match(/^\s*<br\s*\/?>/);if(e){return t.push("hardbreak","br",0).attrPush(["syntax","html"]),t.pos+=e[0].length,!0}return!1})),t.renderer.rules.hardbreak=(t,e,n)=>'<br data-syntax="'.concat(t[e].attrGet("syntax"),'" ').concat(n.xhtmlOut?"/":"",">")})).use(A.Z).use((function(t){const e=/(\n(?<linestart>[#\-*+>])|(?<special>[`*\\~[\]]+))/;t.core.ruler.before("text_join","tag-markdown-syntax",(t=>{const n=new t.Token("keep_md_open","span",1);n.attrSet("class","keep-md");const i=new t.Token("keep_md_close","span",-1);for(let r=0;r<t.tokens.length;r++){const a=t.tokens[r];if("inline"===a.type)for(let t=0;t<a.children.length;t++){const r=a.children[t];if("text"===r.type){const s=e.exec(r.content);if(s){var o;const e=s.groups.linestart?s.index+1:s.index,l=e+(null!==(o=s.groups.linestart)&&void 0!==o?o:s.groups.special).length;a.children.splice(t,1,Object.assign({},r,{content:r.content.slice(0,e)}),Object.assign({},n),Object.assign({},r,{content:r.content.slice(e,l)}),Object.assign({},i),Object.assign({},r,{content:r.content.slice(l)})),t+=3}}}}return!1}))})).use(s()).use(f.Z);b.renderer.rules.front_matter=(t,e,n)=>'<pre id="frontmatter"><code>'.concat((0,g.escapeHtml)(t[e].meta),"</code></pre>"),b.renderer.rules.bullet_list_open=(t,e,n)=>(t[e].attrs=[...t[e].attrs||[],["data-bullet",t[e].markup]],b.renderer.renderToken(t,e,n));const x=b},13815:(t,e,n)=>{n.d(e,{Z:()=>o});var i=n(25030);const o={data:()=>({$store:i.default}),beforeMount(){void 0===this.$store?this.$store=i.default:this.$store.hasModule("text")||this.$store.registerModule("text",i.D)}}},97646:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".text-menubar button.entry-action__button,.v-popper__inner button.entry-action__button{height:44px;margin:0;border:0;position:relative;background-color:rgba(0,0,0,0);vertical-align:top;box-shadow:none;padding:0}.text-menubar button.entry-action__button p,.v-popper__inner button.entry-action__button p{padding:0}.text-menubar button.entry-action__button:is(li.entry-action-item button),.v-popper__inner button.entry-action__button:is(li.entry-action-item button){padding:0 .5em 0 0}.text-menubar button.entry-action__button:not(li.entry-action-item button),.v-popper__inner button.entry-action__button:not(li.entry-action-item button){width:44px}.text-menubar button.entry-action__button:hover,.text-menubar button.entry-action__button:focus,.text-menubar button.entry-action__button:active,.v-popper__inner button.entry-action__button:hover,.v-popper__inner button.entry-action__button:focus,.v-popper__inner button.entry-action__button:active{background-color:var(--color-background-dark)}.text-menubar button.entry-action__button:hover:not(:disabled),.text-menubar button.entry-action__button:focus:not(:disabled),.text-menubar button.entry-action__button:active:not(:disabled),.v-popper__inner button.entry-action__button:hover:not(:disabled),.v-popper__inner button.entry-action__button:focus:not(:disabled),.v-popper__inner button.entry-action__button:active:not(:disabled){box-shadow:var(--color-primary-element)}.text-menubar button.entry-action__button:hover,.text-menubar button.entry-action__button:focus,.v-popper__inner button.entry-action__button:hover,.v-popper__inner button.entry-action__button:focus{opacity:1}.text-menubar button.entry-action__button:focus-visible,.v-popper__inner button.entry-action__button:focus-visible{box-shadow:var(--color-primary-element)}.text-menubar .button-vue,.v-popper__inner .button-vue{margin-right:2px}@media only screen and (max-width: 767px){.text-menubar .button-vue,.v-popper__inner .button-vue{margin-right:0}}.text-menubar .action-item__menutoggle.action-item__menutoggle--with-icon-slot,.v-popper__inner .action-item__menutoggle.action-item__menutoggle--with-icon-slot{opacity:1}","",{version:3,sources:["webpack://./src/components/Menu/ActionEntry.scss"],names:[],mappings:"AACC,uFACC,WAAA,CACA,QAAA,CACA,QAAA,CAEA,iBAAA,CACA,8BAAA,CACA,kBAAA,CACA,eAAA,CACA,SAAA,CAEA,2FACC,SAAA,CAGD,uJACC,kBAAA,CAGD,yJACC,UAAA,CAGD,2SAGC,6CAAA,CACA,qYACC,uCAAA,CAIF,sMAEC,SAAA,CAED,mHACC,uCAAA,CAKF,uDACC,gBAAA,CAGD,0CACC,uDACC,cAAA,CAAA,CAIF,iKACC,SAAA",sourcesContent:[".text-menubar, .v-popper__inner {\n\tbutton.entry-action__button {\n\t\theight: 44px;\n\t\tmargin: 0;\n\t\tborder: 0;\n\t\t// opacity: 0.5;\n\t\tposition: relative;\n\t\tbackground-color: transparent;\n\t\tvertical-align: top;\n\t\tbox-shadow: none;\n\t\tpadding: 0;\n\n\t\tp {\n\t\t\tpadding: 0;\n\t\t}\n\n\t\t&:is(li.entry-action-item button) {\n\t\t\tpadding: 0 0.5em 0 0;\n\t\t}\n\n\t\t&:not(li.entry-action-item button) {\n\t\t\twidth: 44px;\n\t\t}\n\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground-color: var(--color-background-dark);\n\t\t\t&:not(:disabled) {\n\t\t\t\tbox-shadow: var(--color-primary-element);\n\t\t\t}\n\t\t}\n\n\t\t&:hover,\n\t\t&:focus {\n\t\t\topacity: 1;\n\t\t}\n\t\t&:focus-visible {\n\t\t\tbox-shadow: var(--color-primary-element);\n\t\t}\n\n\t}\n\n\t.button-vue {\n\t\tmargin-right: 2px;\n\t}\n\n\t@media only screen and (max-width: 767px) {\n\t\t.button-vue {\n\t\t\tmargin-right: 0;\n\t\t}\n\t}\n\n\t.action-item__menutoggle.action-item__menutoggle--with-icon-slot {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]);const s=a},38909:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".editor__content[data-v-151c6c0d]{max-width:var(--text-editor-max-width);margin:auto;position:relative;width:100%}.text-editor__content-wrapper[data-v-151c6c0d]{--side-width: calc((100% - var(--text-editor-max-width)) / 2);display:grid;grid-template-columns:1fr auto}.text-editor__content-wrapper.--show-outline[data-v-151c6c0d]{grid-template-columns:var(--side-width) auto var(--side-width)}.text-editor__content-wrapper .text-editor__content-wrapper__left[data-v-151c6c0d],.text-editor__content-wrapper .text-editor__content-wrapper__right[data-v-151c6c0d]{height:100%;position:relative}","",{version:3,sources:["webpack://./src/components/BaseReader.vue"],names:[],mappings:"AACA,kCACC,sCAAA,CACA,WAAA,CACA,iBAAA,CACA,UAAA,CAGD,+CACC,6DAAA,CACA,YAAA,CACA,8BAAA,CACA,8DACC,8DAAA,CAED,uKAEC,WAAA,CACA,iBAAA",sourcesContent:["\n.editor__content {\n\tmax-width: var(--text-editor-max-width);\n\tmargin: auto;\n\tposition: relative;\n\twidth: 100%;\n}\n\n.text-editor__content-wrapper {\n\t--side-width: calc((100% - var(--text-editor-max-width)) / 2);\n\tdisplay: grid;\n\tgrid-template-columns: 1fr auto;\n\t&.--show-outline {\n\t\tgrid-template-columns: var(--side-width) auto var(--side-width);\n\t}\n\t.text-editor__content-wrapper__left,\n\t.text-editor__content-wrapper__right {\n\t\theight: 100%;\n\t\tposition: relative;\n\t}\n}\n"],sourceRoot:""}]);const s=a},19539:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".editor--outline[data-v-6e0356ad]{width:300px;padding:0 10px 10px 10px;position:fixed;overflow:auto;max-height:calc(100% - 204px)}.editor--outline-mobile[data-v-6e0356ad]{box-shadow:8px 0 17px -19px var(--color-box-shadow);background-color:var(--color-main-background-translucent);z-index:1}.editor--outline__header[data-v-6e0356ad]{margin:0;position:sticky;top:0;z-index:1;background-color:var(--color-main-background);padding:.6em .6em .6em 0;display:flex;align-items:center}.editor--outline__header h2[data-v-6e0356ad]{font-size:1rem;line-height:1.1rem;flex-grow:1;padding:0;margin:0}","",{version:3,sources:["webpack://./src/components/Editor/EditorOutline.vue"],names:[],mappings:"AACA,kCACC,WAAA,CACA,wBAAA,CACA,cAAA,CACA,aAAA,CAEA,6BAAA,CAEA,yCACC,mDAAA,CACA,yDAAA,CACA,SAAA,CAGD,0CACC,QAAA,CACA,eAAA,CACA,KAAA,CACA,SAAA,CACA,6CAAA,CACA,wBAAA,CACA,YAAA,CACA,kBAAA,CAEA,6CACC,cAAA,CACA,kBAAA,CACA,WAAA,CACA,SAAA,CACA,QAAA",sourcesContent:["\n.editor--outline {\n\twidth:  300px;\n\tpadding: 0 10px 10px 10px;\n\tposition: fixed;\n\toverflow: auto;\n\t// 204px = 50px nc header + 60px collectives titlebar + 44px menubar + 50px bottom margin\n\tmax-height: calc(100% - 204px);\n\n\t&-mobile {\n\t\tbox-shadow: 8px 0 17px -19px var(--color-box-shadow);\n\t\tbackground-color: var(--color-main-background-translucent);\n\t\tz-index: 1;\n\t}\n\n\t&__header {\n\t\tmargin: 0;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 1;\n\t\tbackground-color: var(--color-main-background);\n\t\tpadding: 0.6em 0.6em 0.6em 0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\n\t\th2 {\n\t\t\tfont-size: 1rem;\n\t\t\tline-height: 1.1rem;\n\t\t\tflex-grow: 1;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const s=a},8715:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".--initial-render .editor--toc__item{--initial-padding-left: 0;animation:initialPadding 1.5s}.editor--toc{padding:0 10px;color:var(--color-main-text-maxcontrast);--animation-duration: 0.8s}.editor--toc h3{padding-left:.75rem}.editor--toc__list{width:100%;list-style:none;font-size:.9rem;padding:0;animation-name:fadeInLeft;animation-duration:var(--animation-duration)}.editor--toc__item{transform:translateX(var(--padding-left, 0rem));text-overflow:ellipsis;overflow:hidden;white-space:nowrap;animation:initialPadding calc(var(--animation-duration)*2);width:calc(100% - var(--padding-left))}.editor--toc__item a:hover{color:var(--color-primary-element-hover)}.editor--toc__item--1{--padding-left: 0rem;font-weight:600}.editor--toc__item--1:not(:nth-child(1)){margin-top:.5rem}.editor--toc__item--2{--padding-left: 1rem}.editor--toc__item--3{--padding-left: 2rem}.editor--toc__item--4{--padding-left: 3rem}.editor--toc__item--5{--padding-left: 4rem}.editor--toc__item--6{--padding-left: 5rem}.editor--toc__item--previous-1{--initial-padding-left: 0rem }.editor--toc__item--previous-2{--initial-padding-left: 1rem }.editor--toc__item--previous-3{--initial-padding-left: 2rem }.editor--toc__item--previous-4{--initial-padding-left: 3rem }.editor--toc__item--previous-5{--initial-padding-left: 4rem }.editor--toc__item--previous-6{--initial-padding-left: 5rem }@keyframes initialPadding{from{transform:translateX(var(--initial-padding-left, initial))}to{transform:translateX(var(--padding-left, 0rem))}}","",{version:3,sources:["webpack://./src/components/Editor/TableOfContents.vue"],names:[],mappings:"AAGE,qCACC,yBAAA,CACA,6BAAA,CAKH,aACC,cAAA,CACA,wCAAA,CACA,0BAAA,CAEA,gBACC,mBAAA,CAGD,mBACC,UAAA,CACA,eAAA,CACA,eAAA,CACA,SAAA,CAEA,yBAAA,CACA,4CAAA,CAGD,mBACC,+CAAA,CACA,sBAAA,CACA,eAAA,CACA,kBAAA,CACA,0DAAA,CACA,sCAAA,CAEA,2BACC,wCAAA,CAGD,sBACC,oBAAA,CACA,eAAA,CACA,yCACC,gBAAA,CAIF,sBACC,oBAAA,CAGD,sBACC,oBAAA,CAGD,sBACC,oBAAA,CAGD,sBACC,oBAAA,CAGD,sBACC,oBAAA,CAGD,+BACC,6BAAA,CAGD,+BACC,6BAAA,CAGD,+BACC,6BAAA,CAGD,+BACC,6BAAA,CAGD,+BACC,6BAAA,CAGD,+BACC,6BAAA,CAKH,0BACE,KACD,0DAAA,CAGC,GACD,+CAAA,CAAA",sourcesContent:["\n.--initial-render {\n\t.editor--toc {\n\t\t&__item {\n\t\t\t--initial-padding-left: 0;\n\t\t\tanimation: initialPadding 1.5s;\n\t\t}\n\t}\n}\n\n.editor--toc {\n\tpadding: 0 10px;\n\tcolor: var(--color-main-text-maxcontrast);\n\t--animation-duration: 0.8s;\n\n\th3 {\n\t\tpadding-left: 0.75rem;\n\t}\n\n\t&__list {\n\t\twidth: 100%;\n\t\tlist-style: none;\n\t\tfont-size: 0.9rem;\n\t\tpadding: 0;\n\n\t\tanimation-name: fadeInLeft;\n\t\tanimation-duration: var(--animation-duration);\n\t}\n\n\t&__item {\n\t\ttransform: translateX(var(--padding-left, 0rem));\n\t\ttext-overflow: ellipsis;\n\t\toverflow: hidden;\n\t\twhite-space: nowrap;\n\t\tanimation: initialPadding calc(var(--animation-duration) * 2);\n\t\twidth: calc(100% - var(--padding-left));\n\n\t\ta:hover {\n\t\t\tcolor: var(--color-primary-element-hover);\n\t\t}\n\n\t\t&--1 {\n\t\t\t--padding-left: 0rem;\n\t\t\tfont-weight: 600;\n\t\t\t&:not(:nth-child(1)) {\n\t\t\t\tmargin-top: 0.5rem;\n\t\t\t}\n\t\t}\n\n\t\t&--2 {\n\t\t\t--padding-left: 1rem;\n\t\t}\n\n\t\t&--3 {\n\t\t\t--padding-left: 2rem;\n\t\t}\n\n\t\t&--4 {\n\t\t\t--padding-left: 3rem;\n\t\t}\n\n\t\t&--5 {\n\t\t\t--padding-left: 4rem;\n\t\t}\n\n\t\t&--6 {\n\t\t\t--padding-left: 5rem;\n\t\t}\n\n\t\t&--previous-1 {\n\t\t\t--initial-padding-left: 0rem\n\t\t}\n\n\t\t&--previous-2 {\n\t\t\t--initial-padding-left: 1rem\n\t\t}\n\n\t\t&--previous-3 {\n\t\t\t--initial-padding-left: 2rem\n\t\t}\n\n\t\t&--previous-4 {\n\t\t\t--initial-padding-left: 3rem\n\t\t}\n\n\t\t&--previous-5 {\n\t\t\t--initial-padding-left: 4rem\n\t\t}\n\n\t\t&--previous-6 {\n\t\t\t--initial-padding-left: 5rem\n\t\t}\n\t}\n}\n\n@keyframes initialPadding {\n  from {\n\ttransform: translateX(var(--initial-padding-left, initial));\n  }\n\n  to {\n\ttransform: translateX(var(--padding-left, 0rem));\n  }\n}\n\n"],sourceRoot:""}]);const s=a},62657:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".modal__content[data-v-403f8ff2]{height:80vh;padding:0 50px;display:flex;justify-content:center}.modal__content img[data-v-403f8ff2]{width:100%;height:100%;object-fit:contain}","",{version:3,sources:["webpack://./src/components/ImageView/ShowImageModal.vue"],names:[],mappings:"AACA,iCACC,WAAA,CACA,cAAA,CACA,YAAA,CACA,sBAAA,CACA,qCACC,UAAA,CACA,WAAA,CACA,kBAAA",sourcesContent:["\n.modal__content {\n\theight: 80vh;\n\tpadding: 0 50px;\n\tdisplay: flex;\n\tjustify-content: center;\n\timg {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tobject-fit: contain;\n\t}\n}\n"],sourceRoot:""}]);const s=a},34738:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".link-view-bubble[data-v-5ebda722]{padding:4px;width:350px;background-color:var(--color-main-background);border-radius:var(--border-radius-large);filter:drop-shadow(0 1px 10px var(--color-box-shadow));box-sizing:initial !important}.link-view-bubble__header[data-v-5ebda722]{display:flex;justify-content:flex-end}.link-view-bubble__header .edit-buttons[data-v-5ebda722]{display:flex}.link-view-bubble__title[data-v-5ebda722]{align-self:center;padding-left:calc(var(--default-grid-baseline, 4px)*3);margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:bold}.link-view-bubble__reference-list[data-v-5ebda722]{padding:4px;padding-top:0}.link-view-bubble__reference-list[data-v-5ebda722] a.widget-default{margin:0;border:0;border-radius:unset}.link-view-bubble__reference-list[data-v-5ebda722] img.widget-default--image{border-radius:var(--border-radius-large)}.link-view-bubble__edit[data-v-5ebda722]{padding:4px;padding-top:0}.link-view-bubble__edit .input-field[data-v-5ebda722]{margin-bottom:12px}","",{version:3,sources:["webpack://./src/components/Link/LinkBubbleView.vue"],names:[],mappings:"AACA,mCACC,WAAA,CACA,WAAA,CACA,6CAAA,CACA,wCAAA,CACA,sDAAA,CACA,6BAAA,CAEA,2CACC,YAAA,CACA,wBAAA,CAEA,yDACC,YAAA,CAIF,0CACC,iBAAA,CACA,sDAAA,CACA,iBAAA,CAEA,eAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CAGD,mDACC,WAAA,CACA,aAAA,CAEA,oEACC,QAAA,CACA,QAAA,CACA,mBAAA,CAGD,6EACC,wCAAA,CAIF,yCACC,WAAA,CACA,aAAA,CAEA,sDACC,kBAAA",sourcesContent:["\n.link-view-bubble {\n\tpadding: 4px;\n\twidth: 350px;\n\tbackground-color: var(--color-main-background);\n\tborder-radius: var(--border-radius-large);\n\tfilter: drop-shadow(0 1px 10px var(--color-box-shadow));\n\tbox-sizing: initial !important;\n\n\t&__header {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\n\t\t.edit-buttons {\n\t\t\tdisplay: flex;\n\t\t}\n\t}\n\n\t&__title {\n\t\talign-self: center;\n\t\tpadding-left: calc(var(--default-grid-baseline, 4px) * 3);\n\t\tmargin-right: auto;\n\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\twhite-space: nowrap;\n\t\tfont-weight: bold;\n\t}\n\n\t&__reference-list {\n\t\tpadding: 4px;\n\t\tpadding-top: 0;\n\n\t\t:deep(a.widget-default) {\n\t\t\tmargin: 0;\n\t\t\tborder: 0;\n\t\t\tborder-radius: unset;\n\t\t}\n\n\t\t:deep(img.widget-default--image) {\n\t\t\tborder-radius: var(--border-radius-large);\n\t\t}\n\t}\n\n\t&__edit {\n\t\tpadding: 4px;\n\t\tpadding-top: 0;\n\n\t\t.input-field {\n\t\t\tmargin-bottom: 12px;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const s=a},36993:(t,e,n)=>{n.d(e,{Z:()=>p});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r),s=n(61667),l=n.n(s),d=new URL(n(69521),n.b),c=a()(o()),A=l()(d);c.push([t.id,`div.ProseMirror{height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:var(--default-font-size);outline:none;--table-color-border: var(--color-border);--table-color-heading: var(--color-text-maxcontrast);--table-color-heading-border: var(--color-border-dark);--table-color-background: var(--color-main-background);--table-color-background-hover: var(--color-primary-element-light);--table-border-radius: var(--border-radius)}div.ProseMirror :target{scroll-margin-top:50px}div.ProseMirror[contenteditable=true],div.ProseMirror[contenteditable=false],div.ProseMirror [contenteditable=true],div.ProseMirror [contenteditable=false]{width:100%;background-color:rgba(0,0,0,0);color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:var(--default-font-size)}div.ProseMirror[contenteditable=true]:not(.collaboration-cursor__caret),div.ProseMirror[contenteditable=false]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=true]:not(.collaboration-cursor__caret),div.ProseMirror [contenteditable=false]:not(.collaboration-cursor__caret){border:none !important}div.ProseMirror[contenteditable=true]:focus,div.ProseMirror[contenteditable=true]:focus-visible,div.ProseMirror[contenteditable=false]:focus,div.ProseMirror[contenteditable=false]:focus-visible,div.ProseMirror [contenteditable=true]:focus,div.ProseMirror [contenteditable=true]:focus-visible,div.ProseMirror [contenteditable=false]:focus,div.ProseMirror [contenteditable=false]:focus-visible{box-shadow:none !important}div.ProseMirror ul[data-type=taskList]{margin-left:1px}div.ProseMirror .checkbox-item{display:flex;align-items:start}div.ProseMirror .checkbox-item input[type=checkbox]{display:none}div.ProseMirror .checkbox-item:before{content:"";vertical-align:middle;margin:3px 6px 3px 2px;border:1px solid var(--color-text-maxcontrast);display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer;left:9px}div.ProseMirror .checkbox-item.checked:before{background-image:url(${A});background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item.checked>label>p{color:var(--color-text-maxcontrast);text-decoration:line-through}div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror>*:first-child{margin-top:10px}div.ProseMirror>h1:first-child,div.ProseMirror h2:first-child,div.ProseMirror h3:first-child,div.ProseMirror h4:first-child,div.ProseMirror h5:first-child,div.ProseMirror h6:first-child{margin-top:0}div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p .paragraph-content{margin-bottom:1em;line-height:150%}div.ProseMirror em{font-style:italic}div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{font-weight:600;line-height:1.1em;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1{font-size:36px}div.ProseMirror h2{font-size:30px}div.ProseMirror h3{font-size:24px}div.ProseMirror h4{font-size:21px}div.ProseMirror h5{font-size:17px}div.ProseMirror h6{font-size:var(--default-font-size)}div.ProseMirror img{cursor:default;max-width:100%}div.ProseMirror hr{padding:2px 0;border:none;margin:2em 0;width:100%}div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre{white-space:pre-wrap;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:.6rem}div.ProseMirror pre code .hljs-comment,div.ProseMirror pre code .hljs-quote{color:#999}div.ProseMirror pre code .hljs-variable,div.ProseMirror pre code .hljs-template-variable,div.ProseMirror pre code .hljs-attribute,div.ProseMirror pre code .hljs-tag,div.ProseMirror pre code .hljs-name,div.ProseMirror pre code .hljs-regexp,div.ProseMirror pre code .hljs-link,div.ProseMirror pre code .hljs-selector-id,div.ProseMirror pre code .hljs-selector-class{color:#f2777a}div.ProseMirror pre code .hljs-number,div.ProseMirror pre code .hljs-meta,div.ProseMirror pre code .hljs-built_in,div.ProseMirror pre code .hljs-builtin-name,div.ProseMirror pre code .hljs-literal,div.ProseMirror pre code .hljs-type,div.ProseMirror pre code .hljs-params{color:#f99157}div.ProseMirror pre code .hljs-string,div.ProseMirror pre code .hljs-symbol,div.ProseMirror pre code .hljs-bullet{color:#9c9}div.ProseMirror pre code .hljs-title,div.ProseMirror pre code .hljs-section{color:#fc6}div.ProseMirror pre code .hljs-keyword,div.ProseMirror pre code .hljs-selector-tag{color:#69c}div.ProseMirror pre code .hljs-emphasis{font-style:italic}div.ProseMirror pre code .hljs-strong{font-weight:700}div.ProseMirror pre.frontmatter{margin-bottom:2em;border-left:4px solid var(--color-primary-element)}div.ProseMirror pre.frontmatter::before{display:block;content:attr(data-title);color:var(--color-text-maxcontrast);padding-bottom:.5em}div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li{position:relative;padding-left:3px}div.ProseMirror li p .paragraph-content{margin-bottom:.5em}div.ProseMirror ul,div.ProseMirror ol{padding-left:10px;margin-left:10px;margin-bottom:1em}div.ProseMirror ul>li{list-style-type:disc}div.ProseMirror li ul>li{list-style-type:circle}div.ProseMirror li li ul>li{list-style-type:square}div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}div.ProseMirror table{border-spacing:0;width:calc(100% - 50px);table-layout:auto;white-space:normal;margin-bottom:1em}div.ProseMirror table+*{margin-top:1em}div.ProseMirror table td,div.ProseMirror table th{border:1px solid var(--table-color-border);border-left:0;vertical-align:top;max-width:100%}div.ProseMirror table td:first-child,div.ProseMirror table th:first-child{border-left:1px solid var(--table-color-border)}div.ProseMirror table td{padding:.5em .75em;border-top:0;color:var(--color-main-text)}div.ProseMirror table th{padding:0 0 0 .75em;font-weight:normal;border-bottom-color:var(--table-color-heading-border);color:var(--table-color-heading)}div.ProseMirror table th>div{display:flex}div.ProseMirror table tr{background-color:var(--table-color-background)}div.ProseMirror table tr:hover,div.ProseMirror table tr:active,div.ProseMirror table tr:focus{background-color:var(--table-color-background-hover)}div.ProseMirror table tr:first-child th:first-child{border-top-left-radius:var(--table-border-radius)}div.ProseMirror table tr:first-child th:last-child{border-top-right-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td:first-child{border-bottom-left-radius:var(--table-border-radius)}div.ProseMirror table tr:last-child td:last-child{border-bottom-right-radius:var(--table-border-radius)}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.editor__content p.is-empty:first-child::before{content:attr(data-placeholder);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.editor__content{tab-size:4}@media print{@page{size:A4;margin:2.5cm 2cm 2cm 2.5cm}body{position:absolute;overflow:visible !important}#header{display:none !important}#content{display:block !important;position:relative !important;border-radius:0;margin:0;width:100%;height:fit-content}footer{display:none !important}#viewer[data-handler=text]{border:none;width:100% !important;position:absolute !important}#viewer[data-handler=text] .modal-header{display:none !important}#viewer[data-handler=text] .modal-container{top:0px;height:fit-content}.text-editor{height:fit-content !important}.text-editor .text-menubar{display:none !important}.text-editor .action-item{display:none !important}.text-editor .editor__content{max-width:100%}.text-editor .text-editor__wrapper{height:fit-content;position:unset}.text-editor .text-editor__wrapper div.ProseMirror{margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0}.text-editor .text-editor__wrapper div.ProseMirror h1,.text-editor .text-editor__wrapper div.ProseMirror h2,.text-editor .text-editor__wrapper div.ProseMirror h3,.text-editor .text-editor__wrapper div.ProseMirror h4,.text-editor .text-editor__wrapper div.ProseMirror h5{break-after:avoid;page-break-after:avoid}.text-editor .text-editor__wrapper div.ProseMirror .image,.text-editor .text-editor__wrapper div.ProseMirror img,.text-editor .text-editor__wrapper div.ProseMirror table{break-inside:avoid-page;page-break-inside:avoid;max-width:90% !important;margin:5vw auto 5vw 5% !important}.text-editor .text-editor__wrapper div.ProseMirror th{color:#000 !important;font-weight:bold !important;border-width:0 1px 2px 0 !important;border-color:gray !important;border-style:none solid solid none !important}.text-editor .text-editor__wrapper div.ProseMirror th:last-of-type{border-width:0 0 2px 0 !important}.text-editor .text-editor__wrapper div.ProseMirror td{border-style:none solid none none !important;border-width:1px !important;border-color:gray !important}.text-editor .text-editor__wrapper div.ProseMirror td:last-of-type{border:none !important}.menubar-placeholder,.text-editor--readonly-bar{display:none}.text-editor__content-wrapper.--show-outline{display:block}.text-editor__content-wrapper .editor--outline{width:auto;height:auto;overflow:unset;position:relative}.text-editor__content-wrapper .editor--outline__btn-close{display:none}.collaboration-cursor__caret,.collaboration-cursor__label{display:none}}`,"",{version:3,sources:["webpack://./src/css/prosemirror.scss","webpack://./src/css/print.scss"],names:[],mappings:"AAGA,gBACC,WAAA,CACA,iBAAA,CACA,oBAAA,CACA,oBAAA,CACA,mCAAA,CACA,2BAAA,CACA,0BAAA,CACA,gBAAA,CACA,kCAAA,CACA,YAAA,CA+QA,yCAAA,CACA,oDAAA,CACA,sDAAA,CACA,sDAAA,CACA,kEAAA,CACA,2CAAA,CAlRA,wBAEC,sBAAA,CAGD,4JAIC,UAAA,CACA,8BAAA,CACA,4BAAA,CACA,SAAA,CACA,wBAAA,CACA,gBAAA,CACA,kCAAA,CAEA,oSACC,sBAAA,CAGD,wYACC,0BAAA,CAIF,uCACC,eAAA,CAGD,+BACC,YAAA,CACA,iBAAA,CAEA,oDACC,YAAA,CAED,sCACC,UAAA,CACA,qBAAA,CACA,sBAAA,CACA,8CAAA,CACA,aAAA,CACA,kCAAA,CACA,WAAA,CACA,UAAA,CACA,0BAAA,CACA,0BAAA,CACA,cAAA,CACA,QAAA,CAGA,8CACC,wDAAA,CACA,6CAAA,CACA,yCAAA,CAED,+CACC,mCAAA,CACA,4BAAA,CAGF,qCACC,aAAA,CACA,WAAA,CACA,2BAAA,CAIF,8BACC,eAAA,CAIA,0LACC,YAAA,CAIF,kBACC,kCAAA,CACA,yBAAA,CACA,cAAA,CAGD,qCACC,iBAAA,CACA,gBAAA,CAGD,mBACC,iBAAA,CAGD,kHAMC,eAAA,CACA,iBAAA,CACA,eAAA,CACA,kBAAA,CACA,4BAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,cAAA,CAGD,mBACC,kCAAA,CAGD,oBACC,cAAA,CACA,cAAA,CAGD,mBACC,aAAA,CACA,WAAA,CACA,YAAA,CACA,UAAA,CAGD,yBACC,UAAA,CACA,aAAA,CACA,UAAA,CACA,yCAAA,CACA,eAAA,CAGD,oBACC,oBAAA,CACA,6CAAA,CACA,kCAAA,CACA,iBAAA,CACA,iBAAA,CAEA,4BACC,2BAAA,CACA,wBAAA,CACA,aAAA,CACA,gBAAA,CACA,gBAAA,CACA,eAAA,CAGA,4EAEC,UAAA,CAED,4WASC,aAAA,CAED,+QAOC,aAAA,CAED,kHAGC,UAAA,CAED,4EAEC,UAAA,CAED,mFAEC,UAAA,CAED,wCACC,iBAAA,CAED,sCACC,eAAA,CAKH,gCACC,iBAAA,CACA,kDAAA,CAGD,wCACC,aAAA,CACA,wBAAA,CACA,mCAAA,CACA,mBAAA,CAGD,uBACC,6CAAA,CACA,kCAAA,CACA,iBAAA,CAGD,mBACC,iBAAA,CACA,gBAAA,CAEA,wCACC,kBAAA,CAIF,sCACC,iBAAA,CACA,gBAAA,CACA,iBAAA,CAGD,sBACC,oBAAA,CAID,yBACC,sBAAA,CAID,4BACC,sBAAA,CAGD,2BACC,gBAAA,CACA,kDAAA,CACA,mCAAA,CACA,aAAA,CACA,cAAA,CAWD,sBACC,gBAAA,CACA,uBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,wBACC,cAAA,CAID,kDACC,0CAAA,CACA,aAAA,CACA,kBAAA,CACA,cAAA,CACA,0EACC,+CAAA,CAGF,yBACC,kBAAA,CACA,YAAA,CACA,4BAAA,CAED,yBACC,mBAAA,CACA,kBAAA,CACA,qDAAA,CACA,gCAAA,CAEA,6BACC,YAAA,CAGF,yBACC,8CAAA,CACA,8FACC,oDAAA,CAKD,oDAAA,iDAAA,CACA,mDAAA,kDAAA,CAIA,mDAAA,oDAAA,CACA,kDAAA,qDAAA,CAOH,4CACC,aAAA,CAGD,gDACC,8BAAA,CACA,UAAA,CACA,mCAAA,CACA,mBAAA,CACA,QAAA,CAGD,iBACC,UAAA,CCxWD,aACC,MACC,OAAA,CACA,0BAAA,CAGD,KAEC,iBAAA,CACA,2BAAA,CAGD,QACC,uBAAA,CAGD,SACC,wBAAA,CACA,4BAAA,CACA,eAAA,CACA,QAAA,CACA,UAAA,CACA,kBAAA,CAGD,OACC,uBAAA,CAGD,2BAEC,WAAA,CACA,qBAAA,CAEA,4BAAA,CAEA,yCAEC,uBAAA,CAED,4CAEC,OAAA,CACA,kBAAA,CAIF,aACC,6BAAA,CAEA,2BAEC,uBAAA,CAED,0BAEC,uBAAA,CAED,8BAEC,cAAA,CAED,mCACC,kBAAA,CACA,cAAA,CAEA,mDACC,YAAA,CACA,eAAA,CACA,aAAA,CACA,gBAAA,CAEA,8QAEC,iBAAA,CACA,sBAAA,CAED,0KAEC,uBAAA,CACA,uBAAA,CAEA,wBAAA,CACA,iCAAA,CAID,sDACC,qBAAA,CACA,2BAAA,CACA,mCAAA,CACA,4BAAA,CACA,6CAAA,CAED,mEACC,iCAAA,CAGD,sDACC,4CAAA,CACA,2BAAA,CACA,4BAAA,CAED,mEACC,sBAAA,CAMJ,gDACC,YAAA,CAIA,6CACC,aAAA,CAGD,+CACC,UAAA,CACA,WAAA,CACA,cAAA,CACA,iBAAA,CAED,0DACC,YAAA,CAIF,0DAEC,YAAA,CAAA",sourcesContent:["@use 'sass:selector';\n\n/* Document rendering styles */\ndiv.ProseMirror {\n\theight: 100%;\n\tposition: relative;\n\tword-wrap: break-word;\n\twhite-space: pre-wrap;\n\t-webkit-font-variant-ligatures: none;\n\tfont-variant-ligatures: none;\n\tpadding: 4px 8px 200px 14px;\n\tline-height: 150%;\n\tfont-size: var(--default-font-size);\n\toutline: none;\n\n\t:target {\n\t\t// Menubar height: 44px + 3px bottom + 3px top padding\n\t\tscroll-margin-top: 50px;\n\t}\n\n\t&[contenteditable=true],\n\t&[contenteditable=false],\n\t[contenteditable=true],\n\t[contenteditable=false] {\n\t\twidth: 100%;\n\t\tbackground-color: transparent;\n\t\tcolor: var(--color-main-text);\n\t\topacity: 1;\n\t\t-webkit-user-select: text;\n\t\tuser-select: text;\n\t\tfont-size: var(--default-font-size);\n\n\t\t&:not(.collaboration-cursor__caret) {\n\t\t\tborder: none !important;\n\t\t}\n\n\t\t&:focus, &:focus-visible {\n\t\t\tbox-shadow: none !important;\n\t\t}\n\t}\n\n\tul[data-type=taskList] {\n\t\tmargin-left: 1px;\n\t}\n\n\t.checkbox-item {\n\t\tdisplay: flex;\n\t\talign-items: start;\n\n\t\tinput[type=checkbox] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tvertical-align: middle;\n\t\t\tmargin: 3px 6px 3px 2px;\n\t\t\tborder: 1px solid var(--color-text-maxcontrast);\n\t\t\tdisplay: block;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tbox-shadow: none !important;\n\t\t\tbackground-position: center;\n\t\t\tcursor: pointer;\n\t\t\tleft: 9px;\n\t\t}\n\t\t&.checked{\n\t\t\t&:before {\n\t\t\t\tbackground-image: url('../../img/checkbox-mark.svg');\n\t\t\t\tbackground-color: var(--color-primary-element);\n\t\t\t\tborder-color: var(--color-primary-element);\n\t\t\t}\n\t\t\t> label > p {\n\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t\ttext-decoration: line-through;\n\t\t\t}\n\t\t}\n\t\tlabel {\n\t\t\tdisplay: block;\n\t\t\tflex-grow: 1;\n\t\t\tmax-width: calc(100% - 28px);\n\t\t}\n\t}\n\n\t> *:first-child {\n\t\tmargin-top: 10px;\n\t}\n\n\t> h1,h2,h3,h4,h5,h6 {\n\t\t&:first-child {\n\t\t\tmargin-top: 0;\n\t\t}\n\t}\n\n\ta {\n\t\tcolor: var(--color-primary-element);\n\t\ttext-decoration: underline;\n\t\tpadding: .5em 0;\n\t}\n\n\tp .paragraph-content {\n\t\tmargin-bottom: 1em;\n\t\tline-height: 150%;\n\t}\n\n\tem {\n\t\tfont-style: italic;\n\t}\n\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-weight: 600;\n\t\tline-height: 1.1em;\n\t\tmargin-top: 24px;\n\t\tmargin-bottom: 12px;\n\t\tcolor: var(--color-main-text);\n\t}\n\n\th1 {\n\t\tfont-size: 36px;\n\t}\n\n\th2 {\n\t\tfont-size: 30px;\n\t}\n\n\th3 {\n\t\tfont-size: 24px;\n\t}\n\n\th4 {\n\t\tfont-size: 21px;\n\t}\n\n\th5 {\n\t\tfont-size: 17px;\n\t}\n\n\th6 {\n\t\tfont-size: var(--default-font-size);\n\t}\n\n\timg {\n\t\tcursor: default;\n\t\tmax-width: 100%;\n\t}\n\n\thr {\n\t\tpadding: 2px 0;\n\t\tborder: none;\n\t\tmargin: 2em 0;\n\t\twidth: 100%;\n\t}\n\n\thr:after {\n\t\tcontent: '';\n\t\tdisplay: block;\n\t\theight: 1px;\n\t\tbackground-color: var(--color-border-dark);\n\t\tline-height: 2px;\n\t}\n\n\tpre {\n\t\twhite-space: pre-wrap;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 1em 1.3em;\n\t\tmargin-bottom: 1em;\n\n\t\t&::before {\n\t\t\tcontent: attr(data-language);\n\t\t\ttext-transform: uppercase;\n\t\t\tdisplay: block;\n\t\t\ttext-align: right;\n\t\t\tfont-weight: bold;\n\t\t\tfont-size: 0.6rem;\n\t\t}\n\t\tcode {\n\t\t\t.hljs-comment,\n\t\t\t.hljs-quote {\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t.hljs-variable,\n\t\t\t.hljs-template-variable,\n\t\t\t.hljs-attribute,\n\t\t\t.hljs-tag,\n\t\t\t.hljs-name,\n\t\t\t.hljs-regexp,\n\t\t\t.hljs-link,\n\t\t\t.hljs-selector-id,\n\t\t\t.hljs-selector-class {\n\t\t\t\tcolor: #f2777a;\n\t\t\t}\n\t\t\t.hljs-number,\n\t\t\t.hljs-meta,\n\t\t\t.hljs-built_in,\n\t\t\t.hljs-builtin-name,\n\t\t\t.hljs-literal,\n\t\t\t.hljs-type,\n\t\t\t.hljs-params {\n\t\t\t\tcolor: #f99157;\n\t\t\t}\n\t\t\t.hljs-string,\n\t\t\t.hljs-symbol,\n\t\t\t.hljs-bullet {\n\t\t\t\tcolor: #99cc99;\n\t\t\t}\n\t\t\t.hljs-title,\n\t\t\t.hljs-section {\n\t\t\t\tcolor: #ffcc66;\n\t\t\t}\n\t\t\t.hljs-keyword,\n\t\t\t.hljs-selector-tag {\n\t\t\t\tcolor: #6699cc;\n\t\t\t}\n\t\t\t.hljs-emphasis {\n\t\t\t\tfont-style: italic;\n\t\t\t}\n\t\t\t.hljs-strong {\n\t\t\t\tfont-weight: 700;\n\t\t\t}\n\t\t}\n\t}\n\n\tpre.frontmatter {\n\t\tmargin-bottom: 2em;\n\t\tborder-left: 4px solid var(--color-primary-element);\n\t}\n\n\tpre.frontmatter::before {\n\t\tdisplay: block;\n\t\tcontent: attr(data-title);\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tpadding-bottom: 0.5em;\n\t}\n\n\tp code {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: .1em .3em;\n\t}\n\n\tli {\n\t\tposition: relative;\n\t\tpadding-left: 3px;\n\n\t\tp .paragraph-content {\n\t\t\tmargin-bottom: 0.5em;\n\t\t}\n\t}\n\n\tul, ol {\n\t\tpadding-left: 10px;\n\t\tmargin-left: 10px;\n\t\tmargin-bottom: 1em;\n\t}\n\n\tul > li {\n\t\tlist-style-type: disc;\n\t}\n\n\t// Second-level list entries\n\tli ul > li {\n\t\tlist-style-type: circle;\n\t}\n\n\t// Third-level and further down list entries\n\tli li ul > li {\n\t\tlist-style-type: square;\n\t}\n\n\tblockquote {\n\t\tpadding-left: 1em;\n\t\tborder-left: 4px solid var(--color-primary-element);\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tmargin-left: 0;\n\t\tmargin-right: 0;\n\t}\n\n\t// table variables\n\t--table-color-border: var(--color-border);\n\t--table-color-heading: var(--color-text-maxcontrast);\n\t--table-color-heading-border: var(--color-border-dark);\n\t--table-color-background: var(--color-main-background);\n\t--table-color-background-hover: var(--color-primary-element-light);\n\t--table-border-radius: var(--border-radius);\n\n\ttable {\n\t\tborder-spacing: 0;\n\t\twidth: calc(100% - 50px);\n\t\ttable-layout: auto;\n\t\twhite-space: normal; // force text to wrapping\n\t\tmargin-bottom: 1em;\n\t\t&+ * {\n\t\t\tmargin-top: 1em;\n\t\t}\n\n\n\t\ttd, th {\n\t\t\tborder: 1px solid var(--table-color-border);\n\t\t\tborder-left: 0;\n\t\t\tvertical-align: top;\n\t\t\tmax-width: 100%;\n\t\t\t&:first-child {\n\t\t\t\tborder-left: 1px solid var(--table-color-border);\n\t\t\t}\n\t\t}\n\t\ttd {\n\t\t\tpadding: 0.5em 0.75em;\n\t\t\tborder-top: 0;\n\t\t\tcolor: var(--color-main-text);\n\t\t}\n\t\tth {\n\t\t\tpadding: 0 0 0 0.75em;\n\t\t\tfont-weight: normal;\n\t\t\tborder-bottom-color: var(--table-color-heading-border);\n\t\t\tcolor: var(--table-color-heading);\n\n\t\t\t& > div {\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\t\t}\n\t\ttr {\n\t\t\tbackground-color: var(--table-color-background);\n\t\t\t&:hover, &:active, &:focus {\n\t\t\t\tbackground-color: var(--table-color-background-hover);\n\t\t\t}\n\t\t}\n\n\t\ttr:first-child {\n\t\t\tth:first-child { border-top-left-radius: var(--table-border-radius); }\n\t\t\tth:last-child { border-top-right-radius: var(--table-border-radius); }\n\t\t}\n\n\t\ttr:last-child {\n\t\t\ttd:first-child { border-bottom-left-radius: var(--table-border-radius); }\n\t\t\ttd:last-child { border-bottom-right-radius: var(--table-border-radius); }\n\t\t}\n\n\t}\n\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n\tdisplay: block;\n}\n\n.editor__content p.is-empty:first-child::before {\n\tcontent: attr(data-placeholder);\n\tfloat: left;\n\tcolor: var(--color-text-maxcontrast);\n\tpointer-events: none;\n\theight: 0;\n}\n\n.editor__content {\n\ttab-size: 4;\n}\n","@media print {\n\t@page {\n\t\tsize: A4;\n\t\tmargin: 2.5cm 2cm 2cm 2.5cm;\n\t}\n\n\tbody {\n\t\t// position: fixed does not support scrolling and as such only prints one page\n\t\tposition: absolute;\n\t\toverflow: visible!important;\n\t}\n\n\t#header {\n\t\tdisplay: none!important;\n\t}\n\n\t#content {\n\t\tdisplay: block!important;\n\t\tposition: relative!important;\n\t\tborder-radius: 0;\n\t\tmargin: 0;\n\t\twidth: 100%;\n\t\theight: fit-content;\n\t}\n\n\tfooter {\n\t\tdisplay: none!important;\n\t}\n\n\t#viewer[data-handler='text'] {\n\t\t// Hide top border\n\t\tborder: none;\n\t\twidth: 100%!important;\n\t\t// NcModal uses fixed, which will be cropped when printed\n\t\tposition: absolute!important;\n\n\t\t.modal-header {\n\t\t\t// Hide modal header (close button)\n\t\t\tdisplay: none!important;\n\t\t}\n\t\t.modal-container {\n\t\t\t// Make sure top aligned as we hided the menubar */\n\t\t\ttop: 0px;\n\t\t\theight: fit-content;\n\t\t}\n\t}\n\n\t.text-editor {\n\t\theight: fit-content!important;\n\n\t\t.text-menubar {\n\t\t\t// Hide menu bar\n\t\t\tdisplay: none!important;\n\t\t}\n\t\t.action-item {\n\t\t\t// Hide table settings\n\t\t\tdisplay: none!important;\n\t\t}\n\t\t.editor__content {\n\t\t\t// Margins set by page rule\n\t\t\tmax-width: 100%;\n\t\t}\n\t\t.text-editor__wrapper {\n\t\t\theight: fit-content;\n\t\t\tposition: unset;\n\n\t\t\tdiv.ProseMirror {\n\t\t\t\tmargin-top: 0;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\tpadding-top: 0;\n\t\t\t\tpadding-bottom: 0;\n\n\t\t\t\th1, h2, h3, h4, h5 {\n\t\t\t\t\t// orphaned headlines are ugly\n\t\t\t\t\tbreak-after: avoid;\n\t\t\t\t\tpage-break-after: avoid;\n\t\t\t\t}\n\t\t\t\t.image, img, table {\n\t\t\t\t\t// try no page breaks within tables or images\n\t\t\t\t\tbreak-inside: avoid-page;\n\t\t\t\t\tpage-break-inside: avoid;\n\t\t\t\t\t// Some more indention\n\t\t\t\t\tmax-width: 90%!important;\n\t\t\t\t\tmargin: 5vw auto 5vw 5%!important;\n\t\t\t\t}\n\n\t\t\t\t// Add some borders below header and between columns\n\t\t\t\tth {\n\t\t\t\t\tcolor: black!important;\n\t\t\t\t\tfont-weight: bold!important;\n\t\t\t\t\tborder-width: 0 1px 2px 0!important;\n\t\t\t\t\tborder-color: gray!important;\n\t\t\t\t\tborder-style: none solid solid none!important;\n\t\t\t\t}\n\t\t\t\tth:last-of-type {\n\t\t\t\t\tborder-width: 0 0 2px 0!important;\n\t\t\t\t}\n\n\t\t\t\ttd {\n\t\t\t\t\tborder-style: none solid none none!important;\n\t\t\t\t\tborder-width: 1px!important;\n\t\t\t\t\tborder-color: gray!important;\n\t\t\t\t}\n\t\t\t\ttd:last-of-type {\n\t\t\t\t\tborder: none!important;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t.menubar-placeholder, .text-editor--readonly-bar {\n\t\tdisplay: none;\n\t}\n\n\t.text-editor__content-wrapper {\n\t\t&.--show-outline {\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t.editor--outline {\n\t\t\twidth: auto;\n\t\t\theight: auto;\n\t\t\toverflow: unset;\n\t\t\tposition: relative;\n\t\t}\n\t\t.editor--outline__btn-close {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t.collaboration-cursor__caret,\n\t.collaboration-cursor__label {\n\t\tdisplay: none;\n\t}\n}\n"],sourceRoot:""}]);const p=c},35437:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".emoji-list[data-v-74f9a54a]{border-radius:var(--border-radius);background-color:var(--color-main-background);box-shadow:0 1px 5px var(--color-box-shadow);overflow:auto;min-width:200px;max-width:200px;padding:4px;max-height:195.5px;margin:5px 0}.emoji-list__item[data-v-74f9a54a]{border-radius:8px;padding:4px 8px;margin-bottom:4px;opacity:.8;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.emoji-list__item[data-v-74f9a54a]:last-child{margin-bottom:0}.emoji-list__item__emoji[data-v-74f9a54a]{padding-right:8px}.emoji-list__item.is-selected[data-v-74f9a54a],.emoji-list__item[data-v-74f9a54a]:focus,.emoji-list__item[data-v-74f9a54a]:hover{opacity:1;background-color:var(--color-primary-element-light)}","",{version:3,sources:["webpack://./src/components/Suggestion/Emoji/EmojiList.vue"],names:[],mappings:"AACA,6BACC,kCAAA,CACA,6CAAA,CACA,4CAAA,CACA,aAAA,CAEA,eAAA,CACA,eAAA,CACA,WAAA,CAEA,kBAAA,CACA,YAAA,CAEA,mCACC,iBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,cAAA,CAGA,kBAAA,CACA,eAAA,CACA,sBAAA,CAEA,8CACC,eAAA,CAGD,0CACC,iBAAA,CAGD,iIAGC,SAAA,CACA,mDAAA",sourcesContent:["\n.emoji-list {\n\tborder-radius: var(--border-radius);\n\tbackground-color: var(--color-main-background);\n\tbox-shadow: 0 1px 5px var(--color-box-shadow);\n\toverflow: auto;\n\n\tmin-width: 200px;\n\tmax-width: 200px;\n\tpadding: 4px;\n\t// Show maximum 5 entries and a half to show scroll\n\tmax-height: 35.5px * 5 + 18px;\n\tmargin: 5px 0;\n\n\t&__item {\n\t\tborder-radius: 8px;\n\t\tpadding: 4px 8px;\n\t\tmargin-bottom: 4px;\n\t\topacity: 0.8;\n\t\tcursor: pointer;\n\n\t\t// Take care of long names\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\n\t\t&:last-child {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\n\t\t&__emoji {\n\t\t\tpadding-right: 8px;\n\t\t}\n\n\t\t&.is-selected,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--color-primary-element-light);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const s=a},38049:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".link-picker__item[data-v-11ad0ffc]{display:flex;align-items:center}.link-picker__item>div[data-v-11ad0ffc]{padding:4px;padding-left:8px;overflow:hidden;text-overflow:ellipsis}.link-picker__item img[data-v-11ad0ffc]{width:20px;height:20px;filter:var(--background-invert-if-dark)}","",{version:3,sources:["webpack://./src/components/Suggestion/LinkPicker/LinkPickerList.vue"],names:[],mappings:"AACA,oCACC,YAAA,CACA,kBAAA,CAEA,wCACC,WAAA,CACA,gBAAA,CACA,eAAA,CACA,sBAAA,CAGD,wCACC,UAAA,CACA,WAAA,CACA,uCAAA",sourcesContent:["\n.link-picker__item {\n\tdisplay: flex;\n\talign-items: center;\n\n\t& > div {\n\t\tpadding: 4px;\n\t\tpadding-left: 8px;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\timg {\n\t\twidth: 20px;\n\t\theight: 20px;\n\t\tfilter: var(--background-invert-if-dark);\n\t}\n}\n"],sourceRoot:""}]);const s=a},37115:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".suggestion-list[data-v-721c3a10]{border-radius:var(--border-radius);background-color:var(--color-main-background);box-shadow:0 1px 5px var(--color-box-shadow);overflow:auto;min-width:200px;max-width:400px;width:80vw;padding:4px;max-height:195.5px;margin:5px 0}.suggestion-list__group[data-v-721c3a10]{font-weight:bold;color:var(--color-primary-element);font-size:var(--default-font-size);line-height:44px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;opacity:.7;box-shadow:none !important;flex-shrink:0;padding-left:8px}.suggestion-list__item[data-v-721c3a10]{border-radius:8px;padding:4px 8px;margin-bottom:4px;opacity:.8;cursor:pointer;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.suggestion-list__item[data-v-721c3a10]:last-child{margin-bottom:0}.suggestion-list__item__emoji[data-v-721c3a10]{padding-right:8px}.suggestion-list__item.is-selected[data-v-721c3a10],.suggestion-list__item[data-v-721c3a10]:focus,.suggestion-list__item[data-v-721c3a10]:hover{opacity:1;background-color:var(--color-primary-element-light)}","",{version:3,sources:["webpack://./src/components/Suggestion/SuggestionListWrapper.vue"],names:[],mappings:"AACA,kCACC,kCAAA,CACA,6CAAA,CACA,4CAAA,CACA,aAAA,CAEA,eAAA,CACA,eAAA,CACA,UAAA,CACA,WAAA,CAEA,kBAAA,CACA,YAAA,CAEA,yCACC,gBAAA,CACA,kCAAA,CACA,kCAAA,CACA,gBAAA,CACA,kBAAA,CACA,eAAA,CACA,sBAAA,CACA,UAAA,CACA,0BAAA,CACA,aAAA,CACA,gBAAA,CAGD,wCACC,iBAAA,CACA,eAAA,CACA,iBAAA,CACA,UAAA,CACA,cAAA,CAGA,kBAAA,CACA,eAAA,CACA,sBAAA,CAEA,mDACC,eAAA,CAGD,+CACC,iBAAA,CAGD,gJAGC,SAAA,CACA,mDAAA",sourcesContent:["\n.suggestion-list {\n\tborder-radius: var(--border-radius);\n\tbackground-color: var(--color-main-background);\n\tbox-shadow: 0 1px 5px var(--color-box-shadow);\n\toverflow: auto;\n\n\tmin-width: 200px;\n\tmax-width: 400px;\n\twidth: 80vw;\n\tpadding: 4px;\n\t// Show maximum 5 entries and a half to show scroll\n\tmax-height: 35.5px * 5 + 18px;\n\tmargin: 5px 0;\n\n\t&__group {\n\t\tfont-weight: bold;\n\t\tcolor: var(--color-primary-element);\n\t\tfont-size: var(--default-font-size);\n\t\tline-height: 44px;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\topacity: .7;\n\t\tbox-shadow: none !important;\n\t\tflex-shrink: 0;\n\t\tpadding-left: 8px;\n\t}\n\n\t&__item {\n\t\tborder-radius: 8px;\n\t\tpadding: 4px 8px;\n\t\tmargin-bottom: 4px;\n\t\topacity: 0.8;\n\t\tcursor: pointer;\n\n\t\t// Take care of long names\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\n\t\t&:last-child {\n\t\t\tmargin-bottom: 0;\n\t\t}\n\n\t\t&__emoji {\n\t\t\tpadding-right: 8px;\n\t\t}\n\n\t\t&.is-selected,\n\t\t&:focus,\n\t\t&:hover {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--color-primary-element-light);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const s=a},32550:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".callout[data-v-4387ae9f]{background-color:var(--callout-background, var(--color-background-hover));border-left-color:var(--callout-border, var(--color-primary-element));border-radius:var(--border-radius);padding:1em;padding-left:.5em;border-left-width:.3em;border-left-style:solid;position:relative;margin-bottom:.5em;display:flex;align-items:center;justify-content:flex-start}.callout+*[data-v-4387ae9f]{margin-top:.5em}.callout .callout__content[data-v-4387ae9f]{margin-left:1em}.callout .callout__content[data-v-4387ae9f] p:last-child{margin-bottom:0}.callout .callout__icon[data-v-4387ae9f],.callout .callout__icon[data-v-4387ae9f] svg{color:var(--callout-border)}.callout[data-v-4387ae9f],.callout--info[data-v-4387ae9f]{--callout-border: var(--color-info, #006aa3)}.callout--warn[data-v-4387ae9f]{--callout-border: var(--color-warning)}.callout--error[data-v-4387ae9f]{--callout-border: var(--color-error)}.callout--success[data-v-4387ae9f]{--callout-border: var(--color-success)}","",{version:3,sources:["webpack://./src/nodes/Callout.vue"],names:[],mappings:"AACA,0BACC,yEAAA,CACA,qEAAA,CACA,kCAAA,CACA,WAAA,CACA,iBAAA,CACA,sBAAA,CACA,uBAAA,CACA,iBAAA,CACA,kBAAA,CAEA,YAAA,CACA,kBAAA,CACA,0BAAA,CAEA,4BACC,eAAA,CAGD,4CACC,eAAA,CAEC,yDACC,eAAA,CAMF,sFACC,2BAAA,CAKF,0DACC,4CAAA,CAID,gCACC,sCAAA,CAID,iCACC,oCAAA,CAID,mCACC,sCAAA",sourcesContent:["\n.callout {\n\tbackground-color: var(--callout-background, var(--color-background-hover));\n\tborder-left-color: var(--callout-border, var(--color-primary-element));\n\tborder-radius: var(--border-radius);\n\tpadding: 1em;\n\tpadding-left: 0.5em;\n\tborder-left-width: 0.3em;\n\tborder-left-style: solid;\n\tposition: relative;\n\tmargin-bottom: 0.5em;\n\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: flex-start;\n\n\t&+ * {\n\t\tmargin-top: 0.5em;\n\t}\n\n\t.callout__content {\n\t\tmargin-left: 1em;\n\t\t&:deep(p) {\n\t\t\t&:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t.callout__icon {\n\t\t&, :deep(svg) {\n\t\t\tcolor: var(--callout-border);\n\t\t}\n\t}\n\n\t// Info (default) variables\n\t&, &--info {\n\t\t--callout-border: var(--color-info, #006aa3);\n\t}\n\n\t// Warn variables\n\t&--warn {\n\t\t--callout-border: var(--color-warning);\n\t}\n\n\t// Error variables\n\t&--error {\n\t\t--callout-border: var(--color-error);\n\t}\n\n\t// Success variables\n\t&--success {\n\t\t--callout-border: var(--color-success);\n\t}\n}\n"],sourceRoot:""}]);const s=a},48356:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".code-block[data-v-633fb49e]{background-color:var(--color-background-dark)}.code-block-header[data-v-633fb49e]{display:flex;flex-direction:row;justify-content:space-between;align-items:stretch;position:absolute;right:12px;margin-top:4px}.split-view[data-v-633fb49e]{display:flex;flex-direction:row;justify-content:space-between;align-items:stretch;gap:12px}.split-view>*[data-v-633fb49e]{flex:1}.split-view__preview[data-v-633fb49e]{text-align:center}@media only screen and (max-width: 600px){.split-view[data-v-633fb49e]{flex-direction:column}}.view-switch[data-v-633fb49e]{display:flex;flex-direction:row}","",{version:3,sources:["webpack://./src/nodes/CodeBlockView.vue"],names:[],mappings:"AACA,6BACC,6CAAA,CAGD,oCACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,mBAAA,CACA,iBAAA,CACA,UAAA,CACA,cAAA,CAGD,6BACC,YAAA,CACA,kBAAA,CACA,6BAAA,CACA,mBAAA,CACA,QAAA,CAEA,+BACC,MAAA,CAGD,sCACC,iBAAA,CAIF,0CACC,6BACC,qBAAA,CAAA,CAIF,8BACC,YAAA,CACA,kBAAA",sourcesContent:["\n.code-block {\n\tbackground-color: var(--color-background-dark);\n}\n\n.code-block-header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: stretch;\n\tposition: absolute;\n\tright: 12px;\n\tmargin-top: 4px;\n}\n\n.split-view {\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n\talign-items: stretch;\n\tgap: 12px;\n\n\t& > * {\n\t\tflex: 1;\n\t}\n\n\t&__preview {\n\t\ttext-align: center;\n\t}\n}\n\n@media only screen and (max-width: 600px) {\n\t.split-view {\n\t\tflex-direction: column;\n\t}\n}\n\n.view-switch {\n\tdisplay: flex;\n\tflex-direction: row;\n}\n"],sourceRoot:""}]);const s=a},2516:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{position:relative}div.ProseMirror h1 .heading-anchor[contenteditable=false],div.ProseMirror h2 .heading-anchor[contenteditable=false],div.ProseMirror h3 .heading-anchor[contenteditable=false],div.ProseMirror h4 .heading-anchor[contenteditable=false],div.ProseMirror h5 .heading-anchor[contenteditable=false],div.ProseMirror h6 .heading-anchor[contenteditable=false]{width:1em;opacity:0;padding:0;left:-1em;bottom:0;font-size:max(1em,16px);position:absolute;text-decoration:none;transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}div.ProseMirror h1:hover .heading-anchor,div.ProseMirror h2:hover .heading-anchor,div.ProseMirror h3:hover .heading-anchor,div.ProseMirror h4:hover .heading-anchor,div.ProseMirror h5:hover .heading-anchor,div.ProseMirror h6:hover .heading-anchor{opacity:.5 !important}div.ProseMirror h1:focus-visible,div.ProseMirror h2:focus-visible,div.ProseMirror h3:focus-visible,div.ProseMirror h4:focus-visible,div.ProseMirror h5:focus-visible,div.ProseMirror h6:focus-visible{outline:none}","",{version:3,sources:["webpack://./src/nodes/Heading/HeadingView.vue"],names:[],mappings:"AAGC,kHACC,iBAAA,CACA,4VAEC,SAAA,CACA,SAAA,CACA,SAAA,CACA,SAAA,CACA,QAAA,CACA,uBAAA,CACA,iBAAA,CACA,oBAAA,CACA,wBAAA,CACA,2BAAA,CACA,uDAAA,CAGD,sPACC,qBAAA,CAGD,sMACC,YAAA",sourcesContent:['\ndiv.ProseMirror {\n\t/* Anchor links */\n\th1,h2,h3,h4,h5,h6 {\n\t\tposition: relative;\n\t\t.heading-anchor[contenteditable="false"] {\n\t\t\t// Shrink clickable area of anchor permalinks to not overlay the heading\n\t\t\twidth: 1em;\n\t\t\topacity: 0;\n\t\t\tpadding: 0;\n\t\t\tleft: -1em;\n\t\t\tbottom: 0;\n\t\t\tfont-size: max(1em, 16px);\n\t\t\tposition: absolute;\n\t\t\ttext-decoration: none;\n\t\t\ttransition-duration: .15s;\n\t\t\ttransition-property: opacity;\n\t\t\ttransition-timing-function: cubic-bezier(.4,0,.2,1);\n\t\t}\n\n\t\t&:hover .heading-anchor {\n\t\t\topacity: 0.5!important;\n\t\t}\n\n\t\t&:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const s=a},37204:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".image[data-v-27c2d6f0]{margin:0;padding:0}.image[data-v-27c2d6f0],.image *[data-v-27c2d6f0]{-webkit-user-modify:read-only !important}.image__caption[data-v-27c2d6f0]{text-align:center;color:var(--color-text-lighter);display:flex;align-items:center;justify-content:center}.image__caption__wrapper[data-v-27c2d6f0]{position:relative}.image__caption__delete[data-v-27c2d6f0]{display:flex;flex-basis:20%;align-items:center;width:20px !important;height:20px;position:absolute;bottom:-1px;right:-3px}.image__caption__delete[data-v-27c2d6f0],.image__caption__delete svg[data-v-27c2d6f0]{cursor:pointer}.image__caption .image__caption__wrapper[data-v-27c2d6f0]{flex-basis:80%}.image__caption input[type=text][data-v-27c2d6f0]{width:85%;text-align:center;background-color:rgba(0,0,0,0);border:none !important;color:var(--color-text-maxcontrast) !important}.image__caption input[type=text][data-v-27c2d6f0]:focus{border:2px solid var(--color-border-dark) !important;color:var(--color-main-text) !important}.image__caption figcaption[data-v-27c2d6f0]{color:var(--color-text-maxcontrast) !important;max-width:80%;text-align:center;width:fit-content}.image__loading[data-v-27c2d6f0]{height:100px}.image__main[data-v-27c2d6f0]{max-height:calc(100vh - 50px - 50px)}.image__main--broken-icon[data-v-27c2d6f0],.image__error-message[data-v-27c2d6f0]{color:var(--color-text-maxcontrast)}.image__error-message[data-v-27c2d6f0]{display:block;text-align:center}.image__view[data-v-27c2d6f0]{text-align:center;position:relative}.image__view img[data-v-27c2d6f0]{max-width:100%}.image__view:hover input[type=text][data-v-27c2d6f0]{border:2px solid var(--color-border-dark) !important;color:var(--color-main-text) !important}.media[data-v-27c2d6f0]{display:flex;align-items:center;justify-content:left}.media .media__wrapper[data-v-27c2d6f0]{display:flex;border:2px solid var(--color-border);border-radius:var(--border-radius-large);padding:8px}.media .media__wrapper img[data-v-27c2d6f0]{width:44px;height:44px}.media .media__wrapper .metadata[data-v-27c2d6f0]{margin-left:8px;display:flex;flex-direction:column;align-items:start}.media .media__wrapper .metadata span[data-v-27c2d6f0]{line-height:20px;font-weight:normal}.media .media__wrapper .metadata span.size[data-v-27c2d6f0]{color:var(--color-text-maxcontrast)}.media .buttons[data-v-27c2d6f0]{margin-left:8px}.fade-enter-active[data-v-27c2d6f0]{transition:opacity .3s ease-in-out}.fade-enter-to[data-v-27c2d6f0]{opacity:1}.fade-enter[data-v-27c2d6f0]{opacity:0}","",{version:3,sources:["webpack://./src/nodes/ImageView.vue"],names:[],mappings:"AACA,wBACC,QAAA,CACA,SAAA,CAEA,kDACC,wCAAA,CAIF,iCACC,iBAAA,CACA,+BAAA,CACA,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,0CACC,iBAAA,CAED,yCACC,YAAA,CACA,cAAA,CACA,kBAAA,CACA,qBAAA,CACA,WAAA,CACA,iBAAA,CACA,WAAA,CACA,UAAA,CACA,sFACC,cAAA,CAGF,0DACC,cAAA,CAED,kDACC,SAAA,CACA,iBAAA,CACA,8BAAA,CACA,sBAAA,CACA,8CAAA,CAEA,wDACC,oDAAA,CACA,uCAAA,CAGF,4CACC,8CAAA,CACA,aAAA,CACA,iBAAA,CACA,iBAAA,CAIF,iCACC,YAAA,CAGD,8BACC,oCAAA,CAGD,kFACC,mCAAA,CAGD,uCACC,aAAA,CACA,iBAAA,CAGD,8BACC,iBAAA,CACA,iBAAA,CAEA,kCACC,cAAA,CAIA,qDACC,oDAAA,CACA,uCAAA,CAKH,wBACC,YAAA,CACA,kBAAA,CACA,oBAAA,CACA,wCACC,YAAA,CACA,oCAAA,CACA,wCAAA,CACA,WAAA,CAEA,4CACC,UAAA,CACA,WAAA,CAGD,kDACC,eAAA,CACA,YAAA,CACA,qBAAA,CACA,iBAAA,CAEA,uDACC,gBAAA,CACA,kBAAA,CAEA,4DACC,mCAAA,CAKJ,iCACC,eAAA,CAIF,oCACC,kCAAA,CAGD,gCACC,SAAA,CAGD,6BACC,SAAA",sourcesContent:["\n.image {\n\tmargin: 0;\n\tpadding: 0;\n\n\t&, * {\n\t\t-webkit-user-modify: read-only !important;\n\t}\n}\n\n.image__caption {\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\t&__wrapper {\n\t\tposition: relative;\n\t}\n\t&__delete {\n\t\tdisplay: flex;\n\t\tflex-basis: 20%;\n\t\talign-items: center;\n\t\twidth: 20px !important;\n\t\theight: 20px;\n\t\tposition: absolute;\n\t\tbottom: -1px;\n\t\tright: -3px;\n\t\t&, svg {\n\t\t\tcursor: pointer;\n\t\t}\n\t}\n\t.image__caption__wrapper {\n\t\tflex-basis: 80%;\n\t}\n\tinput[type='text'] {\n\t\twidth: 85%;\n\t\ttext-align: center;\n\t\tbackground-color: transparent;\n\t\tborder: none !important;\n\t\tcolor: var(--color-text-maxcontrast) !important;\n\n\t\t&:focus {\n\t\t\tborder: 2px solid var(--color-border-dark) !important;\n\t\t\tcolor: var(--color-main-text) !important;\n\t\t}\n\t}\n\tfigcaption {\n\t\tcolor: var(--color-text-maxcontrast) !important;\n\t\tmax-width: 80%;\n\t\ttext-align: center;\n\t\twidth: fit-content;\n\t}\n}\n\n.image__loading {\n\theight: 100px;\n}\n\n.image__main {\n\tmax-height: calc(100vh - 50px - 50px);\n}\n\n.image__main--broken-icon, .image__error-message {\n\tcolor: var(--color-text-maxcontrast);\n}\n\n.image__error-message {\n\tdisplay: block;\n\ttext-align: center;\n}\n\n.image__view {\n\ttext-align: center;\n\tposition: relative;\n\n\timg {\n\t\tmax-width: 100%;\n\t}\n\n\t&:hover {\n\t\tinput[type='text'] {\n\t\t\tborder: 2px solid var(--color-border-dark) !important;\n\t\t\tcolor: var(--color-main-text) !important;\n\t\t}\n\t}\n}\n\n.media {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: left;\n\t.media__wrapper {\n\t\tdisplay: flex;\n\t\tborder: 2px solid var(--color-border);\n\t\tborder-radius: var(--border-radius-large);\n\t\tpadding: 8px;\n\n\t\timg {\n\t\t\twidth: 44px;\n\t\t\theight: 44px;\n\t\t}\n\n\t\t.metadata {\n\t\t\tmargin-left: 8px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: start;\n\n\t\t\tspan {\n\t\t\t\tline-height: 20px;\n\t\t\t\tfont-weight: normal;\n\n\t\t\t\t&.size {\n\t\t\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.buttons {\n\t\tmargin-left: 8px;\n\t}\n}\n\n.fade-enter-active {\n\ttransition: opacity .3s ease-in-out;\n}\n\n.fade-enter-to {\n\topacity: 1;\n}\n\n.fade-enter {\n\topacity: 0;\n}\n"],sourceRoot:""}]);const s=a},68989:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"[data-v-96bc0d6c] div.widgets--list a.widget-default{color:var(--color-main-text);padding:0;text-decoration:none;max-width:calc(100vw - 56px)}[data-v-96bc0d6c] .widget-default--details{overflow:hidden}[data-v-96bc0d6c] .widget-default--details p{margin-bottom:4px !important}","",{version:3,sources:["webpack://./src/nodes/ParagraphView.vue"],names:[],mappings:"AACA,qDACC,4BAAA,CACA,SAAA,CACA,oBAAA,CACA,4BAAA,CAGD,2CACC,eAAA,CACA,6CACC,4BAAA",sourcesContent:["\n:deep(div.widgets--list a.widget-default) {\n\tcolor: var(--color-main-text);\n\tpadding: 0;\n\ttext-decoration: none;\n\tmax-width: calc(100vw - 56px);\n}\n\n:deep(.widget-default--details) {\n\toverflow:hidden;\n\tp {\n\t\tmargin-bottom: 4px !important;\n\t}\n}\n"],sourceRoot:""}]);const s=a},39024:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"td[data-v-4018f47d]{position:relative}td .container[data-v-4018f47d]{display:flex;flex-wrap:wrap;min-height:36px}td .content[data-v-4018f47d]{flex:1 1 0;margin:0;padding-top:.6em}td .action-item[data-v-4018f47d]{position:absolute;right:-48px;flex:0 1 auto;display:none;top:2px}td:last-child .action-item[data-v-4018f47d]{display:block;opacity:50%}td:last-child:hover .action-item[data-v-4018f47d],td:last-child:active .action-item[data-v-4018f47d],td:last-child:focus .action-item[data-v-4018f47d],td:last-child:focus-within .action-item[data-v-4018f47d]{opacity:100%}","",{version:3,sources:["webpack://./src/nodes/Table/TableCellView.vue"],names:[],mappings:"AACA,oBACC,iBAAA,CAEA,+BACC,YAAA,CACA,cAAA,CACA,eAAA,CAGD,6BACC,UAAA,CACA,QAAA,CACA,gBAAA,CAGD,iCACC,iBAAA,CACA,WAAA,CACA,aAAA,CACA,YAAA,CACA,OAAA,CAIA,4CACC,aAAA,CACA,WAAA,CAIA,gNACC,YAAA",sourcesContent:["\ntd {\n\tposition: relative;\n\n\t.container {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmin-height: 36px;\n\t}\n\n\t.content {\n\t\tflex: 1 1 0;\n\t\tmargin: 0;\n\t\tpadding-top: 0.6em;\n\t}\n\n\t.action-item {\n\t\tposition: absolute;\n\t\tright: -48px;\n\t\tflex: 0 1 auto;\n\t\tdisplay: none;\n\t\ttop: 2px;\n\t}\n\n\t&:last-child {\n\t\t.action-item {\n\t\t\tdisplay: block;\n\t\t\topacity: 50%;\n\t\t}\n\n\t\t&:hover, &:active, &:focus, &:focus-within {\n\t\t\t.action-item {\n\t\t\t\topacity: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n"],sourceRoot:""}]);const s=a},12144:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"th .content[data-v-fc7c7a54]{margin:0;padding-top:.75em;flex-grow:1}th .action-item[data-v-fc7c7a54]{opacity:50%}th:hover .action-item[data-v-fc7c7a54],th:active .action-item[data-v-fc7c7a54],th:focus .action-item[data-v-fc7c7a54],th:focus-within .action-item[data-v-fc7c7a54]{opacity:100%}","",{version:3,sources:["webpack://./src/nodes/Table/TableHeaderView.vue"],names:[],mappings:"AAGC,6BACC,QAAA,CACA,iBAAA,CACA,WAAA,CAED,iCACC,WAAA,CAIA,oKACC,YAAA",sourcesContent:["\nth {\n\n\t.content {\n\t\tmargin: 0;\n\t\tpadding-top: 0.75em;\n\t\tflex-grow: 1;\n\t}\n\t.action-item {\n\t\topacity: 50%;\n\t}\n\n\t&:hover, &:active, &:focus, &:focus-within {\n\t\t.action-item {\n\t\t\topacity: 100%;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const s=a},17795:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,".table-wrapper[data-v-072ea952]{position:relative;overflow-x:auto}.clearfix[data-v-072ea952]{clear:both}table[data-v-072ea952]{float:left}.table-settings[data-v-072ea952]{padding-left:3px;opacity:.5;position:absolute;top:0;right:3px}.table-settings[data-v-072ea952]:hover{opacity:1}","",{version:3,sources:["webpack://./src/nodes/Table/TableView.vue"],names:[],mappings:"AACA,gCACC,iBAAA,CACA,eAAA,CAGD,2BACC,UAAA,CAGD,uBACC,UAAA,CAGD,iCACC,gBAAA,CACA,UAAA,CACA,iBAAA,CACA,KAAA,CACA,SAAA,CAEA,uCACC,SAAA",sourcesContent:["\n.table-wrapper {\n\tposition: relative;\n\toverflow-x: auto;\n}\n\n.clearfix {\n\tclear: both;\n}\n\ntable {\n\tfloat: left;\n}\n\n.table-settings {\n\tpadding-left: 3px;\n\topacity: .5;\n\tposition: absolute;\n\ttop: 0;\n\tright: 3px;\n\n\t&:hover {\n\t\topacity: 1;\n\t}\n}\n"],sourceRoot:""}]);const s=a},23501:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"\n.action[data-v-23d2732e] {\n\t/* to unify width of ActionInput and ActionButton */\n\tmin-width: 218px;\n}\n","",{version:3,sources:["webpack://./src/components/Menu/ActionInsertLink.vue"],names:[],mappings:";AAgQA;CACA,mDAAA;CACA,gBAAA;AACA",sourcesContent:["\x3c!--\n  - @copyright Copyright (c) 2022\n  -\n  - @license AGPL-3.0-or-later\n  -\n  - This program is free software: you can redistribute it and/or modify\n  - it under the terms of the GNU Affero General Public License as\n  - published by the Free Software Foundation, either version 3 of the\n  - License, or (at your option) any later version.\n  -\n  - This program is distributed in the hope that it will be useful,\n  - but WITHOUT ANY WARRANTY; without even the implied warranty of\n  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n  - GNU Affero General Public License for more details.\n  -\n  - You should have received a copy of the GNU Affero General Public License\n  - along with this program. If not, see <http://www.gnu.org/licenses/>.\n  -\n  --\x3e\n<template>\n\t<NcActions class=\"entry-action entry-action__insert-link\"\n\t\t:title=\"actionEntry.label\"\n\t\t:aria-label=\"actionEntry.label\"\n\t\t:class=\"activeClass\"\n\t\t:container=\"menuIDSelector\"\n\t\t:data-text-action-entry=\"actionEntry.key\"\n\t\t:name=\"actionEntry.label\"\n\t\t:open=\"menuOpen\"\n\t\t@update:open=\"(open) => { menuOpen = menuOpen || open }\">\n\t\t<template #icon>\n\t\t\t<component :is=\"icon\"\n\t\t\t\t:name=\"actionEntry.label\"\n\t\t\t\t:aria-label=\"actionEntry.label\" />\n\t\t</template>\n\t\t<NcActionButton v-if=\"state.active\"\n\t\t\t:data-text-action-entry=\"`${actionEntry.key}-remove`\"\n\t\t\t@click=\"removeLink\">\n\t\t\t<template #icon>\n\t\t\t\t<LinkOff />\n\t\t\t</template>\n\t\t\t{{ t('text', 'Remove link') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton ref=\"buttonFile\"\n\t\t\t:data-text-action-entry=\"`${actionEntry.key}-file`\"\n\t\t\t@click=\"linkFile\">\n\t\t\t<template #icon>\n\t\t\t\t<Document />\n\t\t\t</template>\n\t\t\t{{ t('text', 'Link to file or folder') }}\n\t\t</NcActionButton>\n\t\t<NcActionInput v-if=\"isInputMode\"\n\t\t\ttype=\"text\"\n\t\t\t:value=\"href\"\n\t\t\t:data-text-action-entry=\"`${actionEntry.key}-input`\"\n\t\t\t@submit=\"linkWebsite\">\n\t\t\t<template #icon>\n\t\t\t\t<Web />\n\t\t\t</template>\n\t\t\t{{ t('text', 'Link to website') }}\n\t\t</NcActionInput>\n\t\t<NcActionButton v-else\n\t\t\t:data-text-action-entry=\"`${actionEntry.key}-website`\"\n\t\t\t@click=\"linkWebsite\">\n\t\t\t<template #icon>\n\t\t\t\t<Web />\n\t\t\t</template>\n\t\t\t{{ state.active ? t('text', 'Update link') : t('text', 'Link to website') }}\n\t\t</NcActionButton>\n\t\t<NcActionButton :data-text-action-entry=\"`${actionEntry.key}-picker`\"\n\t\t\t@click=\"linkPicker\">\n\t\t\t<template #icon>\n\t\t\t\t<Shape />\n\t\t\t</template>\n\t\t\t{{ t('text', 'Open the Smart Picker') }}\n\t\t</NcActionButton>\n\t</NcActions>\n</template>\n\n<script>\nimport { NcActions, NcActionButton, NcActionInput } from '@nextcloud/vue'\nimport { getLinkWithPicker } from '@nextcloud/vue/dist/Components/NcRichText.js'\nimport { FilePickerType, getFilePickerBuilder } from '@nextcloud/dialogs'\n\nimport { getMarkAttributes, isActive } from '@tiptap/core'\n\nimport { Document, Loading, LinkOff, Web, Shape } from '../icons.js'\nimport { BaseActionEntry } from './BaseActionEntry.js'\nimport { optimalPath } from '../../helpers/files.js'\nimport { useFileMixin } from '../Editor.provider.js'\nimport { useMenuIDMixin } from './MenuBar.provider.js'\n\nexport default {\n\tname: 'ActionInsertLink',\n\tcomponents: {\n\t\tNcActions,\n\t\tNcActionButton,\n\t\tNcActionInput,\n\t\tDocument,\n\t\tLoading,\n\t\tLinkOff,\n\t\tWeb,\n\t\tShape,\n\t},\n\textends: BaseActionEntry,\n\tmixins: [\n\t\tuseFileMixin,\n\t\tuseMenuIDMixin,\n\t],\n\tdata: () => {\n\t\treturn {\n\t\t\thref: '',\n\t\t\tisInputMode: false,\n\t\t\tstartPath: null,\n\t\t\t/** Open state of the actions menu */\n\t\t\tmenuOpen: false,\n\t\t}\n\t},\n\tcomputed: {\n\t\tactiveClass() {\n\t\t\treturn this.state.active ? 'is-active' : ''\n\t\t},\n\t\trelativePath() {\n\t\t\treturn this.$file?.relativePath ?? '/'\n\t\t},\n\t},\n\tmethods: {\n\t\t/**\n\t\t * Open dialog and ask user which file to link to\n\t\t * Triggered by the \"link file\" button\n\t\t */\n\t\tlinkFile() {\n\t\t\tif (this.startPath === null) {\n\t\t\t\tthis.startPath = this.relativePath.split('/').slice(0, -1).join('/')\n\t\t\t}\n\n\t\t\tconst filePicker = getFilePickerBuilder(t('text', 'Select file or folder to link to'))\n\t\t\t\t.startAt(this.startPath)\n\t\t\t\t.allowDirectories(true)\n\t\t\t\t.setMultiSelect(false)\n\t\t\t\t.setType(FilePickerType.Choose)\n\t\t\t\t.build()\n\n\t\t\tfilePicker.pick()\n\t\t\t\t.then((file) => {\n\t\t\t\t\tconst client = OC.Files.getClient()\n\t\t\t\t\tclient.getFileInfo(file).then((_status, fileInfo) => {\n\t\t\t\t\t\tconst path = optimalPath(this.relativePath, `${fileInfo.path}/${fileInfo.name}`)\n\t\t\t\t\t\tconst encodedPath = path.split('/').map(encodeURIComponent).join('/') + (fileInfo.type === 'dir' ? '/' : '')\n\t\t\t\t\t\tconst href = `${encodedPath}?fileId=${fileInfo.id}`\n\t\t\t\t\t\tthis.setLink(href, fileInfo.name)\n\t\t\t\t\t\tthis.startPath = fileInfo.path + (fileInfo.type === 'dir' ? `/${fileInfo.name}/` : '')\n\t\t\t\t\t})\n\t\t\t\t\tthis.menuOpen = false\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// do not close menu but keep focus\n\t\t\t\t\tthis.$refs.buttonFile.$el.focus()\n\t\t\t\t})\n\t\t},\n\t\t/**\n\t\t * Allow user to enter an URL manually\n\t\t * Triggered when by the \"link url\" button\n\t\t *\n\t\t * @param {Event} event Triggering event\n\t\t */\n\t\tlinkWebsite(event) {\n\t\t\tif (event?.type === 'submit') {\n\t\t\t\tconst href = [...event.target.elements].filter(e => e?.type === 'text')[0].value\n\t\t\t\tthis.menuOpen = false\n\t\t\t\tthis.isInputMode = false\n\t\t\t\tthis.href = ''\n\t\t\t\treturn this.setLink(href, href)\n\t\t\t}\n\n\t\t\tif (isActive(this.$editor.state, 'link')) {\n\t\t\t\tconst attrs = getMarkAttributes(this.$editor.state, 'link')\n\t\t\t\tthis.href = attrs.href\n\t\t\t}\n\t\t\tthis.isInputMode = true\n\t\t},\n\t\t/**\n\t\t * Save user entered URL as a link markup\n\t\t * Triggered when the user submits the ActionInput\n\t\t *\n\t\t * @param {string} url href attribute of the link\n\t\t * @param {string} text Text part of the link\n\t\t */\n\t\tsetLink(url, text) {\n\t\t\t// Heuristics for determining if we need a https:// prefix.\n\t\t\tconst noPrefixes = [\n\t\t\t\t/^[a-zA-Z]+:/, // url with protocol (\"mailTo:email@domain.tld\")\n\t\t\t\t/^\\//, // absolute path\n\t\t\t\t/\\?fileId=/, // relative link with fileId\n\t\t\t\t/^\\.\\.?\\//, // relative link starting with ./ or ../\n\t\t\t\t/^[^.]*[/$]/, // no dots before first '/' - not a domain name\n\t\t\t\t/^#/, // url fragment\n\t\t\t]\n\t\t\tif (url && !noPrefixes.find(regex => url.match(regex))) {\n\t\t\t\turl = 'https://' + url\n\t\t\t}\n\n\t\t\t// Avoid issues when parsing urls later on in markdown that might be entered in an invalid format (e.g. \"mailto: example@example.com\")\n\t\t\tconst href = url.replaceAll(' ', '%20')\n\t\t\tconst chain = this.$editor.chain()\n\t\t\t// Check if any text is selected, if not insert the lunk using the given text property\n\t\t\tif (this.$editor.view.state?.selection.empty) {\n\t\t\t\tchain.insertContent({\n\t\t\t\t\ttype: 'paragraph',\n\t\t\t\t\tcontent: [{\n\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\tmarks: [{\n\t\t\t\t\t\t\ttype: 'link',\n\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\thref,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}],\n\t\t\t\t\t\ttext,\n\t\t\t\t\t}],\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tchain.setLink({ href })\n\t\t\t}\n\t\t\tchain.focus().run()\n\t\t},\n\t\t/**\n\t\t * Remove link markup at current position\n\t\t * Triggered by the \"remove link\" button\n\t\t */\n\t\tremoveLink() {\n\t\t\tthis.$editor.chain().unsetLink().focus().run()\n\t\t\tthis.menuOpen = false\n\t\t},\n\t\tlinkPicker() {\n\t\t\tgetLinkWithPicker(null, true)\n\t\t\t\t.then(link => {\n\t\t\t\t\tthis.$editor\n\t\t\t\t\t\t.chain()\n\t\t\t\t\t\t.focus()\n\t\t\t\t\t\t.insertContent(link + ' ')\n\t\t\t\t\t\t.run()\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tconsole.error('Smart picker promise rejected', error)\n\t\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n\n<style scoped>\n\t.action {\n\t\t/* to unify width of ActionInput and ActionButton */\n\t\tmin-width: 218px;\n\t}\n</style>\n"],sourceRoot:""}]);const s=a},50580:(t,e,n)=>{n.d(e,{Z:()=>s});var i=n(87537),o=n.n(i),r=n(23645),a=n.n(r)()(o());a.push([t.id,"\n/* This is required to properly render the bubble text (which seems linke a browser bug) */\n.text-editor__wrapper div.ProseMirror .mention[contenteditable=false][data-v-297bb5fa] * {\n\t-webkit-user-modify: read-only !important;\n}\n","",{version:3,sources:["webpack://./src/extensions/Mention.vue"],names:[],mappings:";AA8CA,0FAAA;AACA;CACA,yCAAA;AACA",sourcesContent:['<template>\n\t<NodeViewWrapper as="span" class="mention" contenteditable="false">\n\t\t<NcUserBubble :user="node.attrs.id"\n\t\t\t:display-name="username"\n\t\t\t:primary="isCurrentUser"\n\t\t\tclass="mention-user-bubble">\n\t\t\t@{{ username }}\n\t\t</NcUserBubble>\n\t</NodeViewWrapper>\n</template>\n\n<script>\nimport { NcUserBubble } from \'@nextcloud/vue\'\nimport { NodeViewWrapper } from \'@tiptap/vue-2\'\nimport { getCurrentUser } from \'@nextcloud/auth\'\n\nexport default {\n\tname: \'Mention\',\n\tcomponents: {\n\t\tNcUserBubble,\n\t\tNodeViewWrapper,\n\t},\n\tprops: {\n\t\tupdateAttributes: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\n\t\tnode: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tusername: this.node.attrs.label,\n\t\t}\n\t},\n\tcomputed: {\n\t\tisCurrentUser() {\n\t\t\treturn this.node.attrs.id === getCurrentUser()?.uid\n\t\t},\n\t},\n}\n<\/script>\n<style scoped>\n/* This is required to properly render the bubble text (which seems linke a browser bug) */\n.text-editor__wrapper div.ProseMirror .mention[contenteditable=false] :deep(*) {\n\t-webkit-user-modify: read-only !important;\n}\n</style>\n'],sourceRoot:""}]);const s=a},75578:(t,e,n)=>{n.d(e,{Z:()=>w});var i=n(73845),o=n(79835),r=n(31728),a=n(28612),s=n(38105);const l={name:"BaseReader",components:{EditorContent:o.kg,EditorOutline:s.Z},mixins:[a.vV,a.Ad],provide(){const t={};return Object.defineProperties(t,{[r.Uw]:{get:()=>this.$editor}}),t},inject:["renderHtml","extensions"],props:{content:{type:String,required:!0}},computed:{htmlContent(){return this.renderHtml(this.content)},showOutline(){return this.$outlineState.visible}},watch:{content(){this.updateContent()}},created(){this.$editor=this.createEditor(),this.$editor.setEditable(!1)},beforeDestroy(){this.$editor.destroy()},methods:{createEditor(){return new i.ML({content:this.htmlContent,extensions:this.extensions()})},updateContent(){this.$editor.commands.setContent(this.htmlContent,!0)}}};var d=n(93379),c=n.n(d),A=n(7795),p=n.n(A),u=n(90569),h=n.n(u),m=n(3565),C=n.n(m),v=n(19216),f=n.n(v),g=n(44589),b=n.n(g),x=n(38909),y={};y.styleTagTransform=b(),y.setAttributes=C(),y.insert=h().bind(null,"head"),y.domAPI=p(),y.insertStyleElement=f();c()(x.Z,y);x.Z&&x.Z.locals&&x.Z.locals;const w=(0,n(51900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper text-editor__content-wrapper",class:{"--show-outline":t.showOutline},attrs:{"data-text-el":"editor-content-wrapper"}},[t.showOutline?e("div",{staticClass:"text-editor__content-wrapper__left"},[e("EditorOutline")],1):t._e(),t._v(" "),t.$editor?e("EditorContent",{staticClass:"editor__content text-editor__content",attrs:{id:"read-only-editor",editor:t.$editor}}):t._e(),t._v(" "),e("div",{staticClass:"text-editor__content-wrapper__right"})],1)}),[],!1,null,"151c6c0d",null).exports},38105:(t,e,n)=>{n.d(e,{Z:()=>T});var i=n(20296),o=n.n(i),r=n(76640),a=n(20629),s=n(31728),l=n(13815);const d={name:"TableOfContents",mixins:[l.Z,s.Cy],data:()=>({initialRender:!0}),computed:{...(0,a.rn)({headings:t=>t.text.headings})},mounted(){setTimeout((()=>{this.initialRender=!1}),1e3)},methods:{goto(t){this.$editor.chain().focus().setTextSelection(t.position).scrollIntoView().run(),this.$nextTick((()=>{window.location.hash=t.id}))}}};var c=n(93379),A=n.n(c),p=n(7795),u=n.n(p),h=n(90569),m=n.n(h),C=n(3565),v=n.n(C),f=n(19216),g=n.n(f),b=n(44589),x=n.n(b),y=n(8715),w={};w.styleTagTransform=x(),w.setAttributes=v(),w.insert=m().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=g();A()(y.Z,w);y.Z&&y.Z.locals&&y.Z.locals;var k=n(51900);const _=(0,k.Z)(d,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor--toc",class:{"--initial-render":t.initialRender},attrs:{"data-text-el":"editor-table-of-contents"}},[e("ul",{staticClass:"editor--toc__list"},t._l(t.headings,(function(n){return e("li",{key:n.uuid,staticClass:"editor--toc__item",class:{["editor--toc__item--".concat(n.level)]:!0,["editor--toc__item--previous-".concat(n.previous)]:n.previous>0},attrs:{"data-toc-level":n.level}},[e("a",{attrs:{href:"#".concat(n.id)},on:{click:function(e){return e.preventDefault(),t.goto(n)}}},[t._v("\n\t\t\t\t"+t._s(n.text)+"\n\t\t\t")])])})),0)])}),[],!1,null,null,null).exports;var B=n(28612),M=n(32318);const P=o()((t=>{t.mobile=t.$el.parentElement.clientWidth<320}),10),I={name:"EditorOutline",components:{Close:M.x8,NcButton:r.P2,TableOfContents:_},mixins:[l.Z,B.vV,B.Ad],data:()=>({mobile:!1}),mounted(){this.$onResize=()=>{P(this)},this.$resizeObserver=new ResizeObserver(this.$onResize),this.$resizeObserver.observe(this.$el.parentElement),this.$onResize()},beforeDestroy(){this.$resizeObserver.unobserve(this.$el.parentElement),this.$resizeObserver=null,this.$onResize=null}};var E=n(19539),S={};S.styleTagTransform=x(),S.setAttributes=v(),S.insert=m().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=g();A()(E.Z,S);E.Z&&E.Z.locals&&E.Z.locals;const T=(0,k.Z)(I,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor--outline",class:{"editor--outline-mobile":t.mobile},attrs:{"data-text-el":"editor-outline"}},[e("header",{staticClass:"editor--outline__header"},[e("NcButton",{staticClass:"editor--outline__btn-close",attrs:{type:"tertiary","aria-label":t.t("text","Close outline view")},on:{click:t.$outlineActions.toggle},scopedSlots:t._u([{key:"icon",fn:function(){return[e("Close")]},proxy:!0}])}),t._v(" "),e("h2",[t._v(t._s(t.t("text","Outline")))])],1),t._v(" "),e("TableOfContents")],1)}),[],!1,null,"6e0356ad",null).exports},97009:(t,e,n)=>{n.d(e,{Z:()=>x});var i=n(75578),o=n(36109),r=n(40187);const a={name:"RichTextReader",components:{BaseReader:i.Z},provide:{renderHtml:t=>r.Z.render(t),extensions:()=>[o.Ho.configure({editing:!1})]},props:{content:{type:String,required:!0}}};var s=n(93379),l=n.n(s),d=n(7795),c=n.n(d),A=n(90569),p=n.n(A),u=n(3565),h=n.n(u),m=n(19216),C=n.n(m),v=n(44589),f=n.n(v),g=n(36993),b={};b.styleTagTransform=f(),b.setAttributes=h(),b.insert=p().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=C();l()(g.Z,b);g.Z&&g.Z.locals&&g.Z.locals;const x=(0,n(51900).Z)(a,(function(){var t=this;return(0,t._self._c)("BaseReader",{attrs:{content:t.content},on:{"click-link":(e,n)=>t.$emit("click-link",e,n)}})}),[],!1,null,null,null).exports},15039:(t,e,n)=>{n.d(e,{Z:()=>g});var i=n(31352);const o={name:"SuggestionListWrapper",props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data:()=>({selectedIndex:0}),computed:{hasGroups(){return Object.keys(this.itemGroups).includes(void 0)},hasResults(){return this.items.length>0},itemHeight(){return this.$el.scrollHeight/this.items.length},itemInsideScrollView(){return this.selectedIndex*this.itemHeight>=this.$el.scrollTop&&(this.selectedIndex+1)*this.itemHeight<=this.$el.scrollTop+this.$el.clientHeight},itemGroups(){const t={};return this.items.forEach((e=>{t[e.suggestGroup]||(t[e.suggestGroup]=[]),t[e.suggestGroup].push(e)})),t},combineIndex(){return(t,e)=>Object.values(this.itemGroups).slice(0,t).reduce(((t,e)=>t+e.length),0)+e}},watch:{items(){this.selectedIndex=0,this.$el.scrollTop=0}},methods:{t:i.Iu,onKeyDown(t){let{event:e}=t;return!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)&&("ArrowUp"===e.key?(this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length,this.itemInsideScrollView||(this.$el.scrollTop=this.selectedIndex*this.itemHeight),!0):"ArrowDown"===e.key?(this.selectedIndex=(this.selectedIndex+1)%this.items.length,this.itemInsideScrollView||(this.$el.scrollTop=(this.selectedIndex+1)*this.itemHeight-this.$el.clientHeight),!0):("Enter"===e.key||"Tab"===e.key)&&(this.selectItem(this.selectedIndex),!0))},selectItem(t){const e=this.items[t];e&&(this.$emit("select",e),this.command(e))}}};var r=n(93379),a=n.n(r),s=n(7795),l=n.n(s),d=n(90569),c=n.n(d),A=n(3565),p=n.n(A),u=n(19216),h=n.n(u),m=n(44589),C=n.n(m),v=n(37115),f={};f.styleTagTransform=C(),f.setAttributes=p(),f.insert=c().bind(null,"head"),f.domAPI=l(),f.insertStyleElement=h();a()(v.Z,f);v.Z&&v.Z.locals&&v.Z.locals;const g=(0,n(51900).Z)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"suggestion-list"},[t.hasResults?t._l(t.itemGroups,(function(n,i,o){return e("div",{key:i},[t.hasGroups?e("div",{staticClass:"suggestion-list__group"},[t._v("\n\t\t\t\t"+t._s(i)+"\n\t\t\t")]):t._e(),t._v(" "),t._l(n,(function(n,i){return e("div",{key:t.combineIndex(o,i),staticClass:"suggestion-list__item",class:{"is-selected":t.combineIndex(o,i)===t.selectedIndex},on:{click:function(e){t.selectItem(t.combineIndex(o,i))}}},[t._t("default",null,{item:n,active:t.combineIndex(o,i)===t.selectedIndex})],2)}))],2)})):e("div",{staticClass:"suggestion-list__item is-empty"},[t._v("\n\t\t"+t._s(t.t("text","No suggestion found"))+"\n\t")])],2)}),[],!1,null,"721c3a10",null).exports},81488:t=>{t.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M15.4%2016.6L10.8%2012l4.6-4.6L14%206l-6%206%206%206%201.4-1.4z%27/%3e%3c/svg%3e"},34868:t=>{t.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M18.4%207.4L17%206l-6%206%206%206%201.4-1.4-4.6-4.6%204.6-4.6m-6%200L11%206l-6%206%206%206%201.4-1.4L7.8%2012l4.6-4.6z%27/%3e%3c/svg%3e"},37059:t=>{t.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M5.6%207.4L7%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6m6%200L13%206l6%206-6%206-1.4-1.4%204.6-4.6-4.6-4.6z%27/%3e%3c/svg%3e"},75701:t=>{t.exports="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20width=%2724%27%20height=%2724%27%20fill=%27%23222%27%3e%3cpath%20d=%27M8.6%2016.6l4.6-4.6-4.6-4.6L10%206l6%206-6%206-1.4-1.4z%27/%3e%3c/svg%3e"},69521:(t,e,n)=>{t.exports=n.p+"8ef4fd4b0bf5c12e8887.svg"}}]);
//# sourceMappingURL=src_components_RichTextReader_vue-data_image_svg_xml_3csvg_20xmlns_27http_www_w3_org_2000_svg-01d96d.js.map?v=89e6fa9a03fa47faf86f