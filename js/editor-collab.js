"use strict";(self.webpackChunk_nextcloud_text=self.webpackChunk_nextcloud_text||[]).push([["editor-collab"],{89532:(n,t,e)=>{e.d(t,{Z:()=>i});var s=e(87537),r=e.n(s),a=e(23645),o=e.n(a)()(r());o.push([n.id,".avatar[data-v-759e121d],.avatar-wrapper[data-v-759e121d]{border-radius:50%;width:var(--size);height:var(--size);text-align:center;color:#fff;line-height:var(--size);font-size:var(--font-size);font-weight:normal}","",{version:3,sources:["webpack://./src/components/AvatarWrapper.vue"],names:[],mappings:"AAyDA,0DACC,iBAAA,CACA,iBAAA,CACA,kBAAA,CACA,iBAAA,CACA,UAAA,CACA,uBAAA,CACA,0BAAA,CACA,kBAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.avatar, .avatar-wrapper {\n\tborder-radius: 50%;\n\twidth: var(--size);\n\theight: var(--size);\n\ttext-align: center;\n\tcolor: #ffffff;\n\tline-height: var(--size);\n\tfont-size: var(--font-size);\n\tfont-weight: normal;\n}\n"],sourceRoot:""}]);const i=o},7480:(n,t,e)=>{e.d(t,{Z:()=>i});var s=e(87537),r=e.n(s),a=e(23645),o=e.n(a)()(r());o.push([n.id,".avatar-list[data-v-2cec2258]{border:none;background-color:var(--color-main-background);padding:0;margin:0;padding-left:6px;display:inline-flex;flex-direction:row-reverse}.avatar-list[data-v-2cec2258]:focus{background-color:#eee}.avatar-list .avatar-wrapper[data-v-2cec2258]{margin:0 -18px 0 0;z-index:1;border-radius:50%;overflow:hidden;box-sizing:content-box !important;height:36px;width:36px}.avatar-list .icon-more[data-v-2cec2258],.avatar-list .icon-group[data-v-2cec2258],.avatar-list .icon-settings-dark[data-v-2cec2258]{background-color:var(--color-background-dark);width:40px;height:40px;margin:0 6px 0 0}.session-menu[data-v-2cec2258]{max-width:280px;padding-top:6px;padding-bottom:6px}.session-menu ul li[data-v-2cec2258]{align-items:center;display:flex;padding:6px}.session-menu ul li .avatar-wrapper[data-v-2cec2258]{height:36px;width:36px;margin-right:6px}.session-menu ul li .session-label[data-v-2cec2258]{padding-right:3px}.session-menu ul li .guest-label[data-v-2cec2258]{padding-left:3px;color:var(--color-text-maxcontrast)}label[data-v-2cec2258]{display:block;margin:8px}.hint[data-v-2cec2258]{margin:8px;color:var(--color-text-maxcontrast)}","",{version:3,sources:["webpack://./src/components/SessionList.vue"],names:[],mappings:"AAqIA,8BACC,WAAA,CACA,6CAAA,CACA,SAAA,CACA,QAAA,CACA,gBAAA,CACA,mBAAA,CACA,0BAAA,CAEA,oCACC,qBAAA,CAGD,8CACC,kBAAA,CACA,SAAA,CACA,iBAAA,CACA,eAAA,CACA,iCAAA,CACA,WAAA,CACA,UAAA,CAGD,qIACC,6CAAA,CACA,UAAA,CACA,WAAA,CACA,gBAAA,CAIF,+BACC,eAAA,CACA,eAAA,CACA,kBAAA,CAEA,qCACC,kBAAA,CACA,YAAA,CACA,WAAA,CAEA,qDACC,WAAA,CACA,UAAA,CACA,gBAAA,CAGD,oDACC,iBAAA,CAED,kDACC,gBAAA,CACA,mCAAA,CAKH,uBACC,aAAA,CACA,UAAA,CAGD,uBACC,UAAA,CACA,mCAAA",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.avatar-list {\n\tborder: none;\n\tbackground-color: var(--color-main-background);\n\tpadding: 0;\n\tmargin: 0;\n\tpadding-left: 6px;\n\tdisplay: inline-flex;\n\tflex-direction: row-reverse;\n\n\t&:focus {\n\t\tbackground-color: #eee;\n\t}\n\n\t.avatar-wrapper {\n\t\tmargin: 0 -18px 0 0;\n\t\tz-index: 1;\n\t\tborder-radius: 50%;\n\t\toverflow: hidden;\n\t\tbox-sizing: content-box !important;\n\t\theight: 36px;\n\t\twidth: 36px;\n\t}\n\n\t.icon-more, .icon-group, .icon-settings-dark {\n\t\tbackground-color: var(--color-background-dark);\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tmargin: 0 6px 0 0;\n\t}\n}\n\n.session-menu {\n\tmax-width: 280px;\n\tpadding-top: 6px;\n\tpadding-bottom: 6px;\n\n\tul li {\n\t\talign-items: center;\n\t\tdisplay: flex;\n\t\tpadding: 6px;\n\n\t\t.avatar-wrapper {\n\t\t\theight: 36px;\n\t\t\twidth: 36px;\n\t\t\tmargin-right: 6px;\n\t\t}\n\n\t\t.session-label {\n\t\t\tpadding-right: 3px;\n\t\t}\n\t\t.guest-label {\n\t\t\tpadding-left: 3px;\n\t\t\tcolor: var(--color-text-maxcontrast);\n\t\t}\n\t}\n}\n\nlabel {\n\tdisplay: block;\n\tmargin: 8px;\n}\n\n.hint {\n\tmargin: 8px;\n\tcolor: var(--color-text-maxcontrast);\n}\n"],sourceRoot:""}]);const i=o},26224:(n,t,e)=>{e.d(t,{Z:()=>w});var s=e(28017);function r(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,s)}return e}function a(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?r(Object(e),!0).forEach((function(t){o(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function o(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}const i={name:"AvatarWrapper",components:{Avatar:e.n(s)()},props:{session:{type:Object,required:!0},size:{type:Number,default:function(){return 32}}},computed:{sessionAvatarStyle:function(){return a(a({},this.sessionBackgroundStyle),{},{"border-color":this.session.color,"border-width":"2px","border-style":"solid","--size":this.size+"px","--font-size":this.size/2+"px"})},sessionBackgroundStyle:function(){return{"background-color":this.session.userId?this.session.color+" !important":"#b9b9b9"}},guestInitial:function(){return""===this.session.guestName?"?":this.session.guestName.slice(0,1).toUpperCase()}}};var A=e(93379),c=e.n(A),l=e(7795),u=e.n(l),p=e(90569),d=e.n(p),C=e(3565),v=e.n(C),h=e(19216),g=e.n(h),m=e(44589),f=e.n(m),b=e(89532),x={};x.styleTagTransform=f(),x.setAttributes=v(),x.insert=d().bind(null,"head"),x.domAPI=u(),x.insertStyleElement=g();c()(b.Z,x);b.Z&&b.Z.locals&&b.Z.locals;const w=(0,e(51900).Z)(i,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"avatar-wrapper",style:n.sessionAvatarStyle},[n.session.userId?e("Avatar",{attrs:{user:n.session.userId?n.session.userId:n.session.guestName,"is-guest":null===n.session.userId,"disable-menu":!0,"show-user-status":!1,"disable-tooltip":!0,size:n.size}}):e("div",{staticClass:"avatar",style:n.sessionBackgroundStyle},[n._v("\n\t\t"+n._s(n.guestInitial)+"\n\t")])],1)}),[],!1,null,"759e121d",null).exports},35734:(n,t,e)=>{e.r(t),e.d(t,{default:()=>k});var s=e(27028),r=e.n(s),a=e(15168),o=e.n(a),i=e(26224),A=e(13815);const c={name:"SessionList",components:{AvatarWrapper:i.Z,Popover:r()},directives:{tooltip:o()},mixins:[A.Z],props:{sessions:{type:Object,default:function(){return{}}}},data:function(){return{myName:""}},computed:{showAuthorAnnotations:{get:function(){return this.$store.state.showAuthorAnnotations},set:function(n){this.$store.dispatch("setShowAuthorAnnotations",n)}},participantsPopover:function(){return this.currentSession.guestName?this.participantsWithoutCurrent:this.participants},participantsWithoutCurrent:function(){return this.participants.filter((function(n){return!n.isCurrent}))},participants:function(){return Object.values(this.sessions).filter((function(n){return n.lastContact>Date.now()/1e3-90&&(null!==n.userId||null!==n.guestName)})).sort((function(n,t){return n.lastContact<t.lastContact}))},currentSession:function(){return Object.values(this.sessions).find((function(n){return n.isCurrent}))},avatarStyle:function(){return function(n){return{opacity:n.lastContact>Date.now()/1e3-60?1:.5}}},sessionsVisible:function(){return this.participantsWithoutCurrent.slice(0,3)}}};var l=e(93379),u=e.n(l),p=e(7795),d=e.n(p),C=e(90569),v=e.n(C),h=e(3565),g=e.n(h),m=e(19216),f=e.n(m),b=e(44589),x=e.n(b),w=e(7480),y={};y.styleTagTransform=x(),y.setAttributes=g(),y.insert=v().bind(null,"head"),y.domAPI=d(),y.insertStyleElement=f();u()(w.Z,y);w.Z&&w.Z.locals&&w.Z.locals;const k=(0,e(51900).Z)(c,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("Popover",{staticClass:"session-list",attrs:{placement:"bottom"},scopedSlots:n._u([{key:"default",fn:function(){return[e("div",{staticClass:"session-menu"},[n._t("lastSaved"),n._v(" "),e("ul",[n._t("default"),n._v(" "),n._l(n.participantsPopover,(function(t){return e("li",{key:t.id,style:n.avatarStyle(t)},[e("AvatarWrapper",{attrs:{session:t,size:36}}),n._v(" "),e("span",{staticClass:"session-label"},[n._v("\n\t\t\t\t\t\t"+n._s(t.userId?t.displayName:t.guestName?t.guestName:n.t("text","Guest"))+"\n\t\t\t\t\t")]),n._v(" "),null===t.userId?e("span",{staticClass:"guest-label"},[n._v("("+n._s(n.t("text","guest"))+")")]):n._e()],1)}))],2),n._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:n.showAuthorAnnotations,expression:"showAuthorAnnotations"}],staticClass:"checkbox",attrs:{id:"toggle-color-annotations",type:"checkbox"},domProps:{checked:Array.isArray(n.showAuthorAnnotations)?n._i(n.showAuthorAnnotations,null)>-1:n.showAuthorAnnotations},on:{change:function(t){var e=n.showAuthorAnnotations,s=t.target,r=!!s.checked;if(Array.isArray(e)){var a=n._i(e,null);s.checked?a<0&&(n.showAuthorAnnotations=e.concat([null])):a>-1&&(n.showAuthorAnnotations=e.slice(0,a).concat(e.slice(a+1)))}else n.showAuthorAnnotations=r}}}),n._v(" "),e("label",{attrs:{for:"toggle-color-annotations"}},[n._v(n._s(n.t("text","Show author colors")))]),n._v(" "),e("p",{staticClass:"hint"},[n._v("\n\t\t\t\t"+n._s(n.t("text","Author colors are only shown until everyone has closed the document."))+"\n\t\t\t")])],2)]},proxy:!0}],null,!0)},[e("button",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:n.t("text","Active people"),expression:"t('text', 'Active people')",modifiers:{bottom:!0}}],staticClass:"avatar-list",attrs:{slot:"trigger"},slot:"trigger"},[e("div",{staticClass:"avatardiv icon-group"}),n._v(" "),n._l(n.sessionsVisible,(function(n){return e("AvatarWrapper",{key:n.id,attrs:{session:n,size:40}})}))],2)])}),[],!1,null,"2cec2258",null).exports}}]);
//# sourceMappingURL=editor-collab.js.map?v=a24254c0f0ec98a73f73