{"version":3,"file":"MediaHandler.provider-BlBEsAzn.chunk.mjs","sources":["../src/components/Editor.provider.ts","../src/components/Editor/MediaHandler.provider.js"],"sourcesContent":["/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nimport { logger } from '../helpers/logger.js'\n\nexport const FILE = Symbol('editor:file')\nexport const ATTACHMENT_RESOLVER = Symbol('attachment:resolver')\nexport const IS_MOBILE = Symbol('editor:is-mobile')\nexport const SYNC_SERVICE = Symbol('sync:service')\nexport const EDITOR_UPLOAD = Symbol('editor:upload')\nexport const HOOK_MENTION_SEARCH = Symbol('hook:mention-search')\nexport const HOOK_MENTION_INSERT = Symbol('hook:mention-insert')\n\nexport const useSyncServiceMixin = {\n\tinject: {\n\t\t$syncService: { from: SYNC_SERVICE, default: null },\n\t},\n}\n\nexport const useIsMobileMixin = {\n\tinject: {\n\t\t$isMobile: { from: IS_MOBILE, default: false },\n\t},\n}\n\nexport const useFileMixin = {\n\tinject: {\n\t\t$file: {\n\t\t\tfrom: FILE,\n\t\t\tdefault: () => ({\n\t\t\t\tfileId: 0,\n\t\t\t\trelativePath: null,\n\t\t\t\tdocument: null,\n\t\t\t}),\n\t\t},\n\t},\n}\n\nexport const useAttachmentResolver = {\n\tinject: {\n\t\t$attachmentResolver: {\n\t\t\tfrom: ATTACHMENT_RESOLVER,\n\t\t\tdefault: {\n\t\t\t\tresolve(src: string) {\n\t\t\t\t\tlogger.warn(\n\t\t\t\t\t\t'No attachment resolver provided. Some attachment sources cannot be resolved.',\n\t\t\t\t\t)\n\t\t\t\t\treturn [src]\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n}\nexport const useEditorUpload = {\n\tinject: {\n\t\t$editorUpload: {\n\t\t\tfrom: EDITOR_UPLOAD,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\nexport const useMentionHook = {\n\tinject: {\n\t\t$mentionHookInsert: {\n\t\t\tfrom: HOOK_MENTION_INSERT,\n\t\t\tdefault: true,\n\t\t},\n\t\t$mentionHookSearch: {\n\t\t\tfrom: HOOK_MENTION_SEARCH,\n\t\t\tdefault: true,\n\t\t},\n\t},\n}\n","/**\n * SPDX-FileCopyrightText: 2022 Nextcloud GmbH and Nextcloud contributors\n * SPDX-License-Identifier: AGPL-3.0-or-later\n */\n\nexport const STATE_UPLOADING = Symbol('state:uploading-state')\nexport const ACTION_ATTACHMENT_PROMPT = Symbol('editor:action:attachment-prompt')\nexport const ACTION_CHOOSE_LOCAL_ATTACHMENT = Symbol('editor:action:upload-attachment')\nexport const ACTION_CREATE_ATTACHMENT = Symbol('editor:action:create-attachment')\n\nexport const useUploadingStateMixin = {\n\tinject: {\n\t\t$uploadingState: {\n\t\t\tfrom: STATE_UPLOADING,\n\t\t\tdefault: {\n\t\t\t\tisUploadingAttachments: false,\n\t\t\t},\n\t\t},\n\t},\n}\n\nexport const useActionAttachmentPromptMixin = {\n\tinject: {\n\t\t$callAttachmentPrompt: { from: ACTION_ATTACHMENT_PROMPT, default: () => {} },\n\t},\n}\n\nexport const useActionChooseLocalAttachmentMixin = {\n\tinject: {\n\t\t$callChooseLocalAttachment: { from: ACTION_CHOOSE_LOCAL_ATTACHMENT, default: () => {} },\n\t},\n}\n\nexport const useActionCreateAttachmentMixin = {\n\tinject: {\n\t\t$callCreateAttachment: { from: ACTION_CREATE_ATTACHMENT, default: () => (template) => {} },\n\t},\n}\n"],"names":["FILE","ATTACHMENT_RESOLVER","IS_MOBILE","SYNC_SERVICE","EDITOR_UPLOAD","HOOK_MENTION_SEARCH","HOOK_MENTION_INSERT","useSyncServiceMixin","useIsMobileMixin","useFileMixin","useAttachmentResolver","src","logger","useEditorUpload","STATE_UPLOADING","ACTION_ATTACHMENT_PROMPT","ACTION_CHOOSE_LOCAL_ATTACHMENT","ACTION_CREATE_ATTACHMENT","useUploadingStateMixin","useActionAttachmentPromptMixin","useActionChooseLocalAttachmentMixin","useActionCreateAttachmentMixin","template"],"mappings":"gDAOa,MAAAA,EAAO,OAAO,aAAa,EAC3BC,EAAsB,OAAO,qBAAqB,EAClDC,EAAY,OAAO,kBAAkB,EACrCC,EAAe,OAAO,cAAc,EACpCC,EAAgB,OAAO,eAAe,EACtCC,EAAsB,OAAO,qBAAqB,EAClDC,EAAsB,OAAO,qBAAqB,EAElDC,EAAsB,CAClC,OAAQ,CACP,aAAc,CAAE,KAAMJ,EAAc,QAAS,IAAK,CAAA,CAEpD,EAEaK,EAAmB,CAC/B,OAAQ,CACP,UAAW,CAAE,KAAMN,EAAW,QAAS,EAAM,CAAA,CAE/C,EAEaO,EAAe,CAC3B,OAAQ,CACP,MAAO,CACN,KAAMT,EACN,QAAS,KAAO,CACf,OAAQ,EACR,aAAc,KACd,SAAU,IACX,EAAA,CACD,CAEF,EAEaU,EAAwB,CACpC,OAAQ,CACP,oBAAqB,CACpB,KAAMT,EACN,QAAS,CACR,QAAQU,EAAa,CACb,OAAAC,EAAA,KACN,8EACD,EACO,CAACD,CAAG,CAAA,CACZ,CACD,CACD,CAEF,EACaE,EAAkB,CAC9B,OAAQ,CACP,cAAe,CACd,KAAMT,EACN,QAAS,EAAA,CACV,CAEF,ECzDaU,EAAkB,OAAO,uBAAuB,EAChDC,EAA2B,OAAO,iCAAiC,EACnEC,EAAiC,OAAO,iCAAiC,EACzEC,EAA2B,OAAO,iCAAiC,EAEnEC,EAAyB,CACrC,OAAQ,CACP,gBAAiB,CAChB,KAAMJ,EACN,QAAS,CACR,uBAAwB,EACxB,CACD,CACD,CACF,EAEaK,EAAiC,CAC7C,OAAQ,CACP,sBAAuB,CAAE,KAAMJ,EAA0B,QAAS,IAAM,CAAA,CAAI,CAC5E,CACF,EAEaK,EAAsC,CAClD,OAAQ,CACP,2BAA4B,CAAE,KAAMJ,EAAgC,QAAS,IAAM,CAAA,CAAI,CACvF,CACF,EAEaK,EAAiC,CAC7C,OAAQ,CACP,sBAAuB,CAAE,KAAMJ,EAA0B,QAAS,IAAOK,GAAa,EAAI,CAC1F,CACF"}