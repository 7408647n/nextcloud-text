import{c as i,r as T,u as d,w as M,o as y,e as b}from"./vue.runtime.esm-csNk-d35.chunk.mjs";import{r as D,i as S,f,n as F,a as I,g as x}from"./index-CXP1mBob.chunk.mjs";D(S);const N={long:f("a few seconds ago"),short:f("seconds ago"),narrow:f("sec. ago")};function _(e=Date.now(),r={}){const s=T(Date.now());let a;const c=T({format:{timeStyle:"medium",dateStyle:"short"},relativeTime:"long",ignoreSeconds:!1,...d(r)}),t=i(()=>({...d(r),...c.value})),v=i(()=>new Date(d(e))),h=i(()=>new Intl.DateTimeFormat(I(),t.value.format).format(v.value)),p=i(()=>{if(t.value.relativeTime!==!1){const o=new Intl.RelativeTimeFormat(x(),{numeric:"auto",style:t.value.relativeTime}),m=(v.value.getTime()-s.value)/1e3;if(Math.abs(m)<59.5)return t.value.ignoreSeconds?N[t.value.relativeTime]:o.format(Math.round(m),"second");const l=m/60;if(Math.abs(l)<=59)return o.format(Math.round(l),"minute");const u=l/60;if(Math.abs(u)<23.5)return o.format(Math.round(u),"hour");const n=u/24;if(Math.abs(n)<6.5)return o.format(Math.round(n),"day");if(Math.abs(n)<27.5){const g=n/7;return o.format(Math.round(g),"week")}const w=n/30;return Math.abs(w)<11.5?o.format(Math.round(w),"month"):o.format(Math.round(n/365),"year")}return h.value});return M([t],()=>{window.clearInterval(a),a=void 0,t.value.relativeTime&&(a=window.setInterval(()=>{s.value=Date.now()},1e3))}),y(()=>{t.value.relativeTime!==!1&&(a=window.setInterval(()=>{s.value=Date.now()},1e3))}),b(()=>{window.clearInterval(a)}),{formattedTime:p,formattedFullTime:h,options:c}}const B={name:"NcDateTime",props:{timestamp:{type:[Date,Number],required:!0},format:{type:Object,default:()=>({timeStyle:"medium",dateStyle:"short"})},relativeTime:{type:[Boolean,String],default:"long",validator:e=>e===!1||["long","short","narrow"].includes(e)},ignoreSeconds:{type:Boolean,default:!1}},setup(e){const r=i(()=>e.timestamp),{formattedTime:s,formattedFullTime:a}=_(r,e);return{formattedTime:s,formattedFullTime:a}}};var C=function(){var e=this,r=e._self._c;return r("span",{staticClass:"nc-datetime",attrs:{"data-timestamp":e.timestamp,title:e.formattedFullTime},domProps:{textContent:e._s(e.formattedTime)}})},j=[],k=F(B,C,j,!1,null,null);const q=k.exports;export{q as N};
//# sourceMappingURL=NcDateTime-DshRFtUU-vt7bjv2y.chunk.mjs.map
