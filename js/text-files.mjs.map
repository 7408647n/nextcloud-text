{"version":3,"mappings":";;8MA2BA,MAAMA,EAAqBC,EAAU,OAAQ,qBAAqB,EAC5DC,EAAmBD,EAAU,OAAQ,mBAAmB,EAE9D,SAAS,iBAAiB,mBAAoB,SAAY,OACzD,GAAI,OAAO,IAAI,OAAW,IAAa,CACtC,KAAM,CAAE,2BAAAE,CAA4B,EAAG,YAAM,OAAO,sBAAoB,EAAC,iEACzEC,EAAO,MAAM,6BAA6B,EAC1CD,EAA4B,CAC5B,CAED,GAAIH,GAAsB,OAAOK,EAAA,qBAAK,QAAL,MAAAA,EAAY,UAAU,CACtD,KAAM,CAAE,QAASC,CAAK,EAAG,MAAKC,EAAA,IAAC,OAAO,gCAAK,EAAC,KAAAC,KAAA,2CACtC,CAAE,QAASC,CAAe,EAAG,MAAMF,EAAA,WAAO,8BAA2B,EAAC,kDACtE,CAAE,QAASG,CAAO,EAAG,MAAMH,EAAA,WAAO,sBAAkB,EAAC,KAAAC,KAAA,oDAE3DF,EAAI,UAAU,EAAI,OAAO,EACzBA,EAAI,UAAU,EAAI,OAAO,EACzBA,EAAI,UAAU,IAAM,OAAO,IAK3B,MAAMK,EAJK,IAAIL,EAAI,CAClB,OAAQM,GAAKA,EAAEH,EAAe,EAAE,EAChC,MAAAC,CACH,CAAG,EACa,OAAM,EAAG,IACvB,IAAI,MAAM,SAAS,SAAS,IAAI,IAAI,MAAM,SAAS,QAAQ,OAAQ,CAClE,GAAI,IAAeC,CACtB,CAAG,CAAC,CACF,CACF,CAAC,EAED,IAAI,KAAO,CACV,qBAAsBT,CACvB","names":["workspaceAvailable","loadState","workspaceEnabled","registerFileActionFallback","logger","_a","Vue","__vitePreload","n","FilesSettings","store","el","h"],"ignoreList":[],"sources":["../src/files.js"],"sourcesContent":["/**\n * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>\n *\n * @author Julius Härtl <jus@bitgrid.net>\n *\n * @license AGPL-3.0-or-later\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Affero General Public License as\n * published by the Free Software Foundation, either version 3 of the\n * License, or (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Affero General Public License for more details.\n *\n * You should have received a copy of the GNU Affero General Public License\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\n *\n */\nimport { loadState } from '@nextcloud/initial-state'\n\nimport { logger } from './helpers/logger.js'\n// eslint-disable-next-line import/no-unresolved, n/no-missing-import\nimport 'vite/modulepreload-polyfill'\n\nconst workspaceAvailable = loadState('text', 'workspace_available')\nconst workspaceEnabled = loadState('text', 'workspace_enabled')\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n\tif (typeof OCA.Viewer === 'undefined') {\n\t\tconst { registerFileActionFallback } = await import('./helpers/files.js')\n\t\tlogger.error('Viewer app is not installed')\n\t\tregisterFileActionFallback()\n\t}\n\n\tif (workspaceAvailable && OCA && OCA?.Files?.Settings) {\n\t\tconst { default: Vue } = await import('vue')\n\t\tconst { default: FilesSettings } = await import('./views/FilesSettings.vue')\n\t\tconst { default: store } = await import('./store/index.js')\n\n\t\tVue.prototype.t = window.t\n\t\tVue.prototype.n = window.n\n\t\tVue.prototype.OCA = window.OCA\n\t\tconst vm = new Vue({\n\t\t\trender: h => h(FilesSettings, {}),\n\t\t\tstore,\n\t\t})\n\t\tconst el = vm.$mount().$el\n\t\tOCA.Files.Settings.register(new OCA.Files.Settings.Setting('text', {\n\t\t\tel: () => { return el },\n\t\t}))\n\t}\n})\n\nOCA.Text = {\n\tRichWorkspaceEnabled: workspaceEnabled,\n}\n"],"file":"js/text-files.mjs"}