(window.textWebpackJsonp=window.textWebpackJsonp||[]).push([[189],{166:function(t,n,e){"use strict";e.d(n,"a",(function(){return o})),e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return c}));var r=e(11),o=function(t){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?setTimeout(t,0):document.addEventListener("DOMContentLoaded",t)},i=Object(r.generateUrl)("/apps/text"),a=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n?"".concat(i,"/public/").concat(t):"".concat(i,"/").concat(t)},s=["Artichoke","Arugula","Asparagus","Avocado","Bamboo Shoot","Bean Sprout","Bean","Beet","Belgian Endive","Bell Pepper","Bitter Melon","Bitter Gourd","Bok Choy","Broccoli","Brussels Sprout","Burdock Root","Cabbage","Calabash","Caper","Carrot","Cassava","Cauliflower","Celery","Celery Root","Celtuce","Chayote","Chinese Broccoli","Corn","Baby Corn","Cucumber","English Cucumber","Gherkin","Pickling Cucumber","Daikon Radish","Edamame","Eggplant","Elephant Garlic","Endive","Curly","Escarole","Fennel","Fiddlehead","Galangal","Garlic","Ginger","Grape Leave","Green Bean","Wax Bean","Green","Amaranth Leave","Beet Green","Collard Green","Dandelion Green","Kale","Kohlrabi Green","Mustard Green","Rapini","Spinach","Swiss Chard","Turnip Green","Hearts of Palm","Horseradish","Jerusalem Artichoke","Jícama","Kale","Curly","Lacinato","Ornamental","Kohlrabi","Leeks","Lemongrass","Lettuce","Butterhead","Iceberg","Leaf","Romaine","Lotus Root","Lotus Seed","Mushroom","Napa Cabbage","Nopales","Okra","Olive","Onion","Green Onion","Parsley","Parsley Root","Parsnip","Pepper","Plantain","Potato","Pumpkin","Purslane","Radicchio","Radish","Rutabaga","Shallots","Spinach","Squash","Sweet Potato","Swiss Chard","Taro","Tomatillo","Tomato","Turnip","Water Chestnut","Water Spinach","Watercress","Winter Melon","Yams","Zucchini"],c=function(){return s[Math.floor(Math.random()*s.length)]}},173:function(n,e,r){"use strict";r.r(e);var o=r(48),i=r(217),a=r.n(i),s=r(551),c=r.n(s),l=r(31),d=r.n(l),p=r(166),u=r(196);function h(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var A=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._authority=n,this.fetchInterval=300,this.retryTime=500,this.lock=!1,this.fetchRetryCounter=0}var n,e,r;return n=t,(e=[{key:"connect",value:function(){this.fetcher=setInterval(this._fetchSteps.bind(this),0),document.addEventListener("visibilitychange",this.visibilitychange.bind(this))}},{key:"_isPublic",value:function(){return!!this._authority.options.shareToken}},{key:"forceSave",value:function(){this._forcedSave=!0,this.fetchSteps()}},{key:"save",value:function(){this._manualSave=!0,this.fetchSteps()}},{key:"fetchSteps",value:function(){this._fetchSteps()}},{key:"_fetchSteps",value:function(){var t,n=this;!this.lock&&this.fetcher&&(this.lock=!0,(this._forcedSave||this._manualSave||!Object(u.d)(this._authority.state)&&this._authority._getVersion()!==this._authority.document.lastSavedVersion)&&(t=this._authority._getContent()),d.a.post(Object(p.b)("session/sync",this._isPublic()),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,version:this._authority._getVersion(),autosaveContent:t,force:!!this._forcedSave,manualSave:!!this._manualSave,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(t){if(n.fetchRetryCounter=0,n._authority.document.lastSavedVersion<t.data.document.lastSavedVersion&&(console.debug("Saved document",t.data.document),n._authority.emit("save",{document:t.data.document,sessions:t.data.sessions})),n._authority.emit("change",{document:t.data.document,sessions:t.data.sessions}),n._authority.document=t.data.document,n._authority.sessions=t.data.sessions,0===t.data.steps.length){if(n._authority.checkIdle())return;return n.lock=!1,t.data.sessions.filter((function(t){return t.lastContact>Date.now()/1e3-9e4})).length<2?n.maximumRefetchTimer():n.increaseRefetchTimer(),n._authority.emit("stateChange",{dirty:!1}),void n._authority.emit("stateChange",{initialLoading:!0})}n._authority._receiveSteps(t.data),n.lock=!1,n._forcedSave=!1,n.resetRefetchTimer()})).catch((function(t){n.lock=!1,t.response&&"ECONNABORTED"!==t.code?409===t.response.status&&t.response.data.document.currentVersion===n._authority.document.currentVersion?(console.error("Conflict during file save, please resolve"),n._authority.emit("error",b.SAVE_COLLISSION,{outsideChange:t.response.data.outsideChange})):403===t.response.status||404===t.response.status?(n._authority.emit("error",b.SOURCE_NOT_FOUND,{}),n.disconnect()):503===t.response.status?(n.increaseRefetchTimer(),n._authority.emit("error",b.CONNECTION_FAILED,{retry:!1}),console.error("Failed to fetch steps due to unavailable service",t)):(n.disconnect(),n._authority.emit("error",b.CONNECTION_FAILED,{retry:!1}),console.error("Failed to fetch steps due to other reason",t)):n.fetchRetryCounter++>=5?(console.error("[PollingBackend:fetchSteps] Network error when fetching steps, emitting CONNECTION_FAILED"),n._authority.emit("error",b.CONNECTION_FAILED,{retry:!1})):console.error("[PollingBackend:fetchSteps] Network error when fetching steps, retry ".concat(n.fetchRetryCounter))})),this._manualSave=!1,this._forcedSave=!1)}},{key:"sendSteps",value:function(t){var n=this;if(this._authority.emit("stateChange",{dirty:!0}),this.lock)setTimeout((function(){n._authority.sendSteps()}),100);else{this.lock=!0;var e="function"==typeof t?t():t,r=e.steps;d.a.post(Object(p.b)("session/push",!!this._authority.options.shareToken),{documentId:this._authority.document.id,sessionId:this._authority.session.id,sessionToken:this._authority.session.token,steps:r.map((function(t){return t.toJSON?t.toJSON():t}))||[],version:e.version,token:this._authority.options.shareToken,filePath:this._authority.options.filePath}).then((function(t){n.carefulRetryReset(),n.lock=!1,n.fetchSteps()})).catch((function(t){console.error("failed to apply steps due to collission, retrying"),n.lock=!1,t.response&&"ECONNABORTED"!==t.code?(403===t.response.status&&t.response.data.document.currentVersion===n._authority.document.currentVersion&&(n._authority.emit("error",b.PUSH_FAILURE,{}),OC.Notification.showTemporary("Changes could not be sent yet")),n.fetchSteps(),n.carefulRetry()):n._authority.emit("error",b.CONNECTION_FAILED,{})}))}}},{key:"disconnect",value:function(){clearInterval(this.fetcher),this.fetcher=0,document.removeEventListener("visibilitychange",this.visibilitychange.bind(this))}},{key:"resetRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=300,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"increaseRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=Math.min(2*this.fetchInterval,5e3),clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"maximumRefetchTimer",value:function(){0!==this.fetcher&&(this.fetchInterval=5e3,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval))}},{key:"visibilitychange",value:function(){0!==this.fetcher&&("hidden"===document.visibilityState?(this.fetchInterval=6e4,clearInterval(this.fetcher),this.fetcher=setInterval(this._fetchSteps.bind(this),this.fetchInterval)):this.resetRefetchTimer())}},{key:"carefulRetry",value:function(){var t=this.retryTime?Math.min(2*this.retryTime,1e4):500;t>5e3&&this.retryTime<5e3&&(OC.Notification.showTemporary("Changes could not be sent yet"),this._authority.emit("error",b.PUSH_FAILURE,{})),this.retryTime=t}},{key:"carefulRetryReset",value:function(){this.retryTime=500}}])&&h(n.prototype,e),r&&h(n,r),t}();function f(t,n,e,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function C(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var m={shareToken:null,forceRecreate:!1,serialize:function(t){return t}},b={SAVE_COLLISSION:0,PUSH_FAILURE:1,LOAD_ERROR:2,CONNECTION_FAILED:3,SOURCE_NOT_FOUND:4},v=function(){function t(n){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventHandlers={opened:[],loaded:[],fetched:[],sync:[],stateChange:[],error:[],change:[],save:[],idle:[]},this.backend=new A(this),this.options=Object.assign({},m,n),this.document=null,this.session=null,this.sessions=[],this.steps=[],this.stepClientIDs=[],this.lastStepPush=Date.now(),this}var n,e,r,o,i;return n=t,(e=[{key:"open",value:(o=regeneratorRuntime.mark((function t(n){var e,r,o,i,a,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=n.fileId,r=n.filePath,o=n.initialSession,i=null,void 0!==o){t.next=16;break}return t.prev=3,t.next=6,this._openDocument({fileId:e,filePath:r});case 6:a=t.sent,i=a.data,t.next=14;break;case 10:throw t.prev=10,t.t0=t.catch(3),t.t0.response&&"ECONNABORTED"!==t.t0.code?this.emit("error",b.LOAD_ERROR,t.t0.response.status):this.emit("error",b.CONNECTION_FAILED,{}),t.t0;case 14:t.next=17;break;case 16:i=o;case 17:return this.document=i.document,this.document.readOnly=i.readOnly,this.session=i.session,this.emit("opened",{document:this.document,session:this.session}),t.abrupt("return",this._fetchDocument().then((function(t){var n=t.data;s.emit("loaded",{document:s.document,session:s.session,documentSource:""+n})})));case 22:case"end":return t.stop()}}),t,this,[[3,10]])})),i=function(){var t=this,n=arguments;return new Promise((function(e,r){var i=o.apply(t,n);function a(t){f(i,e,r,a,s,"next",t)}function s(t){f(i,e,r,a,s,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"startSync",value:function(){this.backend.connect()}},{key:"_openDocument",value:function(t){var n=t.fileId,e=t.filePath;return d.a.put(Object(p.b)("session/create",!!this.options.shareToken),{fileId:n,filePath:e,token:this.options.shareToken,guestName:this.options.guestName,forceRecreate:this.options.forceRecreate})}},{key:"_fetchDocument",value:function(){return d.a.post(Object(p.b)("session/fetch",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken},{transformResponse:[function(t){return t}]})}},{key:"updateSession",value:function(t){var n=this;if(this.isPublic())return d.a.post(Object(p.b)("session",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken,guestName:t}).then((function(t){var e=t.data;return n.session=e,e})).catch((function(t){return console.error("Failed to update the session",t),Promise.reject(t)}))}},{key:"sendSteps",value:function(t){var n=t||Object(u.d)(this.state);if(n)return this.backend.sendSteps(n)}},{key:"stepsSince",value:function(t){return{steps:this.steps.slice(t),clientIDs:this.stepClientIDs.slice(t)}}},{key:"_receiveSteps",value:function(t){for(var n=this,e=t.steps,r=t.document,o=[],i=function(t){var r=e[t].data;if(!Array.isArray(r))return console.error("Invalid step data, skipping step",e[t]),"continue";r.forEach((function(r){n.steps.push(r),o.push({step:r,clientID:e[t].sessionId})}))},a=0;a<e.length;a++)i(a);this.lastStepPush=Date.now(),this.emit("sync",{steps:o,document:r}),console.debug("receivedSteps","newVersion",this._getVersion())}},{key:"checkIdle",value:function(){(Date.now()-this.lastStepPush)/1e3/60>30&&(console.debug("[SyncService] Document is idle for ".concat(this.IDLE_TIMEOUT," minutes, suspending connection")),this.emit("idle"))}},{key:"_getVersion",value:function(){return this.state?Object(u.b)(this.state):0}},{key:"_getDocument",value:function(){if(this.state)return this.state.doc}},{key:"_getContent",value:function(){return this.options.serialize(this._getDocument())}},{key:"save",value:function(){this.backend.save&&this.backend.save()}},{key:"forceSave",value:function(){this.backend.forceSave&&this.backend.forceSave()}},{key:"close",value:function(){var t=this,n=!1;return new Promise((function(e,r){t.on("save",(function(){t._close().then((function(){n=!0,e()})).catch((function(){return e()}))})),setTimeout((function(){n||t._close().then((function(){e()})).catch((function(){return e()}))}),2e3),t.save()}))}},{key:"_close",value:function(){return null===this.document||null===this.session?Promise.resolve():(this.backend.disconnect(),d.a.post(Object(p.b)("session/close",!!this.options.shareToken),{documentId:this.document.id,sessionId:this.session.id,sessionToken:this.session.token,token:this.options.shareToken}))}},{key:"on",value:function(t,n,e){return this.eventHandlers[t].push(n.bind(e)),this}},{key:"emit",value:function(t,n,e){void 0!==this.eventHandlers[t]?this.eventHandlers[t].forEach((function(t){t(n,e)})):console.error("Event not found",t)}},{key:"isPublic",value:function(){return!!this.options.shareToken}}])&&C(n.prototype,e),r&&C(n,r),t}(),g={py:"python",gyp:"python",wsgi:"python",htm:"html",xhtml:"html",erl:"erlang",jsp:"java",pl:"perl",rss:"xml",atom:"xml",xsl:"xml",plist:"xml",rb:"ruby",builder:"ruby",gemspec:"ruby",podspec:"ruby",thor:"ruby",diff:"patch",hs:"haskell",icl:"haskell",php3:"php",php4:"php",php5:"php",php6:"php",sh:"bash",zsh:"bash",st:"smalltalk",as:"actionscript",apacheconf:"apache",osacript:"applescript",b:"brainfuck",bf:"brainfuck",clj:"clojure","cmake.in":"cmake",coffee:"coffeescript",cson:"coffescript",iced:"coffescript",c:"cpp",h:"cpp","c++":"cpp","h++":"cpp",hh:"cpp",jinja:"django",bat:"dos",cmd:"dos",fs:"fsharp",hbs:"handlebars","html.hbs":"handlebars","html.handlebars":"handlebars",sublime_metrics:"json",sublime_session:"json","sublime-keymap":"json","sublime-mousemap":"json","sublime-project":"json","sublime-settings":"json","sublime-workspace":"json",mk:"makefile",mak:"makefile",md:"markdown",mkdown:"markdown",mkd:"markdown",nginxconf:"nginx",m:"objectivec",mm:"objectivec",ml:"ocaml",rs:"rust",sci:"scilab",vb:"vbnet",vbs:"vbscript"},y=r(550),B=r(181),x=r(186);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function j(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,n){return(P=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=S(t);if(n){var o=S(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M(this,e)}}function M(t,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function S(t){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var _=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&P(t,n)}(i,t);var n,e,r,o=E(i);function i(){return w(this,i),o.apply(this,arguments)}return n=i,(e=[{key:"keys",value:function(t){return t.schema,this.options}},{key:"name",get:function(){return"customkeymap"}},{key:"plugins",get:function(){return[new B.h({props:{handleKeyDown:function(t,n){var e=n.key||n.keyCode;if((n.ctrlKey||n.metaKey)&&!n.shiftKey&&("f"===e||70===e))return n.stopPropagation(),window.dispatchEvent(n),!0}}})]}}])&&j(n.prototype,e),r&&j(n,r),i}(B.e),O={data:function(){return{isMobile:this._isMobile()}},beforeMount:function(){window.addEventListener("resize",this._onResize)},beforeDestroy:function(){window.removeEventListener("resize",this._onResize)},methods:{_onResize:function(){this.isMobile=this._isMobile()},_isMobile:function(){return document.documentElement.clientWidth<768}}},D=r(184),I=r.n(D);
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */function R(t,n,e,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}var z={name:"EditorWrapper",components:{EditorContent:B.b,MenuBar:function(){return Promise.all([r.e(1),r.e(198),r.e(192)]).then(r.bind(null,659))},MenuBubble:function(){return Promise.all([r.e(1),r.e(198),r.e(192)]).then(r.bind(null,660))},ReadOnlyEditor:function(){return Promise.all([r.e(0),r.e(188),r.e(197),r.e(189)]).then(r.bind(null,658))},CollisionResolveDialog:function(){return Promise.all([r.e(0),r.e(188),r.e(197),r.e(189)]).then(r.bind(null,661))},GuestNameDialog:function(){return Promise.all([r.e(1),r.e(187),r.e(191)]).then(r.bind(null,662))},SessionList:function(){return Promise.all([r.e(1),r.e(187),r.e(190)]).then(r.bind(null,663))}},directives:{Tooltip:I.a},mixins:[O],props:{initialSession:{type:Object,default:null},relativePath:{type:String,default:null},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!0},shareToken:{type:String,default:null},mime:{type:String,default:null},autohide:{type:Boolean,default:!1},isDirectEditing:{type:Boolean,default:!1}},data:function(){return{IDLE_TIMEOUT:30,tiptap:null,syncService:null,document:null,sessions:[],currentSession:null,filteredSessions:{},idle:!1,dirty:!1,initialLoading:!1,lastSavedString:"",syncError:null,hasConnectionIssue:!1,readOnly:!0,forceRecreate:!1,saveStatusPolling:null}},computed:{lastSavedStatus:function(){var t=this.dirtyStateIndicator?"*":"";return this.isMobile||(t+=this.lastSavedString),t},lastSavedStatusClass:function(){return this.syncError&&""!==this.lastSavedString?"error":""},dirtyStateIndicator:function(){return this.hasUnpushedChanges||this.hasUnsavedChanges},lastSavedStatusTooltip:function(){var n=t("text","Last saved {lastSaved}",{lastSaved:this.lastSavedString});return this.hasSyncCollission&&(n=t("text","The document has been changed outside of the editor. The changes cannot be applied.")),this.hasUnpushedChanges&&(n+=" - "+t("text","Unpushed changes")),this.hasUnsavedChanges&&(n+=" - "+t("text","Unsaved changes")),{content:n,placement:"bottom"}},hasSyncCollission:function(){return this.syncError&&this.syncError.type===b.SAVE_COLLISSION},hasUnpushedChanges:function(){return this.dirty},hasUnsavedChanges:function(){return this.document&&this.document.lastSavedVersion<this.document.currentVersion},backendUrl:function(){var t=this;return function(n){return Object(p.b)(n,!!t.shareToken)}},hasDocumentParameters:function(){return this.fileId||this.shareToken||this.initialSession},isPublic:function(){return this.isDirectEditing||document.getElementById("isPublic")&&"1"===document.getElementById("isPublic").value},isRichEditor:function(){return"text/markdown"===this.mime},fileExtension:function(){return this.relativePath?this.relativePath.split("/").pop().split(".").pop():"txt"}},watch:{lastSavedStatus:function(){this.$refs.menubar&&this.$refs.menubar.redrawMenuBar()}},mounted:function(){this.active&&this.hasDocumentParameters&&this.initSession(),this.$parent.$emit("update:loaded",!0)},created:function(){var t=this;this.saveStatusPolling=setInterval((function(){t.updateLastSavedStatus()}),2e3)},beforeDestroy:function(){this.close()},methods:{close:function(){var t,n=this;return(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(clearInterval(n.saveStatusPolling),!n.currentSession||!n.syncService){t.next=11;break}return t.prev=2,t.next=5,n.syncService.close();case 5:n.currentSession=null,n.syncService=null,t.next=11;break;case 9:t.prev=9,t.t0=t.catch(2);case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[2,9]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){R(i,r,o,a,s,"next",t)}function s(t){R(i,r,o,a,s,"throw",t)}a(void 0)}))})()},updateLastSavedStatus:function(){this.document&&(this.lastSavedString=c()(1e3*this.document.lastSavedVersionTime).fromNow())},initSession:function(){var t=this;if(this.hasDocumentParameters){var n=localStorage.getItem("nick")?localStorage.getItem("nick"):Object(p.c)();this.syncService=new v({shareToken:this.shareToken,filePath:this.relativePath,guestName:n,forceRecreate:this.forceRecreate,serialize:function(n){if(t.isRichEditor){var e=Object(y.b)(t.tiptap.nodes,t.tiptap.marks).serialize(n);return console.debug("serialized document",{markdown:e}),e}var r=Object(y.e)(t.tiptap);return console.debug("serialized document",{file:r}),r}}).on("opened",(function(n){var e=n.document,r=n.session;t.currentSession=r,t.document=e,t.readOnly=e.readOnly,localStorage.setItem("nick",t.currentSession.guestName)})).on("change",(function(n){var e=n.document,r=n.sessions;""===t.document.baseVersionEtag||e.baseVersionEtag===t.document.baseVersionEtag?(t.updateSessions.bind(t)(r),t.document=e,t.syncError=null,t.tiptap.setOptions({editable:!t.readOnly})):t.resolveUseServerVersion()})).on("loaded",(function(n){var e=n.documentSource;t.hasConnectionIssue=!1,Object(y.c)(g[t.fileExtension]?g[t.fileExtension]:t.fileExtension).then((function(n){t.tiptap=Object(y.a)({content:t.isRichEditor?y.d.render(e):"<pre>"+a()(e)+"</pre>",onInit:function(n){var e=n.state;t.syncService.state=e,t.syncService.startSync()},onUpdate:function(n){var e=n.state;t.syncService.state=e},extensions:[new x.g({version:t.document.initialVersion,clientID:t.currentSession.id,debounce:200,onSendable:function(n){n.sendable;t.syncService&&t.syncService.sendSteps()}}),new _({"Mod-s":function(){return t.syncService.save(),!0}})],enableRichEditing:t.isRichEditor,languages:n}),t.tiptap.on("focus",(function(){t.$emit("focus")})),t.tiptap.on("blur",(function(){t.$emit("blur")})),t.syncService.state=t.tiptap.state}))})).on("sync",(function(n){var e=n.steps,r=n.document;t.hasConnectionIssue=!1;try{t.tiptap.extensions.options.collaboration.update({version:r.currentVersion,steps:e}),t.syncService.state=t.tiptap.state,t.updateLastSavedStatus()}catch(t){console.error("Failed to update steps in collaboration plugin",t)}t.document=r})).on("error",(function(n,e){t.tiptap.setOptions({editable:!1}),n!==b.SAVE_COLLISSION||t.syncError&&t.syncError.type===b.SAVE_COLLISSION||(t.initialLoading=!0,t.syncError={type:n,data:e}),n!==b.CONNECTION_FAILED||t.hasConnectionIssue||(t.hasConnectionIssue=!0,OC.Notification.showTemporary("Connection failed, reconnecting"),!1!==e.retry&&setTimeout(t.reconnect.bind(t),5e3)),n===b.SOURCE_NOT_FOUND&&(t.hasConnectionIssue=!0),t.$emit("ready")})).on("stateChange",(function(n){n.initialLoading&&!t.initialLoading&&(t.initialLoading=!0,t.autofocus&&t.tiptap.focus("start"),t.$emit("ready"),t.$parent.$emit("ready",!0)),Object.prototype.hasOwnProperty.call(n,"dirty")&&(t.dirty=n.dirty)})).on("idle",(function(){t.syncService.close(),t.idle=!0,t.readOnly=!0,t.tiptap.setOptions({editable:!t.readOnly})})),null===this.initialSession?this.syncService.open({fileId:this.fileId,filePath:this.relativePath}).catch((function(n){t.hasConnectionIssue=!0})):this.syncService.open({initialSession:this.initialSession}).catch((function(n){t.hasConnectionIssue=!0})),this.forceRecreate=!1}else this.$parent.$emit("error","No valid file provided")},resolveUseThisVersion:function(){this.syncService.forceSave(),this.tiptap.setOptions({editable:!this.readOnly})},resolveUseServerVersion:function(){this.forceRecreate=!0,this.reconnect()},reconnect:function(){var t=this;this.initialLoading=!1,this.hasConnectionIssue=!1,this.syncService?this.syncService.close().then((function(){t.syncService=null,t.tiptap.destroy(),t.initSession()})).catch((function(t){})):(this.syncService=null,this.tiptap.destroy(),this.initSession()),this.idle=!1},updateSessions:function(t){this.sessions=t.sort((function(t,n){return n.lastContact-t.lastContact}));var n=this.sessions.map((function(t){return t.userId})),e=this.sessions.map((function(t){return t.guestId})),r=Object.keys(this.filteredSessions).filter((function(t){return!n.includes(t)&&!e.includes(t)}));for(var i in r)o.default.delete(this.filteredSessions,r[i]);for(var a in this.sessions){var s=this.sessions[a],c=s.displayName?s.userId:s.id;this.filteredSessions[c]?this.filteredSessions[c].lastContact<s.lastContact&&o.default.set(this.filteredSessions[c],"lastContact",s.lastContact):o.default.set(this.filteredSessions,c,s),s.id===this.currentSession.id&&o.default.set(this.filteredSessions[c],"isCurrent",!0)}}}},T=r(28),U=r.n(T),W=r(622),N={insert:"head",singleton:!1},L=(U()(W.a,N),W.a.locals,r(623)),Y={insert:"head",singleton:!1},q=(U()(L.a,Y),L.a.locals,r(18)),G=Object(q.a)(z,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{attrs:{id:"editor-container"}},[t.currentSession&&t.active?e("div",{staticClass:"document-status"},[t.idle?e("p",{staticClass:"msg icon-info"},[t._v("\n\t\t\t"+t._s(t.t("text","Document idle for {timeout} minutes, click to continue editing",{timeout:t.IDLE_TIMEOUT}))+" "),e("a",{staticClass:"button primary",on:{click:t.reconnect}},[t._v(t._s(t.t("text","Reconnect")))])]):t.hasSyncCollission?e("p",{staticClass:"msg icon-error"},[t._v("\n\t\t\t"+t._s(t.t("text","The document has been changed outside of the editor. The changes cannot be applied."))+"\n\t\t")]):t.hasConnectionIssue?e("p",{staticClass:"msg icon-info"},[t._v("\n\t\t\t"+t._s(t.t("text","File could not be loaded. Please check your internet connection."))+" "),e("a",{staticClass:"button primary",on:{click:t.reconnect}},[t._v(t._s(t.t("text","Reconnect")))])]):t._e()]):t._e(),t._v(" "),t.currentSession&&t.active?e("div",{class:{"has-conflicts":t.hasSyncCollission,"icon-loading":!t.initialLoading&&!t.hasConnectionIssue,richEditor:t.isRichEditor},attrs:{id:"editor-wrapper"}},[e("div",{attrs:{id:"editor"}},[t.syncError||t.readOnly?t._e():e("MenuBar",{ref:"menubar",attrs:{editor:t.tiptap,"file-path":t.relativePath,"is-rich-editor":t.isRichEditor,"is-public":t.isPublic,autohide:t.autohide}},[t.currentSession&&t.active?e("div",{attrs:{id:"editor-session-list"}},[e("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.lastSavedStatusTooltip,expression:"lastSavedStatusTooltip"}],staticClass:"save-status",class:t.lastSavedStatusClass},[t._v("\n\t\t\t\t\t\t"+t._s(t.lastSavedStatus)+"\n\t\t\t\t\t")]),t._v(" "),e("SessionList",{attrs:{sessions:t.filteredSessions}},[t.isPublic&&t.currentSession.guestName?e("GuestNameDialog",{attrs:{"sync-service":t.syncService}}):t._e()],1)],1):t._e(),t._v(" "),t._t("header")],2),t._v(" "),e("div",[!t.readOnly&&t.isRichEditor?e("MenuBubble",{attrs:{editor:t.tiptap,"file-path":t.relativePath}}):t._e(),t._v(" "),e("EditorContent",{directives:[{name:"show",rawName:"v-show",value:t.initialLoading,expression:"initialLoading"}],staticClass:"editor__content",attrs:{editor:t.tiptap}})],1)],1),t._v(" "),t.hasSyncCollission?e("ReadOnlyEditor",{attrs:{content:t.syncError.data.outsideChange,"is-rich-editor":t.isRichEditor}}):t._e()],1):t._e(),t._v(" "),t.hasSyncCollission&&!t.readOnly?e("CollisionResolveDialog",{on:{resolveUseThisVersion:t.resolveUseThisVersion,resolveUseServerVersion:t.resolveUseServerVersion}}):t._e()],1)}),[],!1,null,"2e6d8ab0",null);e.default=G.exports},174:function(t,n,e){"use strict";e.r(n);var r=e(48),o=e(173);function i(t,n,e,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var a=t.apply(n,e);function s(t){i(a,r,o,s,c,"next",t)}function c(t){i(a,r,o,s,c,"throw",t)}s(void 0)}))}}var s=r.default.observable({messages:[],mtime:0}),c=function(t,n){console.debug("callMobileMessage "+t,n);var e=t;void 0!==n&&(e={MessageName:t,Values:n});var r=null;try{r=JSON.stringify(n)}catch(t){r=null}window.DirectEditingMobileInterface&&"function"==typeof window.DirectEditingMobileInterface[t]&&(null==r?window.DirectEditingMobileInterface[t]():window.DirectEditingMobileInterface[t](r)),window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.DirectEditingMobileInterface&&window.webkit.messageHandlers.DirectEditingMobileInterface.postMessage(e),window.postMessage(e)};window.addEventListener("message",(function(t){s.messages.push(t.data),console.debug("postMessage",t)}));var l={name:"DirectEditing",components:{EditorWrapper:o.default},data:function(){return{initial:OCP.InitialState.loadState("text","file"),messages:s.messages,log:s,saving:!1}},computed:{initialSession:function(){return JSON.parse(this.initial.session)||null}},beforeMount:function(){c("loading")},mounted:function(){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0")},methods:{close:function(){var t=this;return a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t.saving=!0,setTimeout(a(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.editor.close();case 2:c("close");case 3:case"end":return n.stop()}}),n)}))),0);case 2:case"end":return n.stop()}}),n)})))()},share:function(){c("share")},loaded:function(){c("loaded")}}},d=e(28),p=e.n(d),u=e(624),h={insert:"head",singleton:!1},A=(p()(u.a,h),u.a.locals,e(18)),f=Object(A.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{class:{"icon-loading":t.saving},attrs:{id:"direct-editor"}},[e("EditorWrapper",{ref:"editor",attrs:{"initial-session":t.initialSession,active:!0,mime:t.initial.mimetype,"is-direct-editing":!0},on:{ready:t.loaded},scopedSlots:t._u([{key:"header",fn:function(){return[e("button",{staticClass:"icon-share",on:{click:t.share}}),t._v(" "),e("button",{staticClass:"icon-close",on:{click:t.close}})]},proxy:!0}])})],1)}),[],!1,null,"3ea77884",null);n.default=f.exports},201:function(t,n,e){"use strict";n.a="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgdmlld2JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGQ9Ik0xMS45MjQgNC4wNjZsLTQuOTMyIDQuOTctMi44MjgtMi44M0wyLjc1IDcuNjE4bDQuMjQyIDQuMjQzIDYuMzY1LTYuMzY1LTEuNDMzLTEuNDMyeiIgZmlsbD0iI2ZmZiIvPjwvc3ZnPgo="},550:function(t,n,e){"use strict";e.d(n,"d",(function(){return It})),e.d(n,"a",(function(){return Dt})),e.d(n,"b",(function(){return zt})),e.d(n,"e",(function(){return Tt})),e.d(n,"c",(function(){return Ot}));var r=e(181),o=e(186),i=e(189),a=e(11);function s(t,n){return function(t){if(Array.isArray(t))return t}
/*
 * @copyright Copyright (c) 2020 Azul <azul@riseup.net>
 *
 * @author Azul <azul@riseup.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return c(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var l=function(t){var n=t.lastIndexOf("/");return n>0?t.slice(0,n):t.slice(0,n+1)},d=function(t){var n=t.attrs.href;if(!n)return n;if(n.match(/^[a-zA-Z]*:/))return n;var e=n.match(/^([^?]*)\?fileId=(\d+)/);if(e){var r=s(e,3),o=r[1],i=r[2],c=function(t,n){if(!n)return t;if("/"===n[0])return n;for(t=t.split("/"),n=n.split("/");".."===n[0]||"."===n[0];)".."===n[0]&&t.pop(),n.shift();return t.concat(n).join("/")}(l(OCA.Viewer.state.file),l(o));return Object(a.generateUrl)("/apps/files/?dir=".concat(c,"&openfile=").concat(i,"#relPath=").concat(o))}},p=function(t){var n=t.getAttribute("href");if(!n)return n;var e=n.match(/\?dir=([^&]*)&openfile=([^&]*)#relPath=([^&]*)/);if(e){var r=s(e,4),o=r[2],i=r[3];return"".concat(i,"?fileId=").concat(o)}return n};function u(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function h(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?u(Object(e),!0).forEach((function(n){A(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function A(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function m(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,n,e){return n&&m(t.prototype,n),e&&m(t,e),t}function v(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&g(t,n)}function g(t,n){return(g=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=x(t);if(n){var o=x(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return B(this,e)}}function B(t,n){return!n||"object"!==f(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var k=function(t){v(e,t);var n=y(e);function e(){return C(this,e),n.apply(this,arguments)}return b(e,[{key:"name",get:function(){return"strong"}}]),e}(o.b),w=function(t){v(e,t);var n=y(e);function e(){return C(this,e),n.apply(this,arguments)}return b(e,[{key:"name",get:function(){return"em"}}]),e}(o.m),j=function(t){v(e,t);var n=y(e);function e(){return C(this,e),n.apply(this,arguments)}return b(e,[{key:"schema",get:function(){return{parseDOM:[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",getAttrs:function(t){return"line-through"===t}}],toDOM:function(){return["s",0]},toMarkdown:{open:"~~",close:"~~",mixable:!0,expelEnclosingWhitespace:!0}}}}]),e}(o.r),P=function(t){v(e,t);var n=y(e);function e(){return C(this,e),n.apply(this,arguments)}return b(e,[{key:"schema",get:function(){return{attrs:{href:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){return{href:p(t)}}}],toDOM:function(t){return["a",h(h({},t.attrs),{},{href:d(t),title:t.attrs.href,rel:"noopener noreferrer nofollow"}),0]}}}},{key:"plugins",get:function(){return this.options.openOnClick?[new r.h({props:{handleClick:function(t,n,e){var r=t.state.schema;if(Object(i.a)(t.state,r.marks.link).href&&e.target instanceof HTMLAnchorElement){e.stopPropagation();var o=e.target.href;if(0===e.button&&!e.ctrlKey&&o.startsWith(window.location.origin)){var a=OC.parseQueryString(o),s=OC.parseQueryString(o.split("#").pop());if(a.dir&&s.relPath){var c=s.relPath.split("/").pop(),l="".concat(a.dir,"/").concat(c);return document.title="".concat(c," - ").concat(OC.theme.title),window.location.pathname.match(/apps\/files\/$/),void OCA.Viewer.open({path:l})}}if(!It.validateLink(o))return void console.error("Invalid link",o);window.open(o)}}}})]:[]}}]),e}(o.n),E=e(559),M=e.n(E),S=["image/png","image/jpeg","image/gif","image/x-xbitmap","image/bmp","image/svg+xml"],_=function(t,n){var e=t.split("?")[1];if(void 0!==e){var r=e.split(/[&#]/);if(void 0!==r)for(var o=0;o<r.length;o++){var i=r[o].split("=");if(decodeURIComponent(i[0])===n)return decodeURIComponent(i[1])}}},O={name:"ImageView",props:["node","updateAttrs","view"],data:function(){return{imageLoaded:!1,loaded:!1,failed:!1}},computed:{imageUrl:function(){if(this.src.startsWith("http://")||this.src.startsWith("https://"))return this.src;if(this.hasPreviewUrl)return this.src;if(this.fileId)return Object(a.generateUrl)("/core/preview")+"?fileId=".concat(this.fileId,"&x=1024&y=1024&a=true");var t=FileList.getCurrentDirectory()+"/"+this.src,n=encodeURIComponent(M.a.normalize(t));return Object(a.generateUrl)("/core/preview.png")+"?file=".concat(n,"&x=1024&y=1024&a=true")},fileId:function(){return _(this.src,"fileId")},hasPreviewUrl:function(){return this.src.match(/^(\/index.php)?\/core\/preview/)||this.src.match(/^(\/index.php)?\/apps\/files_sharing\/publicpreview\//)},mimeIcon:function(){var t=_(this.src,"mimetype");return t?{backgroundImage:"url("+window.OC.MimeType.getIconUrl(t)+")"}:{}},isSupportedImage:function(){var t=_(this.src,"mimetype");return void 0===t||-1!==S.indexOf(t)},internalLinkOrImage:function(){var t=_(this.src,"fileId");return t?Object(a.generateUrl)("/f/"+t):this.src},src:{get:function(){return this.node.attrs.src},set:function(t){this.updateAttrs({src:t})}},alt:{get:function(){return this.node.attrs.alt?this.node.attrs.alt:""},set:function(t){this.updateAttrs({alt:t})}},t:function(){return function(t,n){return window.t(t,n)}}},beforeMount:function(){var t=this;if(!this.isSupportedImage)return this.failed=!0,this.imageLoaded=!1,void(this.loaded=!0);var n=new Image;n.src=this.imageUrl,n.onload=function(){t.imageLoaded=!0},n.onerror=function(){t.failed=!0,t.imageLoaded=!1,t.loaded=!0}},methods:{updateAlt:function(){this.alt=this.$refs.altInput.value},onLoaded:function(){this.loaded=!0}}},D=e(28),I=e.n(D),R=e(560),z={insert:"head",singleton:!1},T=(I()(R.a,z),R.a.locals,e(18)),U=Object(T.a)(O,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"image",class:{"icon-loading":!t.loaded},attrs:{"data-src":t.src}},[t.imageLoaded&&t.isSupportedImage?e("div",{staticClass:"image__view"},[e("transition",{attrs:{name:"fade"}},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__main",attrs:{src:t.imageUrl},on:{load:t.onLoaded}})]),t._v(" "),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__caption"},[e("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:t.alt},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.updateAlt()}}})])])],1):e("div",{staticClass:"image__placeholder"},[e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__main"},[e("a",{attrs:{href:t.internalLinkOrImage,target:"_blank"}},[e("div",{staticClass:"icon-image",style:t.mimeIcon}),t._v(" "),t.isSupportedImage?t._e():e("p",[t._v(t._s(t.alt))])])])]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],staticClass:"image__caption"},[e("input",{ref:"altInput",attrs:{type:"text"},domProps:{value:t.alt},on:{keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.updateAlt()}}})])])],1)])}),[],!1,null,"efec1cb6",null).exports;function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function L(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?N(Object(e),!0).forEach((function(n){Y(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):N(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function Y(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function q(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function G(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Z(t,n,e){return(Z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=K(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function F(t,n){return(F=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function V(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=K(t);if(n){var o=K(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return X(this,e)}}function X(t,n){return!n||"object"!==W(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var Q=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&F(t,n)}(i,t);var n,e,r,o=V(i);function i(){return q(this,i),o.apply(this,arguments)}return n=i,(e=[{key:"view",get:function(){return U}},{key:"schema",get:function(){return L(L({},Z(K(i.prototype),"schema",this)),{},{selectable:!1})}}])&&G(n.prototype,e),r&&G(n,r),i}(o.l),J=e(194);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function tt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,n){return(nt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function et(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=ot(t);if(n){var o=ot(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return rt(this,e)}}function rt(t,n){return!n||"object"!==H(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function ot(t){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var it=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&nt(t,n)}(i,t);var n,e,r,o=et(i);function i(){return $(this,i),o.apply(this,arguments)}return n=i,(e=[{key:"keys",value:function(){var t=this;return{Tab:function(n){return Object(J.c)("\t")(n,t.editor.view.dispatch,t.editor.view),!0}}}},{key:"name",get:function(){return"doc"}},{key:"schema",get:function(){return{content:"block"}}}])&&tt(n.prototype,e),r&&tt(n,r),i}(r.g),at=e(190);function st(t){return(st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function lt(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,n){return(dt=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function pt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=ht(t);if(n){var o=ht(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return ut(this,e)}}function ut(t,n){return!n||"object"!==st(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */var At=0,ft=1,Ct=function(t,n){return Object(at.findParentNode)((function(n){return n.type===t.nodes.list_item}))(n)},mt=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&dt(t,n)}(a,t);var n,e,o,i=pt(a);function a(){return ct(this,a),i.apply(this,arguments)}return n=a,(e=[{key:"commands",value:function(t){var n=t.type,e=t.schema;return{bullet_list_item:function(){return function(t,r,o){return Object(J.q)(e.nodes.bullet_list,n)(t,r,o)}},todo_item:function(){return function(t,e,r){var o=t.schema,i=t.selection,a=i.$from,s=i.$to,c=a.blockRange(s),l=t.tr,d=Ct(o,i);if(void 0===d&&(Object(J.q)(o.nodes.bullet_list,n)(t,(function(t){l=t}),r),d=Ct(o,l.selection)),!c||void 0===d)return!1;l.setNodeMarkup(d.pos,o.nodes.list_item,{type:d.node.attrs.type===ft?At:ft}),l.scrollIntoView(),e&&e(l)}}}}},{key:"defaultOptions",get:function(){return{nested:!0}}},{key:"schema",get:function(){return{attrs:{done:{default:!1},type:{default:At}},draggable:!1,content:"paragraph block*",toDOM:function(t){if(t.attrs.type===At)return["li",0];var n={class:"checkbox-item"},e={type:"checkbox",class:"",contenteditable:!1};return t.attrs.done&&(e.checked=!0,n.class+=" checked"),["li",n,["input",e],["label",0]]},parseDOM:[{priority:100,tag:"li",getAttrs:function(t){var n=t.querySelector("input[type=checkbox]");return{done:n&&n.checked,type:n?ft:At}}}],toMarkdown:function(t,n){n.attrs.type===ft&&t.write("[".concat(n.attrs.done?"x":" ","] ")),t.renderContent(n)}}}},{key:"plugins",get:function(){return[new r.h({props:{handleClick:function(t,n,e){var r=t.state,o=r.schema,i=t.posAtCoords({left:e.clientX,top:e.clientY}),a=r.doc.resolve(i.pos),s=Object(at.findParentNodeClosestToPos)(a,(function(t){return t.type===o.nodes.list_item})),c="li"===e.target.tagName.toLowerCase();if(void 0!==s&&s.node.attrs.type===ft&&c){var l=r.tr;l.setNodeMarkup(s.pos,o.nodes.list_item,{done:!s.node.attrs.done,type:ft}),t.dispatch(l)}}}})]}}])&&lt(n.prototype,e),o&&lt(n,o),a}(o.o),bt=e(346),vt=e.n(bt),gt=e(615),yt=e.n(gt),Bt=e(187),xt=(e(616),e(618));function kt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return e}(t,n)||jt(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wt(t){return function(t){if(Array.isArray(t))return Pt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||jt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(t,n){if(t){if("string"==typeof t)return Pt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Pt(t,n):void 0}}function Pt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Et(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function Mt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Et(Object(e),!0).forEach((function(n){St(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Et(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function St(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function _t(t,n,e,r,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void e(t)}s.done?n(c):Promise.resolve(c).then(r,o)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var Ot=function(){var t,n=(t=regeneratorRuntime.mark((function t(n){var r,o,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=[n],o={},i=0;case 3:if(!(i<r.length)){t.next=17;break}return t.prev=4,t.next=7,e(619)("./"+r[i]);case 7:a=t.sent,o[r[i]]=a.default,t.next=14;break;case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",void 0);case 14:i++,t.next=3;break;case 17:if(0!==Object.keys(o).length||o.constructor!==Object){t.next=19;break}return t.abrupt("return",void 0);case 19:return t.abrupt("return",{languages:o});case 20:case"end":return t.stop()}}),t,null,[[4,11]])})),function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function a(t){_t(i,r,o,a,s,"next",t)}function s(t){_t(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(t){return n.apply(this,arguments)}}(),Dt=function(t){var n=t.content,e=t.onInit,i=t.onUpdate,a=t.extensions,s=t.enableRichEditing,c=t.languages,l=[];return l=s?[new o.i,new o.d,new k,new w,new j,new o.h,new o.k,new o.c,new o.p,new o.a,new o.e,new mt,new P({openOnClick:!0}),new Q,new o.q({emptyNodeClass:"is-empty",emptyNodeText:Object(Bt.translate)("text","Add notes, lists or links …"),showOnlyWhenEditable:!0})]:[new it,new r.j,new o.f(Mt({},c))],a=a||[],new r.a({content:n,onInit:e,onUpdate:i,extensions:[].concat(wt(l),[new o.j]).concat(a),useBuiltInExtensions:s})},It=vt()("commonmark",{html:!1,breaks:!1}).enable("strikethrough").use(yt.a,{enable:!0,labelAfter:!0}),Rt=function(t){this.message=t},zt=function(t,n){var e=Object.entries(t).filter((function(t){return kt(t,2)[1].toMarkdown})).reduce((function(t,n){var e=kt(n,2),r=e[0],o=e[1].toMarkdown;return Mt(Mt({},t),{},St({},r,o))}),{}),r=Object.entries(n).filter((function(t){return kt(t,2)[1].toMarkdown})).reduce((function(t,n){var e=kt(n,2),r=e[0],o=e[1].toMarkdown;return Mt(Mt({},t),{},St({},r,o))}),{});return{serializer:new xt.a(Mt(Mt({},xt.b.nodes),e),Mt(Mt({},xt.b.marks),r)),serialize:function(t,n){return this.serializer.serialize(t,Mt(Mt({},n),{},{tightLists:!0})).split("\\[").join("[").split("\\]").join("]")}}},Tt=function(t){var n=t.getJSON();if(1!==n.content.length||void 0===n.content[0].content||1!==n.content[0].content.length){if("code_block"===n.content[0].type&&void 0===n.content[0].content)return"";throw new Rt("Failed to serialize document to plain text")}var e=n.content[0].content[0];if("text"!==e.type)throw new Rt("Failed to serialize document to plain text");return e.text}},552:function(t,n,e){var r={"./af":218,"./af.js":218,"./ar":219,"./ar-dz":220,"./ar-dz.js":220,"./ar-kw":221,"./ar-kw.js":221,"./ar-ly":222,"./ar-ly.js":222,"./ar-ma":223,"./ar-ma.js":223,"./ar-sa":224,"./ar-sa.js":224,"./ar-tn":225,"./ar-tn.js":225,"./ar.js":219,"./az":226,"./az.js":226,"./be":227,"./be.js":227,"./bg":228,"./bg.js":228,"./bm":229,"./bm.js":229,"./bn":230,"./bn.js":230,"./bo":231,"./bo.js":231,"./br":232,"./br.js":232,"./bs":233,"./bs.js":233,"./ca":234,"./ca.js":234,"./cs":235,"./cs.js":235,"./cv":236,"./cv.js":236,"./cy":237,"./cy.js":237,"./da":238,"./da.js":238,"./de":239,"./de-at":240,"./de-at.js":240,"./de-ch":241,"./de-ch.js":241,"./de.js":239,"./dv":242,"./dv.js":242,"./el":243,"./el.js":243,"./en-SG":244,"./en-SG.js":244,"./en-au":245,"./en-au.js":245,"./en-ca":246,"./en-ca.js":246,"./en-gb":247,"./en-gb.js":247,"./en-ie":248,"./en-ie.js":248,"./en-il":249,"./en-il.js":249,"./en-nz":250,"./en-nz.js":250,"./eo":251,"./eo.js":251,"./es":252,"./es-do":253,"./es-do.js":253,"./es-us":254,"./es-us.js":254,"./es.js":252,"./et":255,"./et.js":255,"./eu":256,"./eu.js":256,"./fa":257,"./fa.js":257,"./fi":258,"./fi.js":258,"./fo":259,"./fo.js":259,"./fr":260,"./fr-ca":261,"./fr-ca.js":261,"./fr-ch":262,"./fr-ch.js":262,"./fr.js":260,"./fy":263,"./fy.js":263,"./ga":264,"./ga.js":264,"./gd":265,"./gd.js":265,"./gl":266,"./gl.js":266,"./gom-latn":267,"./gom-latn.js":267,"./gu":268,"./gu.js":268,"./he":269,"./he.js":269,"./hi":270,"./hi.js":270,"./hr":271,"./hr.js":271,"./hu":272,"./hu.js":272,"./hy-am":273,"./hy-am.js":273,"./id":274,"./id.js":274,"./is":275,"./is.js":275,"./it":276,"./it-ch":277,"./it-ch.js":277,"./it.js":276,"./ja":278,"./ja.js":278,"./jv":279,"./jv.js":279,"./ka":280,"./ka.js":280,"./kk":281,"./kk.js":281,"./km":282,"./km.js":282,"./kn":283,"./kn.js":283,"./ko":284,"./ko.js":284,"./ku":285,"./ku.js":285,"./ky":286,"./ky.js":286,"./lb":287,"./lb.js":287,"./lo":288,"./lo.js":288,"./lt":289,"./lt.js":289,"./lv":290,"./lv.js":290,"./me":291,"./me.js":291,"./mi":292,"./mi.js":292,"./mk":293,"./mk.js":293,"./ml":294,"./ml.js":294,"./mn":295,"./mn.js":295,"./mr":296,"./mr.js":296,"./ms":297,"./ms-my":298,"./ms-my.js":298,"./ms.js":297,"./mt":299,"./mt.js":299,"./my":300,"./my.js":300,"./nb":301,"./nb.js":301,"./ne":302,"./ne.js":302,"./nl":303,"./nl-be":304,"./nl-be.js":304,"./nl.js":303,"./nn":305,"./nn.js":305,"./pa-in":306,"./pa-in.js":306,"./pl":307,"./pl.js":307,"./pt":308,"./pt-br":309,"./pt-br.js":309,"./pt.js":308,"./ro":310,"./ro.js":310,"./ru":311,"./ru.js":311,"./sd":312,"./sd.js":312,"./se":313,"./se.js":313,"./si":314,"./si.js":314,"./sk":315,"./sk.js":315,"./sl":316,"./sl.js":316,"./sq":317,"./sq.js":317,"./sr":318,"./sr-cyrl":319,"./sr-cyrl.js":319,"./sr.js":318,"./ss":320,"./ss.js":320,"./sv":321,"./sv.js":321,"./sw":322,"./sw.js":322,"./ta":323,"./ta.js":323,"./te":324,"./te.js":324,"./tet":325,"./tet.js":325,"./tg":326,"./tg.js":326,"./th":327,"./th.js":327,"./tl-ph":328,"./tl-ph.js":328,"./tlh":329,"./tlh.js":329,"./tr":330,"./tr.js":330,"./tzl":331,"./tzl.js":331,"./tzm":332,"./tzm-latn":333,"./tzm-latn.js":333,"./tzm.js":332,"./ug-cn":334,"./ug-cn.js":334,"./uk":335,"./uk.js":335,"./ur":336,"./ur.js":336,"./uz":337,"./uz-latn":338,"./uz-latn.js":338,"./uz.js":337,"./vi":339,"./vi.js":339,"./x-pseudo":340,"./x-pseudo.js":340,"./yo":341,"./yo.js":341,"./zh-cn":342,"./zh-cn.js":342,"./zh-hk":343,"./zh-hk.js":343,"./zh-tw":344,"./zh-tw.js":344};function o(t){var n=i(t);return e(n)}function i(t){if(!e.o(r,t)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=552},560:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i)()(o.a);a.push([t.i,".image[data-v-efec1cb6]{margin:0;padding:0}.image__caption[data-v-efec1cb6]{text-align:center;color:var(--color-text-lighter)}.image__caption input[type='text'][data-v-efec1cb6]{width:100%;border:none;text-align:center}.icon-image[data-v-efec1cb6]{margin-top:10px;height:32px;padding:20px;background-size:contain}.image__loading[data-v-efec1cb6]{height:100px}.image__view[data-v-efec1cb6]{text-align:center}.image__view .image__main[data-v-efec1cb6]{max-height:40vh}.image__placeholder a[data-v-efec1cb6]{display:flex}.image__placeholder .image__main[data-v-efec1cb6]{background-color:var(--color-background-dark);text-align:center;padding:5px;border-radius:var(--border-radius)}.image__placeholder .image__main .icon-image[data-v-efec1cb6]{margin:0}.image__placeholder .image__main p[data-v-efec1cb6]{padding:10px}.fade-enter-active[data-v-efec1cb6]{transition:opacity .3s ease-in-out}.fade-enter-to[data-v-efec1cb6]{opacity:1}.fade-enter[data-v-efec1cb6]{opacity:0}\n","",{version:3,sources:["webpack://./src/nodes/ImageView.vue"],names:[],mappings:"AAoMA,wBACC,QAAS,CACT,SAAU,CACV,iCAGA,iBAAkB,CAClB,+BAAgC,CAFjC,oDAIE,UAAW,CACX,WAAY,CACZ,iBAAkB,CAClB,6BAID,eAAgB,CAChB,WAAY,CACZ,YAAa,CACb,uBAAwB,CACxB,iCAGA,YAAa,CACb,8BAGA,iBAAkB,CADnB,2CAIE,eAAgB,CAChB,uCAKA,YAAa,CAFf,kDAKE,6CAA8C,CAC9C,iBAAkB,CAClB,WAAY,CACZ,kCAAmC,CARrC,8DAWG,QAAS,CAXZ,oDAeG,YAAa,CACb,oCAKF,kCAAmC,CACnC,gCAGA,SAAU,CACV,6BAGA,SAAU",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.image {\n\tmargin: 0;\n\tpadding: 0;\n}\n\n.image__caption {\n\ttext-align: center;\n\tcolor: var(--color-text-lighter);\n\tinput[type='text'] {\n\t\twidth: 100%;\n\t\tborder: none;\n\t\ttext-align: center;\n\t}\n}\n\n.icon-image {\n\tmargin-top: 10px;\n\theight: 32px;\n\tpadding: 20px;\n\tbackground-size: contain;\n}\n\n.image__loading {\n\theight: 100px;\n}\n\n.image__view {\n\ttext-align: center;\n\n\t.image__main {\n\t\tmax-height: 40vh;\n\t}\n}\n\n.image__placeholder {\n\ta {\n\t\tdisplay: flex;\n\t}\n\t.image__main {\n\t\tbackground-color: var(--color-background-dark);\n\t\ttext-align: center;\n\t\tpadding: 5px;\n\t\tborder-radius: var(--border-radius);\n\n\t\t.icon-image {\n\t\t\tmargin: 0;\n\t\t}\n\n\t\tp {\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n}\n\n.fade-enter-active {\n\ttransition: opacity .3s ease-in-out;\n}\n\n.fade-enter-to {\n\topacity: 1;\n}\n\n.fade-enter {\n\topacity: 0;\n}\n"],sourceRoot:""}]),n.a=a},619:function(t,n,e){var r={"./1c":[365,2],"./1c.js":[365,2],"./abnf":[366,3],"./abnf.js":[366,3],"./accesslog":[367,4],"./accesslog.js":[367,4],"./actionscript":[368,5],"./actionscript.js":[368,5],"./ada":[369,6],"./ada.js":[369,6],"./angelscript":[370,7],"./angelscript.js":[370,7],"./apache":[371,8],"./apache.js":[371,8],"./applescript":[372,9],"./applescript.js":[372,9],"./arcade":[373,10],"./arcade.js":[373,10],"./arduino":[374,11],"./arduino.js":[374,11],"./armasm":[375,12],"./armasm.js":[375,12],"./asciidoc":[376,13],"./asciidoc.js":[376,13],"./aspectj":[377,14],"./aspectj.js":[377,14],"./autohotkey":[378,15],"./autohotkey.js":[378,15],"./autoit":[379,16],"./autoit.js":[379,16],"./avrasm":[380,17],"./avrasm.js":[380,17],"./awk":[381,18],"./awk.js":[381,18],"./axapta":[382,19],"./axapta.js":[382,19],"./bash":[383,20],"./bash.js":[383,20],"./basic":[384,21],"./basic.js":[384,21],"./bnf":[385,22],"./bnf.js":[385,22],"./brainfuck":[386,23],"./brainfuck.js":[386,23],"./cal":[387,24],"./cal.js":[387,24],"./capnproto":[388,25],"./capnproto.js":[388,25],"./ceylon":[389,26],"./ceylon.js":[389,26],"./clean":[390,27],"./clean.js":[390,27],"./clojure":[392,28],"./clojure-repl":[391,29],"./clojure-repl.js":[391,29],"./clojure.js":[392,28],"./cmake":[393,30],"./cmake.js":[393,30],"./coffeescript":[394,31],"./coffeescript.js":[394,31],"./coq":[395,32],"./coq.js":[395,32],"./cos":[396,33],"./cos.js":[396,33],"./cpp":[397,34],"./cpp.js":[397,34],"./crmsh":[398,35],"./crmsh.js":[398,35],"./crystal":[399,36],"./crystal.js":[399,36],"./cs":[400,37],"./cs.js":[400,37],"./csp":[401,38],"./csp.js":[401,38],"./css":[402,39],"./css.js":[402,39],"./d":[403,40],"./d.js":[403,40],"./dart":[404,41],"./dart.js":[404,41],"./delphi":[405,42],"./delphi.js":[405,42],"./diff":[406,43],"./diff.js":[406,43],"./django":[407,44],"./django.js":[407,44],"./dns":[408,45],"./dns.js":[408,45],"./dockerfile":[409,46],"./dockerfile.js":[409,46],"./dos":[410,47],"./dos.js":[410,47],"./dsconfig":[411,48],"./dsconfig.js":[411,48],"./dts":[412,49],"./dts.js":[412,49],"./dust":[413,50],"./dust.js":[413,50],"./ebnf":[414,51],"./ebnf.js":[414,51],"./elixir":[415,52],"./elixir.js":[415,52],"./elm":[416,53],"./elm.js":[416,53],"./erb":[417,54],"./erb.js":[417,54],"./erlang":[419,55],"./erlang-repl":[418,56],"./erlang-repl.js":[418,56],"./erlang.js":[419,55],"./excel":[420,57],"./excel.js":[420,57],"./fix":[421,58],"./fix.js":[421,58],"./flix":[422,59],"./flix.js":[422,59],"./fortran":[423,60],"./fortran.js":[423,60],"./fsharp":[424,61],"./fsharp.js":[424,61],"./gams":[425,62],"./gams.js":[425,62],"./gauss":[426,63],"./gauss.js":[426,63],"./gcode":[427,64],"./gcode.js":[427,64],"./gherkin":[428,65],"./gherkin.js":[428,65],"./glsl":[429,66],"./glsl.js":[429,66],"./gml":[430,67],"./gml.js":[430,67],"./go":[431,68],"./go.js":[431,68],"./golo":[432,69],"./golo.js":[432,69],"./gradle":[433,70],"./gradle.js":[433,70],"./groovy":[434,71],"./groovy.js":[434,71],"./haml":[435,72],"./haml.js":[435,72],"./handlebars":[436,73],"./handlebars.js":[436,73],"./haskell":[437,74],"./haskell.js":[437,74],"./haxe":[438,75],"./haxe.js":[438,75],"./hsp":[439,76],"./hsp.js":[439,76],"./htmlbars":[440,77],"./htmlbars.js":[440,77],"./http":[441,78],"./http.js":[441,78],"./hy":[442,79],"./hy.js":[442,79],"./inform7":[443,80],"./inform7.js":[443,80],"./ini":[444,81],"./ini.js":[444,81],"./irpf90":[445,82],"./irpf90.js":[445,82],"./isbl":[446,83],"./isbl.js":[446,83],"./java":[447,84],"./java.js":[447,84],"./javascript":[448,85],"./javascript.js":[448,85],"./jboss-cli":[449,86],"./jboss-cli.js":[449,86],"./json":[450,87],"./json.js":[450,87],"./julia":[452,88],"./julia-repl":[451,89],"./julia-repl.js":[451,89],"./julia.js":[452,88],"./kotlin":[453,90],"./kotlin.js":[453,90],"./lasso":[454,91],"./lasso.js":[454,91],"./ldif":[455,92],"./ldif.js":[455,92],"./leaf":[456,93],"./leaf.js":[456,93],"./less":[457,94],"./less.js":[457,94],"./lisp":[458,95],"./lisp.js":[458,95],"./livecodeserver":[459,96],"./livecodeserver.js":[459,96],"./livescript":[460,97],"./livescript.js":[460,97],"./llvm":[461,98],"./llvm.js":[461,98],"./lsl":[462,99],"./lsl.js":[462,99],"./lua":[463,100],"./lua.js":[463,100],"./makefile":[464,101],"./makefile.js":[464,101],"./markdown":[465,102],"./markdown.js":[465,102],"./mathematica":[466,103],"./mathematica.js":[466,103],"./matlab":[467,104],"./matlab.js":[467,104],"./maxima":[468,105],"./maxima.js":[468,105],"./mel":[469,106],"./mel.js":[469,106],"./mercury":[470,107],"./mercury.js":[470,107],"./mipsasm":[471,108],"./mipsasm.js":[471,108],"./mizar":[472,109],"./mizar.js":[472,109],"./mojolicious":[473,110],"./mojolicious.js":[473,110],"./monkey":[474,111],"./monkey.js":[474,111],"./moonscript":[475,112],"./moonscript.js":[475,112],"./n1ql":[476,113],"./n1ql.js":[476,113],"./nginx":[477,114],"./nginx.js":[477,114],"./nimrod":[478,115],"./nimrod.js":[478,115],"./nix":[479,116],"./nix.js":[479,116],"./nsis":[480,117],"./nsis.js":[480,117],"./objectivec":[481,118],"./objectivec.js":[481,118],"./ocaml":[482,119],"./ocaml.js":[482,119],"./openscad":[483,120],"./openscad.js":[483,120],"./oxygene":[484,121],"./oxygene.js":[484,121],"./parser3":[485,122],"./parser3.js":[485,122],"./perl":[486,123],"./perl.js":[486,123],"./pf":[487,124],"./pf.js":[487,124],"./pgsql":[488,125],"./pgsql.js":[488,125],"./php":[489,126],"./php.js":[489,126],"./plaintext":[490,127],"./plaintext.js":[490,127],"./pony":[491,128],"./pony.js":[491,128],"./powershell":[492,129],"./powershell.js":[492,129],"./processing":[493,130],"./processing.js":[493,130],"./profile":[494,131],"./profile.js":[494,131],"./prolog":[495,132],"./prolog.js":[495,132],"./properties":[496,133],"./properties.js":[496,133],"./protobuf":[497,134],"./protobuf.js":[497,134],"./puppet":[498,135],"./puppet.js":[498,135],"./purebasic":[499,136],"./purebasic.js":[499,136],"./python":[500,137],"./python.js":[500,137],"./q":[501,138],"./q.js":[501,138],"./qml":[502,139],"./qml.js":[502,139],"./r":[503,140],"./r.js":[503,140],"./reasonml":[504,141],"./reasonml.js":[504,141],"./rib":[505,142],"./rib.js":[505,142],"./roboconf":[506,143],"./roboconf.js":[506,143],"./routeros":[507,144],"./routeros.js":[507,144],"./rsl":[508,145],"./rsl.js":[508,145],"./ruby":[509,146],"./ruby.js":[509,146],"./ruleslanguage":[510,147],"./ruleslanguage.js":[510,147],"./rust":[511,148],"./rust.js":[511,148],"./sas":[512,149],"./sas.js":[512,149],"./scala":[513,150],"./scala.js":[513,150],"./scheme":[514,151],"./scheme.js":[514,151],"./scilab":[515,152],"./scilab.js":[515,152],"./scss":[516,153],"./scss.js":[516,153],"./shell":[517,154],"./shell.js":[517,154],"./smali":[518,155],"./smali.js":[518,155],"./smalltalk":[519,156],"./smalltalk.js":[519,156],"./sml":[520,157],"./sml.js":[520,157],"./sqf":[521,158],"./sqf.js":[521,158],"./sql":[522,159],"./sql.js":[522,159],"./stan":[523,160],"./stan.js":[523,160],"./stata":[524,161],"./stata.js":[524,161],"./step21":[525,162],"./step21.js":[525,162],"./stylus":[526,163],"./stylus.js":[526,163],"./subunit":[527,164],"./subunit.js":[527,164],"./swift":[528,165],"./swift.js":[528,165],"./taggerscript":[529,166],"./taggerscript.js":[529,166],"./tap":[530,167],"./tap.js":[530,167],"./tcl":[531,168],"./tcl.js":[531,168],"./tex":[532,169],"./tex.js":[532,169],"./thrift":[533,170],"./thrift.js":[533,170],"./tp":[534,171],"./tp.js":[534,171],"./twig":[535,172],"./twig.js":[535,172],"./typescript":[536,173],"./typescript.js":[536,173],"./vala":[537,174],"./vala.js":[537,174],"./vbnet":[538,175],"./vbnet.js":[538,175],"./vbscript":[540,176],"./vbscript-html":[539,177],"./vbscript-html.js":[539,177],"./vbscript.js":[540,176],"./verilog":[541,178],"./verilog.js":[541,178],"./vhdl":[542,179],"./vhdl.js":[542,179],"./vim":[543,180],"./vim.js":[543,180],"./x86asm":[544,181],"./x86asm.js":[544,181],"./xl":[545,182],"./xl.js":[545,182],"./xml":[546,183],"./xml.js":[546,183],"./xquery":[547,184],"./xquery.js":[547,184],"./yaml":[548,185],"./yaml.js":[548,185],"./zephir":[549,186],"./zephir.js":[549,186]};function o(t){if(!e.o(r,t))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[t],o=n[0];return e.e(n[1]).then((function(){return e.t(o,7)}))}o.keys=function(){return Object.keys(r)},o.id=619,t.exports=o},622:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i)()(o.a);a.push([t.i,"#editor-container[data-v-2e6d8ab0]{display:block;width:100%;max-width:100%;height:100%;left:0;top:50px;margin:0 auto;position:relative;background-color:var(--color-main-background)}#editor-wrapper[data-v-2e6d8ab0]{display:flex;width:100%;height:100%;overflow:hidden;position:absolute}#editor-wrapper .ProseMirror[data-v-2e6d8ab0]{margin-top:0 !important}#editor-wrapper.icon-loading #editor[data-v-2e6d8ab0]{opacity:0.3}#editor[data-v-2e6d8ab0],.editor[data-v-2e6d8ab0]{background:var(--color-main-background);color:var(--color-main-text);background-clip:padding-box;border-radius:var(--border-radius);padding:0;position:relative;overflow-y:auto;overflow-x:hidden;width:100%}.document-status .msg[data-v-2e6d8ab0]{padding:12px;padding-left:30px;border-bottom:1px solid var(--color-border);background-position:8px center}.save-status[data-v-2e6d8ab0]{padding:9px;text-overflow:ellipsis;color:var(--color-text-lighter)}.save-status.error[data-v-2e6d8ab0]{background-color:var(--color-error);color:var(--color-main-background);border-radius:3px}#editor-container #editor-wrapper.has-conflicts[data-v-2e6d8ab0]{height:calc(100% - 50px)}#editor-container #editor-wrapper.has-conflicts #editor[data-v-2e6d8ab0],#editor-container #editor-wrapper.has-conflicts #read-only-editor[data-v-2e6d8ab0]{width:50%;height:100%}#editor-session-list[data-v-2e6d8ab0]{padding:4px 16px 4px 4px;display:flex}#editor-session-list input[data-v-2e6d8ab0],#editor-session-list div[data-v-2e6d8ab0]{vertical-align:middle;margin-left:3px}.editor__content[data-v-2e6d8ab0]{max-width:670px;margin:auto;position:relative}#body-public[data-v-2e6d8ab0]{height:auto}#files-public-content[data-v-2e6d8ab0]{height:auto}#files-public-content #editor-wrapper[data-v-2e6d8ab0]{position:relative}#files-public-content #editor-container[data-v-2e6d8ab0]{top:0;width:100%}#files-public-content #editor-container #editor[data-v-2e6d8ab0] .menubar{position:fixed;top:50px;width:100%}#files-public-content #editor-container #editor[data-v-2e6d8ab0]{padding-top:50px;overflow:auto;z-index:1000}#files-public-content #editor-container .has-conflicts #editor[data-v-2e6d8ab0]{padding-top:0px}.ie #editor[data-v-2e6d8ab0] .menubar{position:fixed;top:50px;width:100%}.ie .editor__content[data-v-2e6d8ab0] .ProseMirror{padding-top:50px}\n","",{version:3,sources:["webpack://./src/components/EditorWrapper.vue"],names:[],mappings:"AAoeA,mCACC,aAAc,CACd,UAAW,CACX,cAAe,CACf,WAAY,CACZ,MAAO,CACP,QAAS,CACT,aAAc,CACd,iBAAkB,CAClB,6CAA8C,CAC9C,iCAGA,YAAa,CACb,UAAW,CACX,WAAY,CACZ,eAAgB,CAChB,iBAAkB,CALnB,8CAOE,uBAAwB,CAP1B,sDAWG,WAAY,CACZ,kDAKF,uCAAwC,CACxC,4BAA6B,CAC7B,2BAA4B,CAC5B,kCAAmC,CACnC,SAAU,CACV,iBAAkB,CAClB,eAAgB,CAChB,iBAAkB,CAClB,UAAW,CACX,uCAGA,YAAa,CACb,iBAAkB,CAClB,2CAA4C,CAC5C,8BAA+B,CAC/B,8BAGA,WAAY,CACZ,sBAAuB,CACvB,+BAAgC,CAHjC,oCAME,mCAAoC,CACpC,kCAAmC,CACnC,iBAAkB,CAClB,iEAID,wBAAyB,CAD1B,4JAIE,SAAU,CACV,WAAY,CACZ,sCAID,wBAAyB,CACzB,YAAa,CAFd,sFAKE,qBAAsB,CACtB,eAAgB,CAChB,kCAID,eAAgB,CAChB,WAAY,CACZ,iBAAkB,CAClB,8BAGA,WAAY,CACZ,uCAGA,WAAY,CADb,uDAGE,iBAAkB,CAHpB,yDAME,KAAM,CACN,UAAW,CAPb,0EAWG,cAAe,CACf,QAAS,CACT,UAAW,CAbd,iEAiBG,gBAAiB,CACjB,aAAc,CAEd,YAAa,CApBhB,gFAuBG,eAAgB,CAChB,sCAOD,cAAe,CACf,QAAS,CACT,UAAW,CALb,mDAQE,gBAAiB",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#editor-container {\n\tdisplay: block;\n\twidth: 100%;\n\tmax-width: 100%;\n\theight: 100%;\n\tleft: 0;\n\ttop: 50px;\n\tmargin: 0 auto;\n\tposition: relative;\n\tbackground-color: var(--color-main-background);\n}\n\n#editor-wrapper {\n\tdisplay: flex;\n\twidth: 100%;\n\theight: 100%;\n\toverflow: hidden;\n\tposition: absolute;\n\t.ProseMirror {\n\t\tmargin-top: 0 !important;\n\t}\n\t&.icon-loading {\n\t\t#editor {\n\t\t\topacity: 0.3;\n\t\t}\n\t}\n}\n\n#editor, .editor {\n\tbackground: var(--color-main-background);\n\tcolor: var(--color-main-text);\n\tbackground-clip: padding-box;\n\tborder-radius: var(--border-radius);\n\tpadding: 0;\n\tposition: relative;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n\twidth: 100%;\n}\n\n.document-status .msg {\n\tpadding: 12px;\n\tpadding-left: 30px;\n\tborder-bottom: 1px solid var(--color-border);\n\tbackground-position: 8px center;\n}\n\n.save-status {\n\tpadding: 9px;\n\ttext-overflow: ellipsis;\n\tcolor: var(--color-text-lighter);\n\n\t&.error {\n\t\tbackground-color: var(--color-error);\n\t\tcolor: var(--color-main-background);\n\t\tborder-radius: 3px;\n\t}\n}\n\n#editor-container #editor-wrapper.has-conflicts {\n\theight: calc(100% - 50px);\n\n\t#editor, #read-only-editor {\n\t\twidth: 50%;\n\t\theight: 100%;\n\t}\n}\n\n#editor-session-list {\n\tpadding: 4px 16px 4px 4px;\n\tdisplay: flex;\n\n\tinput, div {\n\t\tvertical-align: middle;\n\t\tmargin-left: 3px;\n\t}\n}\n\n.editor__content {\n\tmax-width: 670px;\n\tmargin: auto;\n\tposition: relative;\n}\n\n#body-public {\n\theight: auto;\n}\n\n#files-public-content {\n\theight: auto;\n\t#editor-wrapper {\n\t\tposition: relative;\n\t}\n\t#editor-container {\n\t\ttop: 0;\n\t\twidth: 100%;\n\n\t\t#editor::v-deep .menubar {\n\t\t\t// sticky position is not working as body is our scroll container\n\t\t\tposition: fixed;\n\t\t\ttop: 50px;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t#editor {\n\t\t\tpadding-top: 50px;\n\t\t\toverflow: auto;\n\t\t\t// Fix for IE11 issue where the menubar sometimes was positioned under the text\n\t\t\tz-index: 1000;\n\t\t}\n\t\t.has-conflicts #editor {\n\t\t\tpadding-top: 0px;\n\t\t}\n\t}\n}\n\n.ie {\n\t#editor::v-deep .menubar {\n\t\t// sticky position is not working as body is our scroll container\n\t\tposition: fixed;\n\t\ttop: 50px;\n\t\twidth: 100%;\n\t}\n\t.editor__content::v-deep .ProseMirror {\n\t\tpadding-top: 50px;\n\t}\n}\n\n"],sourceRoot:""}]),n.a=a},623:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i),s=e(200),c=e.n(s),l=e(201),d=a()(o.a),p=c()(l.a);d.push([t.i,'.modal-container #editor-container{position:absolute}.ProseMirror-hideselection *::selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection *::-moz-selection{background:transparent;color:var(--color-main-text)}.ProseMirror-hideselection{caret-color:transparent;color:var(--color-main-text)}.ProseMirror-selectednode{outline:2px solid #8cf}li.ProseMirror-selectednode{outline:none}li.ProseMirror-selectednode:after{content:"";position:absolute;left:-32px;right:-2px;top:-2px;bottom:-2px;border:2px solid #8cf;pointer-events:none}.has-conflicts .ProseMirror-menubar,#editor-wrapper.icon-loading .ProseMirror-menubar{display:none}.ProseMirror-gapcursor{display:none;pointer-events:none;position:absolute}.ProseMirror-gapcursor:after{content:"";display:block;position:absolute;top:-2px;width:20px;border-top:1px solid var(--color-main-text);animation:ProseMirror-cursor-blink 1.1s steps(2, start) infinite}@keyframes ProseMirror-cursor-blink{to{visibility:hidden}}#editor-wrapper div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#editor-wrapper div.ProseMirror[contenteditable=true],#editor-wrapper div.ProseMirror[contenteditable=false],#editor-wrapper div.ProseMirror [contenteditable=true],#editor-wrapper div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#editor-wrapper div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}#editor-wrapper div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#editor-wrapper div.ProseMirror .checkbox-item:before{content:\'\';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:"";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#editor-wrapper div.ProseMirror .checkbox-item.checked:before{background-image:url('+p+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#editor-wrapper div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#editor-wrapper div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}#editor-wrapper div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}#editor-wrapper div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}#editor-wrapper div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}#editor-wrapper div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}#editor-wrapper div.ProseMirror p:first-child,#editor-wrapper div.ProseMirror h1:first-child,#editor-wrapper div.ProseMirror h2:first-child,#editor-wrapper div.ProseMirror h3:first-child,#editor-wrapper div.ProseMirror h4:first-child,#editor-wrapper div.ProseMirror h5:first-child,#editor-wrapper div.ProseMirror h6:first-child{margin-top:10px}#editor-wrapper div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#editor-wrapper div.ProseMirror p{margin-bottom:1em;line-height:150%}#editor-wrapper div.ProseMirror em{font-style:italic}#editor-wrapper div.ProseMirror h1,#editor-wrapper div.ProseMirror h2,#editor-wrapper div.ProseMirror h3,#editor-wrapper div.ProseMirror h4,#editor-wrapper div.ProseMirror h5,#editor-wrapper div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#editor-wrapper div.ProseMirror h1{font-size:36px;margin-top:48px}#editor-wrapper div.ProseMirror h2{font-size:28px;margin-top:48px}#editor-wrapper div.ProseMirror h3{font-size:24px}#editor-wrapper div.ProseMirror h4{font-size:21px}#editor-wrapper div.ProseMirror h5{font-size:17px}#editor-wrapper div.ProseMirror h6{font-size:14px}#editor-wrapper div.ProseMirror img{cursor:default;max-width:100%}#editor-wrapper div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}#editor-wrapper div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#editor-wrapper div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#editor-wrapper div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#editor-wrapper div.ProseMirror li{position:relative}#editor-wrapper div.ProseMirror ul,#editor-wrapper div.ProseMirror ol{padding-left:10px;margin-left:10px}#editor-wrapper div.ProseMirror ul li{list-style-type:disc}#editor-wrapper div.ProseMirror ul>li>ul>li{list-style-type:circle}#editor-wrapper div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#editor-wrapper div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#editor-wrapper .ProseMirror-focused .ProseMirror-gapcursor{display:block}#editor-wrapper .editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}#editor-wrapper:not(.richEditor) .ProseMirror pre{background-color:var(--color-main-background)}#editor-wrapper:not(.richEditor) .ProseMirror pre::before{content:attr(data-language);text-transform:uppercase;display:block;text-align:right;font-weight:bold;font-size:0.6rem}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-comment,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-quote{color:#999999}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-template-variable,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-attribute,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-tag,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-regexp,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-link,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-id,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-class{color:#f2777a}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-number,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-meta,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-built_in,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-builtin-name,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-literal,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-type,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-params{color:#f99157}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-string,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-symbol,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-bullet{color:#99cc99}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-title,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-section{color:#ffcc66}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-keyword,#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-selector-tag{color:#6699cc}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-emphasis{font-style:italic}#editor-wrapper:not(.richEditor) .ProseMirror pre code .hljs-strong{font-weight:700}\n',"",{version:3,sources:["webpack://./css/style.scss","webpack://./src/components/EditorWrapper.vue","webpack://./css/prosemirror.scss"],names:[],mappings:"AAAA,mCACE,iBAAkB,CACnB,wCAEyC,sBAAuB,CAAE,4BAA6B,CAAI,6CACrD,sBAAuB,CAAE,4BAA6B,CAAI,2BAC5E,uBAAwB,CAAE,4BAA6B,CAAI,0BAGtF,sBAAuB,CACxB,4BAIC,YAAa,CACd,kCAGC,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,UAAW,CAAE,QAAS,CAAE,WAAY,CACpC,qBAAsB,CACtB,mBAAoB,CACrB,sFAKG,YAAa,CACd,uBAID,YAAa,CACb,mBAAoB,CACpB,iBAAkB,CACnB,6BAGC,UAAW,CACX,aAAc,CACd,iBAAkB,CAClB,QAAS,CACT,UAAW,CACX,2CAA4C,CAC5C,gEAAiE,CAClE,oCAGC,GACE,iBAAkB,CAAA,CCqjBtB,gCCtmBC,eAAgB,CAChB,WAAY,CACZ,iBAAkB,CAClB,oBAAqB,CACrB,oBAAqB,CACrB,mCAAoC,CACpC,2BAA4B,CAC5B,0BAA2B,CAC3B,gBAAiB,CACjB,cAAe,CACf,YAAa,CD4lBd,4NCtlBE,sBAAuB,CACvB,UAAW,CACX,4BAA6B,CAC7B,4BAA6B,CAC7B,SAAU,CACV,wBAAyB,CACzB,gBAAiB,CACjB,cAAe,CD+kBjB,+CC3kBE,YAAa,CACb,iBAAkB,CAElB,iBAAkB,CDwkBpB,oECrkBG,YAAa,CDqkBhB,sDClkBG,UAAW,CACX,oBAAqB,CACrB,WAAY,CACZ,UAAW,CACX,qBAAsB,CACtB,iBAAkB,CAClB,sBAAuB,CACvB,8CAA+C,CAC/C,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,aAAc,CACd,kCAAmC,CACnC,WAAY,CACZ,UAAW,CACX,0BAA2B,CAC3B,0BAA2B,CAC3B,cAAe,CDgjBlB,8DC7iBG,wDAAoD,CACpD,6CAA8C,CAC9C,yCAA0C,CD2iB7C,qDCxiBG,aAAc,CACd,WAAY,CACZ,2BAA4B,CDsiB/B,mECpiBI,YAAa,CDoiBjB,wDC9hBE,UAAW,CACX,YAAa,CACb,eAAgB,CAChB,iBAAkB,CD2hBpB,+DCxhBG,iBAAkB,CAClB,OAAQ,CDuhBX,6ECphBG,kBAAmB,CACnB,UAAW,CDmhBd,+EChhBI,eAAgB,CAChB,eAAgB,CAChB,mBAAoB,CD8gBxB,wUCngBE,eAAgB,CDmgBlB,kCC/fE,kCAAmC,CACnC,yBAA0B,CAC1B,cAAe,CD6fjB,kCCzfE,iBAAkB,CAClB,gBAAiB,CDwfnB,mCCpfE,iBAAkB,CDofpB,kNC3eE,eAAgB,CAChB,gBAAiB,CACjB,eAAgB,CAChB,kBAAmB,CACnB,4BAA6B,CDue/B,mCCneE,cAAe,CACf,eAAgB,CDkelB,mCC9dE,cAAe,CACf,eAAgB,CD6dlB,mCCzdE,cAAe,CDydjB,mCCrdE,cAAe,CDqdjB,mCCjdE,cAAe,CDidjB,mCC7cE,cAAe,CD6cjB,oCCzcE,cAAe,CACf,cAAe,CDwcjB,mCCpcE,aAAc,CACd,WAAY,CACZ,YAAa,CACb,UAAW,CDicb,yCC7bE,UAAW,CACX,aAAc,CACd,UAAW,CACX,yCAA0C,CAC1C,eAAgB,CDyblB,oCCrbE,eAAgB,CAChB,eAAgB,CAChB,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CAClB,iBAAkB,CDgbpB,uCC5aE,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CD0apB,mCCtaE,iBAAkB,CDsapB,sEClaE,iBAAkB,CAClB,gBAAiB,CDianB,sCC7ZE,oBAAqB,CD6ZvB,4CCxZE,sBAAuB,CDwZzB,kDCnZE,sBAAuB,CDmZzB,2CC/YE,gBAAiB,CACjB,kDAAmD,CACnD,mCAAoC,CACpC,aAAc,CACd,cAAe,CD2YjB,4DCrYC,aAAc,CDqYf,gECjYC,6BAA8B,CAC9B,UAAW,CACX,mCAAoC,CACpC,mBAAoB,CACpB,QAAS,CD6XV,kDAKG,6CAA8C,CALjD,0DAQI,2BAA4B,CAC5B,wBAAyB,CACzB,aAAc,CACd,gBAAiB,CACjB,gBAAiB,CACjB,gBAAiB,CAbrB,wIAkBK,aAAc,CAlBnB,0nBA6BK,aAAc,CA7BnB,ieAsCK,aAAc,CAtCnB,4MA2CK,aAAc,CA3CnB,wIA+CK,aAAc,CA/CnB,+IAmDK,aAAc,CAnDnB,sEAsDK,iBAAkB,CAtDvB,oEAyDK,eAAgB",sourcesContent:['.modal-container #editor-container {\n  position: absolute;\n}\n\n.ProseMirror-hideselection *::selection { background: transparent; color: var(--color-main-text); }\n.ProseMirror-hideselection *::-moz-selection { background: transparent; color: var(--color-main-text); }\n.ProseMirror-hideselection { caret-color: transparent; color: var(--color-main-text); }\n\n.ProseMirror-selectednode {\n  outline: 2px solid #8cf;\n}\n\n/* Make sure li selections wrap around markers */\nli.ProseMirror-selectednode {\n  outline: none;\n}\n\nli.ProseMirror-selectednode:after {\n  content: "";\n  position: absolute;\n  left: -32px;\n  right: -2px; top: -2px; bottom: -2px;\n  border: 2px solid #8cf;\n  pointer-events: none;\n}\n\n.has-conflicts,\n#editor-wrapper.icon-loading {\n  .ProseMirror-menubar {\n    display: none;\n  }\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid var(--color-main-text);\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n',"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import './../../css/style';\n\n#editor-wrapper {\n\t@import './../../css/prosemirror';\n\n\t&:not(.richEditor) .ProseMirror {\n\t\tpre {\n\t\t\tbackground-color: var(--color-main-background);\n\n\t\t\t&::before {\n\t\t\t\tcontent: attr(data-language);\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tdisplay: block;\n\t\t\t\ttext-align: right;\n\t\t\t\tfont-weight: bold;\n\t\t\t\tfont-size: 0.6rem;\n\t\t\t}\n\t\t\tcode {\n\t\t\t\t.hljs-comment,\n\t\t\t\t.hljs-quote {\n\t\t\t\t\tcolor: #999999;\n\t\t\t\t}\n\t\t\t\t.hljs-variable,\n\t\t\t\t.hljs-template-variable,\n\t\t\t\t.hljs-attribute,\n\t\t\t\t.hljs-tag,\n\t\t\t\t.hljs-name,\n\t\t\t\t.hljs-regexp,\n\t\t\t\t.hljs-link,\n\t\t\t\t.hljs-selector-id,\n\t\t\t\t.hljs-selector-class {\n\t\t\t\t\tcolor: #f2777a;\n\t\t\t\t}\n\t\t\t\t.hljs-number,\n\t\t\t\t.hljs-meta,\n\t\t\t\t.hljs-built_in,\n\t\t\t\t.hljs-builtin-name,\n\t\t\t\t.hljs-literal,\n\t\t\t\t.hljs-type,\n\t\t\t\t.hljs-params {\n\t\t\t\t\tcolor: #f99157;\n\t\t\t\t}\n\t\t\t\t.hljs-string,\n\t\t\t\t.hljs-symbol,\n\t\t\t\t.hljs-bullet {\n\t\t\t\t\tcolor: #99cc99;\n\t\t\t\t}\n\t\t\t\t.hljs-title,\n\t\t\t\t.hljs-section {\n\t\t\t\t\tcolor: #ffcc66;\n\t\t\t\t}\n\t\t\t\t.hljs-keyword,\n\t\t\t\t.hljs-selector-tag {\n\t\t\t\t\tcolor: #6699cc;\n\t\t\t\t}\n\t\t\t\t.hljs-emphasis {\n\t\t\t\t\tfont-style: italic;\n\t\t\t\t}\n\t\t\t\t.hljs-strong {\n\t\t\t\t\tfont-weight: 700;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/* Document rendering styles */\ndiv.ProseMirror {\n\tmargin-top: 44px;\n\theight: 100%;\n\tposition: relative;\n\tword-wrap: break-word;\n\twhite-space: pre-wrap;\n\t-webkit-font-variant-ligatures: none;\n\tfont-variant-ligatures: none;\n\tpadding: 4px 8px 200px 14px;\n\tline-height: 150%;\n\tfont-size: 14px;\n\toutline: none;\n\n\t&[contenteditable=true],\n\t&[contenteditable=false],\n\t[contenteditable=true],\n\t[contenteditable=false] {\n\t\tborder: none !important;\n\t\twidth: 100%;\n\t\tbackground-color: transparent;\n\t\tcolor: var(--color-main-text);\n\t\topacity: 1;\n\t\t-webkit-user-select: text;\n\t\tuser-select: text;\n\t\tfont-size: 14px;\n\t}\n\n\t.checkbox-item {\n\t\tdisplay: flex;\n\t\talign-items: start;\n\t\t// Left-align with list item text\n\t\tmargin-left: -24px;\n\n\t\tinput[type=checkbox] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: inline-block;\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tvertical-align: middle;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin: 2px 6px 3px 3px;\n\t\t\tborder: 1px solid var(--color-text-maxcontrast);\n\t\t\tcontent: \"\";\n\t\t\tposition: relative;\n\t\t\twidth: 44px;\n\t\t\theight: 44px;\n\t\t\tdisplay: block;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tbox-shadow: none !important;\n\t\t\tbackground-position: center;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t&.checked:before {\n\t\t\tbackground-image: url('../../img/checkbox-mark.svg');\n\t\t\tbackground-color: var(--color-primary-element);\n\t\t\tborder-color: var(--color-primary-element);\n\t\t}\n\t\tlabel {\n\t\t\tdisplay: block;\n\t\t\tflex-grow: 1;\n\t\t\tmax-width: calc(100% - 28px);\n\t\t\t> *:first-child {\n\t\t\t\tmargin-top: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tli label.checkbox-label {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 1em;\n\n\t\t&:before {\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t}\n\t\tdiv.checkbox-wrapper {\n\t\t\tmargin-bottom: -1em;\n\t\t\twidth: 100%;\n\n\t\t\t& > p {\n\t\t\t\tmargin-top: -1px;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\tpadding-bottom: 10px;\n\t\t\t}\n\t\t}\n\t}\n\tp:first-child,\n\th1:first-child,\n\th2:first-child,\n\th3:first-child,\n\th4:first-child,\n\th5:first-child,\n\th6:first-child {\n\t\tmargin-top: 10px;\n\t}\n\n\ta {\n\t\tcolor: var(--color-primary-element);\n\t\ttext-decoration: underline;\n\t\tpadding: .5em 0;\n\t}\n\n\tp {\n\t\tmargin-bottom: 1em;\n\t\tline-height: 150%;\n\t}\n\n\tem {\n\t\tfont-style: italic;\n\t}\n\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-weight: 600;\n\t\tline-height: 120%;\n\t\tmargin-top: 24px;\n\t\tmargin-bottom: 12px;\n\t\tcolor: var(--color-main-text);\n\t}\n\n\th1 {\n\t\tfont-size: 36px;\n\t\tmargin-top: 48px;\n\t}\n\n\th2 {\n\t\tfont-size: 28px;\n\t\tmargin-top: 48px;\n\t}\n\n\th3 {\n\t\tfont-size: 24px;\n\t}\n\n\th4 {\n\t\tfont-size: 21px;\n\t}\n\n\th5 {\n\t\tfont-size: 17px;\n\t}\n\n\th6 {\n\t\tfont-size: 14px;\n\t}\n\n\timg {\n\t\tcursor: default;\n\t\tmax-width: 100%;\n\t}\n\n\thr {\n\t\tpadding: 2px 0;\n\t\tborder: none;\n\t\tmargin: 1em 0;\n\t\twidth: 100%;\n\t}\n\n\thr:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\theight: 1px;\n\t\tbackground-color: var(--color-border-dark);\n\t\tline-height: 2px;\n\t}\n\n\tpre {\n\t\twhite-space: pre;\n\t\toverflow-x: auto;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 1em 1.3em;\n\t\tmargin-bottom: 1em;\n\t}\n\n\tp code {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: .1em .3em;\n\t}\n\n\tli {\n\t\tposition: relative;\n\t}\n\n\tul, ol {\n\t\tpadding-left: 10px;\n\t\tmargin-left: 10px;\n\t}\n\n\tul li {\n\t\tlist-style-type: disc;\n\t}\n\n\t// Second-level list entries\n\tul > li > ul > li {\n\t\tlist-style-type: circle;\n\t}\n\n\t// Third-level and further down list entries\n\tul > li > ul > li ul li {\n\t\tlist-style-type: square;\n\t}\n\n\tblockquote {\n\t\tpadding-left: 1em;\n\t\tborder-left: 4px solid var(--color-primary-element);\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tmargin-left: 0;\n\t\tmargin-right: 0;\n\t}\n\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n\tdisplay: block;\n}\n\n.editor__content p.is-empty:first-child::before {\n\tcontent: attr(data-empty-text);\n\tfloat: left;\n\tcolor: var(--color-text-maxcontrast);\n\tpointer-events: none;\n\theight: 0;\n}\n"],sourceRoot:""}]),n.a=d},624:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i)()(o.a);a.push([t.i,"body[data-v-3ea77884]{position:fixed}#direct-editor[data-v-3ea77884]{width:100%;height:100%;position:fixed;overflow:hidden}#direct-editor[data-v-3ea77884] #editor-container{height:100%;top:0}#direct-editor[data-v-3ea77884] #editor-wrapper div.ProseMirror{margin-top:0}pre[data-v-3ea77884]{width:100%;max-width:700px;margin:auto;background-color:var(--color-background-dark)}button[data-v-3ea77884]{width:44px;height:44px;margin:0;background-size:16px;border:0;background-color:transparent;opacity:.5;color:var(--color-main-text);background-position:center center;vertical-align:top}button[data-v-3ea77884]:hover,button[data-v-3ea77884]:focus,button[data-v-3ea77884]:active{background-color:var(--color-background-dark)}button.is-active[data-v-3ea77884],button[data-v-3ea77884]:hover,button[data-v-3ea77884]:focus{opacity:1}button.icon-undo[data-v-3ea77884],button.icon-redo[data-v-3ea77884]{opacity:.4}\n","",{version:3,sources:["webpack://./src/views/DirectEditing.vue"],names:[],mappings:"AAgIA,sBACC,cAAe,CACf,gCAGA,UAAW,CACX,WAAY,CACZ,cAAe,CACf,eAAgB,CAJjB,kDAOE,WAAY,CACZ,KAAM,CARR,gEAWE,YAAa,CACb,qBAID,UAAW,CACX,eAAgB,CAChB,WAAY,CACZ,6CAA8C,CAC9C,wBAGA,UAAW,CACX,WAAY,CACZ,QAAS,CACT,oBAAqB,CACrB,QAAS,CACT,4BAA6B,CAC7B,UAAW,CACX,4BAA6B,CAC7B,iCAAkC,CAClC,kBAAmB,CAVpB,2FAYE,6CAA8C,CAZhD,8FAiBE,SAAU,CAjBZ,oEAqBE,UAAW",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nbody {\n\tposition: fixed;\n}\n\n#direct-editor {\n\twidth: 100%;\n\theight: 100%;\n\tposition: fixed;\n\toverflow: hidden;\n\n\t&::v-deep #editor-container {\n\t\theight: 100%;\n\t\ttop: 0;\n\t}\n\t&::v-deep #editor-wrapper div.ProseMirror {\n\t\tmargin-top: 0;\n\t}\n}\n\npre {\n\twidth: 100%;\n\tmax-width: 700px;\n\tmargin: auto;\n\tbackground-color: var(--color-background-dark);\n}\n\nbutton {\n\twidth: 44px;\n\theight: 44px;\n\tmargin: 0;\n\tbackground-size: 16px;\n\tborder: 0;\n\tbackground-color: transparent;\n\topacity: .5;\n\tcolor: var(--color-main-text);\n\tbackground-position: center center;\n\tvertical-align: top;\n\t&:hover, &:focus, &:active {\n\t\tbackground-color: var(--color-background-dark);\n\t}\n\t&.is-active,\n\t&:hover,\n\t&:focus {\n\t\topacity: 1;\n\t}\n\n\t&.icon-undo, &.icon-redo {\n\t\topacity: .4;\n\t}\n}\n"],sourceRoot:""}]),n.a=a},637:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i),s=e(200),c=e.n(s),l=e(201),d=a()(o.a),p=c()(l.a);d.push([t.i,"#read-only-editor{overflow:scroll}#read-only-editor div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}#read-only-editor div.ProseMirror[contenteditable=true],#read-only-editor div.ProseMirror[contenteditable=false],#read-only-editor div.ProseMirror [contenteditable=true],#read-only-editor div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}#read-only-editor div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}#read-only-editor div.ProseMirror .checkbox-item input[type=checkbox]{display:none}#read-only-editor div.ProseMirror .checkbox-item:before{content:'';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:\"\";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}#read-only-editor div.ProseMirror .checkbox-item.checked:before{background-image:url("+p+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}#read-only-editor div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}#read-only-editor div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}#read-only-editor div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}#read-only-editor div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}#read-only-editor div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}#read-only-editor div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}#read-only-editor div.ProseMirror p:first-child,#read-only-editor div.ProseMirror h1:first-child,#read-only-editor div.ProseMirror h2:first-child,#read-only-editor div.ProseMirror h3:first-child,#read-only-editor div.ProseMirror h4:first-child,#read-only-editor div.ProseMirror h5:first-child,#read-only-editor div.ProseMirror h6:first-child{margin-top:10px}#read-only-editor div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}#read-only-editor div.ProseMirror p{margin-bottom:1em;line-height:150%}#read-only-editor div.ProseMirror em{font-style:italic}#read-only-editor div.ProseMirror h1,#read-only-editor div.ProseMirror h2,#read-only-editor div.ProseMirror h3,#read-only-editor div.ProseMirror h4,#read-only-editor div.ProseMirror h5,#read-only-editor div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}#read-only-editor div.ProseMirror h1{font-size:36px;margin-top:48px}#read-only-editor div.ProseMirror h2{font-size:28px;margin-top:48px}#read-only-editor div.ProseMirror h3{font-size:24px}#read-only-editor div.ProseMirror h4{font-size:21px}#read-only-editor div.ProseMirror h5{font-size:17px}#read-only-editor div.ProseMirror h6{font-size:14px}#read-only-editor div.ProseMirror img{cursor:default;max-width:100%}#read-only-editor div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}#read-only-editor div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}#read-only-editor div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}#read-only-editor div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}#read-only-editor div.ProseMirror li{position:relative}#read-only-editor div.ProseMirror ul,#read-only-editor div.ProseMirror ol{padding-left:10px;margin-left:10px}#read-only-editor div.ProseMirror ul li{list-style-type:disc}#read-only-editor div.ProseMirror ul>li>ul>li{list-style-type:circle}#read-only-editor div.ProseMirror ul>li>ul>li ul li{list-style-type:square}#read-only-editor div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}#read-only-editor .ProseMirror-focused .ProseMirror-gapcursor{display:block}#read-only-editor .editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}.thumbnailContainer #read-only-editor{width:100%}.thumbnailContainer #read-only-editor .ProseMirror{height:auto;margin:0 0 0 0;padding:0}\n',"",{version:3,sources:["webpack://./src/components/ReadOnlyEditor.vue","webpack://./css/prosemirror.scss"],names:[],mappings:"AAgEA,kBAEC,eAAgB,CAFjB,kCC9DC,eAAgB,CAChB,WAAY,CACZ,iBAAkB,CAClB,oBAAqB,CACrB,oBAAqB,CACrB,mCAAoC,CACpC,2BAA4B,CAC5B,0BAA2B,CAC3B,gBAAiB,CACjB,cAAe,CACf,YAAa,CDoDd,oOC9CE,sBAAuB,CACvB,UAAW,CACX,4BAA6B,CAC7B,4BAA6B,CAC7B,SAAU,CACV,wBAAyB,CACzB,gBAAiB,CACjB,cAAe,CDuCjB,iDCnCE,YAAa,CACb,iBAAkB,CAElB,iBAAkB,CDgCpB,sEC7BG,YAAa,CD6BhB,wDC1BG,UAAW,CACX,oBAAqB,CACrB,WAAY,CACZ,UAAW,CACX,qBAAsB,CACtB,iBAAkB,CAClB,sBAAuB,CACvB,8CAA+C,CAC/C,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,aAAc,CACd,kCAAmC,CACnC,WAAY,CACZ,UAAW,CACX,0BAA2B,CAC3B,0BAA2B,CAC3B,cAAe,CDQlB,gECLG,wDAAoD,CACpD,6CAA8C,CAC9C,yCAA0C,CDG7C,uDCAG,aAAc,CACd,WAAY,CACZ,2BAA4B,CDF/B,qECII,YAAa,CDJjB,0DCUE,UAAW,CACX,YAAa,CACb,eAAgB,CAChB,iBAAkB,CDbpB,iECgBG,iBAAkB,CAClB,OAAQ,CDjBX,+ECoBG,kBAAmB,CACnB,UAAW,CDrBd,iFCwBI,eAAgB,CAChB,eAAgB,CAChB,mBAAoB,CD1BxB,sVCqCE,eAAgB,CDrClB,oCCyCE,kCAAmC,CACnC,yBAA0B,CAC1B,cAAe,CD3CjB,oCC+CE,iBAAkB,CAClB,gBAAiB,CDhDnB,qCCoDE,iBAAkB,CDpDpB,8NC6DE,eAAgB,CAChB,gBAAiB,CACjB,eAAgB,CAChB,kBAAmB,CACnB,4BAA6B,CDjE/B,qCCqEE,cAAe,CACf,eAAgB,CDtElB,qCC0EE,cAAe,CACf,eAAgB,CD3ElB,qCC+EE,cAAe,CD/EjB,qCCmFE,cAAe,CDnFjB,qCCuFE,cAAe,CDvFjB,qCC2FE,cAAe,CD3FjB,sCC+FE,cAAe,CACf,cAAe,CDhGjB,qCCoGE,aAAc,CACd,WAAY,CACZ,YAAa,CACb,UAAW,CDvGb,2CC2GE,UAAW,CACX,aAAc,CACd,UAAW,CACX,yCAA0C,CAC1C,eAAgB,CD/GlB,sCCmHE,eAAgB,CAChB,eAAgB,CAChB,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CAClB,iBAAkB,CDxHpB,yCC4HE,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CD9HpB,qCCkIE,iBAAkB,CDlIpB,0ECsIE,iBAAkB,CAClB,gBAAiB,CDvInB,wCC2IE,oBAAqB,CD3IvB,8CCgJE,sBAAuB,CDhJzB,oDCqJE,sBAAuB,CDrJzB,6CCyJE,gBAAiB,CACjB,kDAAmD,CACnD,mCAAoC,CACpC,aAAc,CACd,cAAe,CD7JjB,8DCmKC,aAAc,CDnKf,kECuKC,6BAA8B,CAC9B,UAAW,CACX,mCAAoC,CACpC,mBAAoB,CACpB,QAAS,CDtKV,sCACC,UAAW,CADZ,mDAIE,WAAY,CACZ,cAAe,CACf,SAAU",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#read-only-editor {\n\t@import './../../css/prosemirror';\n\toverflow: scroll;\n}\n\n.thumbnailContainer #read-only-editor  {\n\twidth: 100%;\n\n\t.ProseMirror {\n\t\theight: auto;\n\t\tmargin: 0 0 0 0;\n\t\tpadding: 0;\n\t}\n}\n\n","/* Document rendering styles */\ndiv.ProseMirror {\n\tmargin-top: 44px;\n\theight: 100%;\n\tposition: relative;\n\tword-wrap: break-word;\n\twhite-space: pre-wrap;\n\t-webkit-font-variant-ligatures: none;\n\tfont-variant-ligatures: none;\n\tpadding: 4px 8px 200px 14px;\n\tline-height: 150%;\n\tfont-size: 14px;\n\toutline: none;\n\n\t&[contenteditable=true],\n\t&[contenteditable=false],\n\t[contenteditable=true],\n\t[contenteditable=false] {\n\t\tborder: none !important;\n\t\twidth: 100%;\n\t\tbackground-color: transparent;\n\t\tcolor: var(--color-main-text);\n\t\topacity: 1;\n\t\t-webkit-user-select: text;\n\t\tuser-select: text;\n\t\tfont-size: 14px;\n\t}\n\n\t.checkbox-item {\n\t\tdisplay: flex;\n\t\talign-items: start;\n\t\t// Left-align with list item text\n\t\tmargin-left: -24px;\n\n\t\tinput[type=checkbox] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: inline-block;\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tvertical-align: middle;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin: 2px 6px 3px 3px;\n\t\t\tborder: 1px solid var(--color-text-maxcontrast);\n\t\t\tcontent: \"\";\n\t\t\tposition: relative;\n\t\t\twidth: 44px;\n\t\t\theight: 44px;\n\t\t\tdisplay: block;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tbox-shadow: none !important;\n\t\t\tbackground-position: center;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t&.checked:before {\n\t\t\tbackground-image: url('../../img/checkbox-mark.svg');\n\t\t\tbackground-color: var(--color-primary-element);\n\t\t\tborder-color: var(--color-primary-element);\n\t\t}\n\t\tlabel {\n\t\t\tdisplay: block;\n\t\t\tflex-grow: 1;\n\t\t\tmax-width: calc(100% - 28px);\n\t\t\t> *:first-child {\n\t\t\t\tmargin-top: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tli label.checkbox-label {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 1em;\n\n\t\t&:before {\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t}\n\t\tdiv.checkbox-wrapper {\n\t\t\tmargin-bottom: -1em;\n\t\t\twidth: 100%;\n\n\t\t\t& > p {\n\t\t\t\tmargin-top: -1px;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\tpadding-bottom: 10px;\n\t\t\t}\n\t\t}\n\t}\n\tp:first-child,\n\th1:first-child,\n\th2:first-child,\n\th3:first-child,\n\th4:first-child,\n\th5:first-child,\n\th6:first-child {\n\t\tmargin-top: 10px;\n\t}\n\n\ta {\n\t\tcolor: var(--color-primary-element);\n\t\ttext-decoration: underline;\n\t\tpadding: .5em 0;\n\t}\n\n\tp {\n\t\tmargin-bottom: 1em;\n\t\tline-height: 150%;\n\t}\n\n\tem {\n\t\tfont-style: italic;\n\t}\n\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-weight: 600;\n\t\tline-height: 120%;\n\t\tmargin-top: 24px;\n\t\tmargin-bottom: 12px;\n\t\tcolor: var(--color-main-text);\n\t}\n\n\th1 {\n\t\tfont-size: 36px;\n\t\tmargin-top: 48px;\n\t}\n\n\th2 {\n\t\tfont-size: 28px;\n\t\tmargin-top: 48px;\n\t}\n\n\th3 {\n\t\tfont-size: 24px;\n\t}\n\n\th4 {\n\t\tfont-size: 21px;\n\t}\n\n\th5 {\n\t\tfont-size: 17px;\n\t}\n\n\th6 {\n\t\tfont-size: 14px;\n\t}\n\n\timg {\n\t\tcursor: default;\n\t\tmax-width: 100%;\n\t}\n\n\thr {\n\t\tpadding: 2px 0;\n\t\tborder: none;\n\t\tmargin: 1em 0;\n\t\twidth: 100%;\n\t}\n\n\thr:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\theight: 1px;\n\t\tbackground-color: var(--color-border-dark);\n\t\tline-height: 2px;\n\t}\n\n\tpre {\n\t\twhite-space: pre;\n\t\toverflow-x: auto;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 1em 1.3em;\n\t\tmargin-bottom: 1em;\n\t}\n\n\tp code {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: .1em .3em;\n\t}\n\n\tli {\n\t\tposition: relative;\n\t}\n\n\tul, ol {\n\t\tpadding-left: 10px;\n\t\tmargin-left: 10px;\n\t}\n\n\tul li {\n\t\tlist-style-type: disc;\n\t}\n\n\t// Second-level list entries\n\tul > li > ul > li {\n\t\tlist-style-type: circle;\n\t}\n\n\t// Third-level and further down list entries\n\tul > li > ul > li ul li {\n\t\tlist-style-type: square;\n\t}\n\n\tblockquote {\n\t\tpadding-left: 1em;\n\t\tborder-left: 4px solid var(--color-primary-element);\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tmargin-left: 0;\n\t\tmargin-right: 0;\n\t}\n\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n\tdisplay: block;\n}\n\n.editor__content p.is-empty:first-child::before {\n\tcontent: attr(data-empty-text);\n\tfloat: left;\n\tcolor: var(--color-text-maxcontrast);\n\tpointer-events: none;\n\theight: 0;\n}\n"],sourceRoot:""}]),n.a=d},638:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i),s=e(200),c=e.n(s),l=e(201),d=a()(o.a),p=c()(l.a);d.push([t.i,"div.ProseMirror{margin-top:44px;height:100%;position:relative;word-wrap:break-word;white-space:pre-wrap;-webkit-font-variant-ligatures:none;font-variant-ligatures:none;padding:4px 8px 200px 14px;line-height:150%;font-size:14px;outline:none}div.ProseMirror[contenteditable=true],div.ProseMirror[contenteditable=false],div.ProseMirror [contenteditable=true],div.ProseMirror [contenteditable=false]{border:none !important;width:100%;background-color:transparent;color:var(--color-main-text);opacity:1;-webkit-user-select:text;user-select:text;font-size:14px}div.ProseMirror .checkbox-item{display:flex;align-items:start;margin-left:-24px}div.ProseMirror .checkbox-item input[type=checkbox]{display:none}div.ProseMirror .checkbox-item:before{content:'';display:inline-block;height:14px;width:14px;vertical-align:middle;border-radius:50%;margin:2px 6px 3px 3px;border:1px solid var(--color-text-maxcontrast);content:\"\";position:relative;width:44px;height:44px;display:block;border-radius:var(--border-radius);height:14px;width:14px;box-shadow:none !important;background-position:center;cursor:pointer}div.ProseMirror .checkbox-item.checked:before{background-image:url("+p+');background-color:var(--color-primary-element);border-color:var(--color-primary-element)}div.ProseMirror .checkbox-item label{display:block;flex-grow:1;max-width:calc(100% - 28px)}div.ProseMirror .checkbox-item label>*:first-child{margin-top:0}div.ProseMirror li label.checkbox-label{width:100%;display:flex;margin-top:10px;margin-bottom:1em}div.ProseMirror li label.checkbox-label:before{position:relative;top:2px}div.ProseMirror li label.checkbox-label div.checkbox-wrapper{margin-bottom:-1em;width:100%}div.ProseMirror li label.checkbox-label div.checkbox-wrapper>p{margin-top:-1px;margin-bottom:0;padding-bottom:10px}div.ProseMirror p:first-child,div.ProseMirror h1:first-child,div.ProseMirror h2:first-child,div.ProseMirror h3:first-child,div.ProseMirror h4:first-child,div.ProseMirror h5:first-child,div.ProseMirror h6:first-child{margin-top:10px}div.ProseMirror a{color:var(--color-primary-element);text-decoration:underline;padding:.5em 0}div.ProseMirror p{margin-bottom:1em;line-height:150%}div.ProseMirror em{font-style:italic}div.ProseMirror h1,div.ProseMirror h2,div.ProseMirror h3,div.ProseMirror h4,div.ProseMirror h5,div.ProseMirror h6{font-weight:600;line-height:120%;margin-top:24px;margin-bottom:12px;color:var(--color-main-text)}div.ProseMirror h1{font-size:36px;margin-top:48px}div.ProseMirror h2{font-size:28px;margin-top:48px}div.ProseMirror h3{font-size:24px}div.ProseMirror h4{font-size:21px}div.ProseMirror h5{font-size:17px}div.ProseMirror h6{font-size:14px}div.ProseMirror img{cursor:default;max-width:100%}div.ProseMirror hr{padding:2px 0;border:none;margin:1em 0;width:100%}div.ProseMirror hr:after{content:"";display:block;height:1px;background-color:var(--color-border-dark);line-height:2px}div.ProseMirror pre{white-space:pre;overflow-x:auto;background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:1em 1.3em;margin-bottom:1em}div.ProseMirror p code{background-color:var(--color-background-dark);border-radius:var(--border-radius);padding:.1em .3em}div.ProseMirror li{position:relative}div.ProseMirror ul,div.ProseMirror ol{padding-left:10px;margin-left:10px}div.ProseMirror ul li{list-style-type:disc}div.ProseMirror ul>li>ul>li{list-style-type:circle}div.ProseMirror ul>li>ul>li ul li{list-style-type:square}div.ProseMirror blockquote{padding-left:1em;border-left:4px solid var(--color-primary-element);color:var(--color-text-maxcontrast);margin-left:0;margin-right:0}.ProseMirror-focused .ProseMirror-gapcursor{display:block}.editor__content p.is-empty:first-child::before{content:attr(data-empty-text);float:left;color:var(--color-text-maxcontrast);pointer-events:none;height:0}\n',"",{version:3,sources:["webpack://./css/prosemirror.scss"],names:[],mappings:"AACA,gBACC,eAAgB,CAChB,WAAY,CACZ,iBAAkB,CAClB,oBAAqB,CACrB,oBAAqB,CACrB,mCAAoC,CACpC,2BAA4B,CAC5B,0BAA2B,CAC3B,gBAAiB,CACjB,cAAe,CACf,YAAa,CAXd,4JAiBE,sBAAuB,CACvB,UAAW,CACX,4BAA6B,CAC7B,4BAA6B,CAC7B,SAAU,CACV,wBAAyB,CACzB,gBAAiB,CACjB,cAAe,CAxBjB,+BA4BE,YAAa,CACb,iBAAkB,CAElB,iBAAkB,CA/BpB,oDAkCG,YAAa,CAlChB,sCAqCG,UAAW,CACX,oBAAqB,CACrB,WAAY,CACZ,UAAW,CACX,qBAAsB,CACtB,iBAAkB,CAClB,sBAAuB,CACvB,8CAA+C,CAC/C,UAAW,CACX,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,aAAc,CACd,kCAAmC,CACnC,WAAY,CACZ,UAAW,CACX,0BAA2B,CAC3B,0BAA2B,CAC3B,cAAe,CAvDlB,8CA0DG,wDAAoD,CACpD,6CAA8C,CAC9C,yCAA0C,CA5D7C,qCA+DG,aAAc,CACd,WAAY,CACZ,2BAA4B,CAjE/B,mDAmEI,YAAa,CAnEjB,wCAyEE,UAAW,CACX,YAAa,CACb,eAAgB,CAChB,iBAAkB,CA5EpB,+CA+EG,iBAAkB,CAClB,OAAQ,CAhFX,6DAmFG,kBAAmB,CACnB,UAAW,CApFd,+DAuFI,eAAgB,CAChB,eAAgB,CAChB,mBAAoB,CAzFxB,wNAoGE,eAAgB,CApGlB,kBAwGE,kCAAmC,CACnC,yBAA0B,CAC1B,cAAe,CA1GjB,kBA8GE,iBAAkB,CAClB,gBAAiB,CA/GnB,mBAmHE,iBAAkB,CAnHpB,kHA4HE,eAAgB,CAChB,gBAAiB,CACjB,eAAgB,CAChB,kBAAmB,CACnB,4BAA6B,CAhI/B,mBAoIE,cAAe,CACf,eAAgB,CArIlB,mBAyIE,cAAe,CACf,eAAgB,CA1IlB,mBA8IE,cAAe,CA9IjB,mBAkJE,cAAe,CAlJjB,mBAsJE,cAAe,CAtJjB,mBA0JE,cAAe,CA1JjB,oBA8JE,cAAe,CACf,cAAe,CA/JjB,mBAmKE,aAAc,CACd,WAAY,CACZ,YAAa,CACb,UAAW,CAtKb,yBA0KE,UAAW,CACX,aAAc,CACd,UAAW,CACX,yCAA0C,CAC1C,eAAgB,CA9KlB,oBAkLE,eAAgB,CAChB,eAAgB,CAChB,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CAClB,iBAAkB,CAvLpB,uBA2LE,6CAA8C,CAC9C,kCAAmC,CACnC,iBAAkB,CA7LpB,mBAiME,iBAAkB,CAjMpB,sCAqME,iBAAkB,CAClB,gBAAiB,CAtMnB,sBA0ME,oBAAqB,CA1MvB,4BA+ME,sBAAuB,CA/MzB,kCAoNE,sBAAuB,CApNzB,2BAwNE,gBAAiB,CACjB,kDAAmD,CACnD,mCAAoC,CACpC,aAAc,CACd,cAAe,CACf,4CAKD,aAAc,CACd,gDAGA,6BAA8B,CAC9B,UAAW,CACX,mCAAoC,CACpC,mBAAoB,CACpB,QAAS",sourcesContent:["/* Document rendering styles */\ndiv.ProseMirror {\n\tmargin-top: 44px;\n\theight: 100%;\n\tposition: relative;\n\tword-wrap: break-word;\n\twhite-space: pre-wrap;\n\t-webkit-font-variant-ligatures: none;\n\tfont-variant-ligatures: none;\n\tpadding: 4px 8px 200px 14px;\n\tline-height: 150%;\n\tfont-size: 14px;\n\toutline: none;\n\n\t&[contenteditable=true],\n\t&[contenteditable=false],\n\t[contenteditable=true],\n\t[contenteditable=false] {\n\t\tborder: none !important;\n\t\twidth: 100%;\n\t\tbackground-color: transparent;\n\t\tcolor: var(--color-main-text);\n\t\topacity: 1;\n\t\t-webkit-user-select: text;\n\t\tuser-select: text;\n\t\tfont-size: 14px;\n\t}\n\n\t.checkbox-item {\n\t\tdisplay: flex;\n\t\talign-items: start;\n\t\t// Left-align with list item text\n\t\tmargin-left: -24px;\n\n\t\tinput[type=checkbox] {\n\t\t\tdisplay: none;\n\t\t}\n\t\t&:before {\n\t\t\tcontent: '';\n\t\t\tdisplay: inline-block;\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tvertical-align: middle;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin: 2px 6px 3px 3px;\n\t\t\tborder: 1px solid var(--color-text-maxcontrast);\n\t\t\tcontent: \"\";\n\t\t\tposition: relative;\n\t\t\twidth: 44px;\n\t\t\theight: 44px;\n\t\t\tdisplay: block;\n\t\t\tborder-radius: var(--border-radius);\n\t\t\theight: 14px;\n\t\t\twidth: 14px;\n\t\t\tbox-shadow: none !important;\n\t\t\tbackground-position: center;\n\t\t\tcursor: pointer;\n\t\t}\n\t\t&.checked:before {\n\t\t\tbackground-image: url('../../img/checkbox-mark.svg');\n\t\t\tbackground-color: var(--color-primary-element);\n\t\t\tborder-color: var(--color-primary-element);\n\t\t}\n\t\tlabel {\n\t\t\tdisplay: block;\n\t\t\tflex-grow: 1;\n\t\t\tmax-width: calc(100% - 28px);\n\t\t\t> *:first-child {\n\t\t\t\tmargin-top: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\tli label.checkbox-label {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tmargin-top: 10px;\n\t\tmargin-bottom: 1em;\n\n\t\t&:before {\n\t\t\tposition: relative;\n\t\t\ttop: 2px;\n\t\t}\n\t\tdiv.checkbox-wrapper {\n\t\t\tmargin-bottom: -1em;\n\t\t\twidth: 100%;\n\n\t\t\t& > p {\n\t\t\t\tmargin-top: -1px;\n\t\t\t\tmargin-bottom: 0;\n\t\t\t\tpadding-bottom: 10px;\n\t\t\t}\n\t\t}\n\t}\n\tp:first-child,\n\th1:first-child,\n\th2:first-child,\n\th3:first-child,\n\th4:first-child,\n\th5:first-child,\n\th6:first-child {\n\t\tmargin-top: 10px;\n\t}\n\n\ta {\n\t\tcolor: var(--color-primary-element);\n\t\ttext-decoration: underline;\n\t\tpadding: .5em 0;\n\t}\n\n\tp {\n\t\tmargin-bottom: 1em;\n\t\tline-height: 150%;\n\t}\n\n\tem {\n\t\tfont-style: italic;\n\t}\n\n\th1,\n\th2,\n\th3,\n\th4,\n\th5,\n\th6 {\n\t\tfont-weight: 600;\n\t\tline-height: 120%;\n\t\tmargin-top: 24px;\n\t\tmargin-bottom: 12px;\n\t\tcolor: var(--color-main-text);\n\t}\n\n\th1 {\n\t\tfont-size: 36px;\n\t\tmargin-top: 48px;\n\t}\n\n\th2 {\n\t\tfont-size: 28px;\n\t\tmargin-top: 48px;\n\t}\n\n\th3 {\n\t\tfont-size: 24px;\n\t}\n\n\th4 {\n\t\tfont-size: 21px;\n\t}\n\n\th5 {\n\t\tfont-size: 17px;\n\t}\n\n\th6 {\n\t\tfont-size: 14px;\n\t}\n\n\timg {\n\t\tcursor: default;\n\t\tmax-width: 100%;\n\t}\n\n\thr {\n\t\tpadding: 2px 0;\n\t\tborder: none;\n\t\tmargin: 1em 0;\n\t\twidth: 100%;\n\t}\n\n\thr:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\theight: 1px;\n\t\tbackground-color: var(--color-border-dark);\n\t\tline-height: 2px;\n\t}\n\n\tpre {\n\t\twhite-space: pre;\n\t\toverflow-x: auto;\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: 1em 1.3em;\n\t\tmargin-bottom: 1em;\n\t}\n\n\tp code {\n\t\tbackground-color: var(--color-background-dark);\n\t\tborder-radius: var(--border-radius);\n\t\tpadding: .1em .3em;\n\t}\n\n\tli {\n\t\tposition: relative;\n\t}\n\n\tul, ol {\n\t\tpadding-left: 10px;\n\t\tmargin-left: 10px;\n\t}\n\n\tul li {\n\t\tlist-style-type: disc;\n\t}\n\n\t// Second-level list entries\n\tul > li > ul > li {\n\t\tlist-style-type: circle;\n\t}\n\n\t// Third-level and further down list entries\n\tul > li > ul > li ul li {\n\t\tlist-style-type: square;\n\t}\n\n\tblockquote {\n\t\tpadding-left: 1em;\n\t\tborder-left: 4px solid var(--color-primary-element);\n\t\tcolor: var(--color-text-maxcontrast);\n\t\tmargin-left: 0;\n\t\tmargin-right: 0;\n\t}\n\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n\tdisplay: block;\n}\n\n.editor__content p.is-empty:first-child::before {\n\tcontent: attr(data-empty-text);\n\tfloat: left;\n\tcolor: var(--color-text-maxcontrast);\n\tpointer-events: none;\n\theight: 0;\n}\n"],sourceRoot:""}]),n.a=d},639:function(t,n,e){"use strict";var r=e(29),o=e.n(r),i=e(30),a=e.n(i)()(o.a);a.push([t.i,"#resolve-conflicts[data-v-7fd0186f]{display:flex;position:fixed;z-index:10000;bottom:0;max-width:900px;width:100vw;margin:auto;padding:20px 0}#resolve-conflicts button[data-v-7fd0186f]{margin:auto;box-shadow:0 0 10px var(--color-box-shadow)}\n","",{version:3,sources:["webpack://./src/components/CollisionResolveDialog.vue"],names:[],mappings:"AAwCA,oCACC,YAAa,CACb,cAAe,CACf,aAAc,CACd,QAAS,CACT,eAAgB,CAChB,WAAY,CACZ,WAAY,CACZ,cAAe,CARhB,2CAWE,WAAY,CACZ,2CAA4C",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#resolve-conflicts {\n\tdisplay: flex;\n\tposition: fixed;\n\tz-index: 10000;\n\tbottom: 0;\n\tmax-width: 900px;\n\twidth: 100vw;\n\tmargin: auto;\n\tpadding: 20px 0;\n\n\tbutton {\n\t\tmargin: auto;\n\t\tbox-shadow: 0 0 10px var(--color-box-shadow);\n\t}\n}\n"],sourceRoot:""}]),n.a=a},658:function(t,n,e){"use strict";e.r(n);var r=e(181),o=e(217),i=e.n(o),a=e(550),s={name:"ReadOnlyEditor",components:{EditorContent:r.b},props:{content:{type:String,required:!0},isRichEditor:{type:Boolean,default:!0}},data:function(){return{editor:null}},mounted:function(){this.editor=Object(a.a)({content:this.isRichEditor?a.d.render(this.content):"<pre>"+i()(this.content)+"</pre>",enableRichEditing:this.isRichEditor}),this.editor.setOptions({editable:!1})},beforeDestroy:function(){this.editor.destroy()}},c=e(28),l=e.n(c),d=e(637),p={insert:"head",singleton:!1},u=(l()(d.a,p),d.a.locals,e(638)),h={insert:"head",singleton:!1},A=(l()(u.a,h),u.a.locals,e(18)),f=Object(A.a)(s,(function(){var t=this.$createElement,n=this._self._c||t;return this.editor?n("EditorContent",{attrs:{id:"read-only-editor",editor:this.editor}}):this._e()}),[],!1,null,null,null);n.default=f.exports},661:function(t,n,e){"use strict";e.r(n);var r={name:"CollisionResolveDialog"},o=e(28),i=e.n(o),a=e(639),s={insert:"head",singleton:!1},c=(i()(a.a,s),a.a.locals,e(18)),l=Object(c.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"collision-resolve-dialog",attrs:{id:"resolve-conflicts"}},[e("button",{on:{click:function(n){return t.$emit("resolveUseThisVersion")}}},[t._v("\n\t\t"+t._s(t.t("text","Use current version"))+"\n\t")]),t._v(" "),e("button",{on:{click:function(n){return t.$emit("resolveUseServerVersion")}}},[t._v("\n\t\t"+t._s(t.t("text","Use the saved version"))+"\n\t")])])}),[],!1,null,"7fd0186f",null);n.default=l.exports}}]);
//# sourceMappingURL=editor.js.map?v=39bd94c35711aab37523