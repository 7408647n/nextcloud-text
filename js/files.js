!function(e){function t(t){for(var i,r,o=t[0],a=t[1],c=0,f=[];c<o.length;c++)r=o[c],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&f.push(n[r][0]),n[r]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);for(h&&h(t);f.length;)f.shift()()}var i={},n={191:0};function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(e){var t=[],i=n[e];if(0!==i)if(i)t.push(i[2]);else{var o=new Promise((function(t,r){i=n[e]=[t,r]}));t.push(i[2]=o);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,r.nc&&c.setAttribute("nonce",r.nc),c.src=function(e){return r.p+""+({0:"vendor",1:"highlight/1c",2:"highlight/abnf",3:"highlight/accesslog",4:"highlight/actionscript",5:"highlight/ada",6:"highlight/angelscript",7:"highlight/apache",8:"highlight/applescript",9:"highlight/arcade",10:"highlight/arduino",11:"highlight/armasm",12:"highlight/asciidoc",13:"highlight/aspectj",14:"highlight/autohotkey",15:"highlight/autoit",16:"highlight/avrasm",17:"highlight/awk",18:"highlight/axapta",19:"highlight/bash",20:"highlight/basic",21:"highlight/bnf",22:"highlight/brainfuck",23:"highlight/cal",24:"highlight/capnproto",25:"highlight/ceylon",26:"highlight/clean",27:"highlight/clojure",28:"highlight/clojure-repl",29:"highlight/cmake",30:"highlight/coffeescript",31:"highlight/coq",32:"highlight/cos",33:"highlight/cpp",34:"highlight/crmsh",35:"highlight/crystal",36:"highlight/cs",37:"highlight/csp",38:"highlight/css",39:"highlight/d",40:"highlight/dart",41:"highlight/delphi",42:"highlight/diff",43:"highlight/django",44:"highlight/dns",45:"highlight/dockerfile",46:"highlight/dos",47:"highlight/dsconfig",48:"highlight/dts",49:"highlight/dust",50:"highlight/ebnf",51:"highlight/elixir",52:"highlight/elm",53:"highlight/erb",54:"highlight/erlang",55:"highlight/erlang-repl",56:"highlight/excel",57:"highlight/fix",58:"highlight/flix",59:"highlight/fortran",60:"highlight/fsharp",61:"highlight/gams",62:"highlight/gauss",63:"highlight/gcode",64:"highlight/gherkin",65:"highlight/glsl",66:"highlight/gml",67:"highlight/go",68:"highlight/golo",69:"highlight/gradle",70:"highlight/groovy",71:"highlight/haml",72:"highlight/handlebars",73:"highlight/haskell",74:"highlight/haxe",75:"highlight/hsp",76:"highlight/htmlbars",77:"highlight/http",78:"highlight/hy",79:"highlight/inform7",80:"highlight/ini",81:"highlight/irpf90",82:"highlight/isbl",83:"highlight/java",84:"highlight/javascript",85:"highlight/jboss-cli",86:"highlight/json",87:"highlight/julia",88:"highlight/julia-repl",89:"highlight/kotlin",90:"highlight/lasso",91:"highlight/ldif",92:"highlight/leaf",93:"highlight/less",94:"highlight/lisp",95:"highlight/livecodeserver",96:"highlight/livescript",97:"highlight/llvm",98:"highlight/lsl",99:"highlight/lua",100:"highlight/makefile",101:"highlight/markdown",102:"highlight/mathematica",103:"highlight/matlab",104:"highlight/maxima",105:"highlight/mel",106:"highlight/mercury",107:"highlight/mipsasm",108:"highlight/mizar",109:"highlight/mojolicious",110:"highlight/monkey",111:"highlight/moonscript",112:"highlight/n1ql",113:"highlight/nginx",114:"highlight/nimrod",115:"highlight/nix",116:"highlight/nsis",117:"highlight/objectivec",118:"highlight/ocaml",119:"highlight/openscad",120:"highlight/oxygene",121:"highlight/parser3",122:"highlight/perl",123:"highlight/pf",124:"highlight/pgsql",125:"highlight/php",126:"highlight/plaintext",127:"highlight/pony",128:"highlight/powershell",129:"highlight/processing",130:"highlight/profile",131:"highlight/prolog",132:"highlight/properties",133:"highlight/protobuf",134:"highlight/puppet",135:"highlight/purebasic",136:"highlight/python",137:"highlight/q",138:"highlight/qml",139:"highlight/r",140:"highlight/reasonml",141:"highlight/rib",142:"highlight/roboconf",143:"highlight/routeros",144:"highlight/rsl",145:"highlight/ruby",146:"highlight/ruleslanguage",147:"highlight/rust",148:"highlight/sas",149:"highlight/scala",150:"highlight/scheme",151:"highlight/scilab",152:"highlight/scss",153:"highlight/shell",154:"highlight/smali",155:"highlight/smalltalk",156:"highlight/sml",157:"highlight/sqf",158:"highlight/sql",159:"highlight/stan",160:"highlight/stata",161:"highlight/step21",162:"highlight/stylus",163:"highlight/subunit",164:"highlight/swift",165:"highlight/taggerscript",166:"highlight/tap",167:"highlight/tcl",168:"highlight/tex",169:"highlight/thrift",170:"highlight/tp",171:"highlight/twig",172:"highlight/typescript",173:"highlight/vala",174:"highlight/vbnet",175:"highlight/vbscript",176:"highlight/vbscript-html",177:"highlight/verilog",178:"highlight/vhdl",179:"highlight/vim",180:"highlight/x86asm",181:"highlight/xl",182:"highlight/xml",183:"highlight/xquery",184:"highlight/yaml",185:"highlight/zephir",186:"vendors~editor-collab~editor-guest",187:"editor",188:"editor-collab",189:"editor-guest",190:"editor-rich",192:"files-modal",195:"vendors~editor",196:"vendors~editor-rich",197:"vendors~files-modal"}[e]||e)+".js?v="+{0:"5438eb0c49c91511c83b",1:"738a13a75b2dfc5654ed",2:"68f3fb03ccbf1f4c504f",3:"3d3e20c894313acefd57",4:"28aae3cd576ef6df65e1",5:"2eb6bd5e91c08a712567",6:"fec9c2728940d4c47153",7:"9fdd950d732f56e5b047",8:"bbdc76491dd63f8ba0aa",9:"6ff2d5d124928fb15769",10:"1ab56292e442fa97f84a",11:"f03ff8fb2e3c690d1af9",12:"69a2ac09056cf031dc63",13:"13994ad5063308574b18",14:"267fb5b30fe2e376c07c",15:"87e1cf3041cc209627f9",16:"c710ab01662041a69b70",17:"b6f6e3dcbd6510eebcc6",18:"88c504c0a5e9cbddf9b8",19:"dd497b22f7e8d6c9dcfa",20:"1ee90f35b83f928599e2",21:"8d175bc52d472bdecc11",22:"cc3abd57d17a66012e5e",23:"c7d683e19f7fd0d68c93",24:"99d5a700df92f0a8346c",25:"df444f456f75dcb5824e",26:"6f26902e8256e08622a1",27:"ab1a32e2070bd233b18e",28:"563825ed8edb912b5f39",29:"1cfa755ee4ca62f6a2be",30:"898dc15fbe9c53d78994",31:"8a8f38c35bcb5a4d75fe",32:"f8e362c4e92f301f4c95",33:"dc142d03e74c9426f6cc",34:"30ca44dbb611de8474c1",35:"9687be23e409845930fe",36:"58330c410486c250ac56",37:"08769549c2207432b961",38:"bb5b2975ce4d34ed26a9",39:"ab371d33f2dc3d8d3a25",40:"28d103515ecff678491b",41:"49ee1f242dd43e6199ad",42:"0616f19c71db00cecceb",43:"21c2b2ccf08f82126923",44:"99825983eaf95dfc5284",45:"fe81fa075d05acf2e9f6",46:"018470bf582acc894da0",47:"ec82a806187bb5e2cc9e",48:"d29e79f660055ffb83b2",49:"af21d5d4173faec6bc56",50:"9df86c0bbb0e791eca84",51:"4464dacd9129efd9cc32",52:"b8caf19fc0cc51b176f0",53:"378b1c1c0f4d6f29e1e6",54:"bf77dad8dac7e9400d31",55:"29a582d249c90c023726",56:"150a64916d65d6bb9633",57:"861e23e8f6a69793d44b",58:"e019a4026aceffa7cc12",59:"f547e9f2be59b8b8c122",60:"6effa9085e333c779d33",61:"ecbf4dc45cdf38fde222",62:"88f562ea0d36c22a2a04",63:"65e581fb986c597cb608",64:"a1238f4e0841d7ca5c3c",65:"9de7ed4613d8f93b8174",66:"a056659f53f8cdd9a648",67:"609bc86f65029f9202d8",68:"2785e1f93caecfb05096",69:"b86bd92aefc81690d576",70:"dbd8a0545d094d0f1054",71:"e168b485f2f0804bb809",72:"12ae253f78a91ed473a3",73:"a3c7b4ca1dcabe5e32c1",74:"ed4824f1370a6b30d4cb",75:"47f1dada56ff840ec358",76:"51a09bab0855dc2af29c",77:"bea1b5abb735d8e64cf4",78:"89e8ba3d7979cf708a6c",79:"256e41ea5ea387907332",80:"3c527258688ca42346f2",81:"18cdb88fd88fd3a1fe33",82:"d2e1dc1d4f9cd716d24f",83:"458f4bf3b6f4ae8f7062",84:"e0265c2b0033f4547edf",85:"351472af9d83ba6ee3ec",86:"6fcbe7807adecfa07999",87:"3e59e987427f40b4fe43",88:"4bceab31a289e1935451",89:"9d2e8a6876acd8d0ce81",90:"96aa789d4dc913aad2db",91:"ec982a00e07317c68e1a",92:"9ecfa749bc7cd80f5eef",93:"e5ebf713a5e1144b5fa8",94:"cfb5b00769ecacce643c",95:"9b41441d1dc815dfc9a4",96:"1a1d1a404785e8aff514",97:"60936576f60320b15705",98:"9fe89eebcd400dcd5ac8",99:"cfb771beda4e41ec451c",100:"c031d0a9f3f09757dca7",101:"2ee856698be138c021ae",102:"b28aad9c59f0c84bc846",103:"e3b2b08f151b88044b07",104:"1d9b1d4e8a263646e090",105:"f5ba07ea286c66d66c42",106:"e018e4a1a712ec7cfac6",107:"75023f055dfaf0fe1fb3",108:"4e378b8ff6c5000bc5ef",109:"f2236a518f6ef43a87a0",110:"ef84ead2918db56cdbbc",111:"d9d18b283abe77a9ac5c",112:"473bd4a3f99cda8a6db6",113:"169a12df2a0202978dc0",114:"2a8e795c4c059d3c3c0b",115:"cf277b782d0ea260ebe5",116:"7355657abb548a292cb0",117:"bae8c7f51c8bcca69843",118:"e561131ec03a45b29194",119:"99328388c30431a13867",120:"16c18569cdc0f32cea83",121:"124925e9f17cd45cae36",122:"33325fef72cecd240bc3",123:"0f671467ae294c523816",124:"442d3ebfffbd7f6cc12c",125:"ccd3c6ad5d8e1b919545",126:"2e79ed1ae2200d027a3f",127:"bf2e1c8cdaf165430d7d",128:"335261749a36b942bd5b",129:"7ffefc986fff3bfa67ae",130:"5dfe13cca1e7812fdd90",131:"ed9a7b2889d9d979bff0",132:"8f2a6925215fcf55e578",133:"9079a353f2972640bca9",134:"fbcd4d5ffc7700e68385",135:"10b78afc7e5cbf08c57f",136:"3433d26151aa92b1ea9e",137:"50bd52d0a2280f6dc6e8",138:"3efcd19214462a50643a",139:"8fdd93dd33edd3723389",140:"41e8175417a43ede4690",141:"9af04b34589f5272f178",142:"83649e05545cc49bceba",143:"6d7432cf18918fa605ad",144:"effb62e17523a5a38dab",145:"f4e25b08fd3874c08e4a",146:"b04d302379d555b45621",147:"1e1c1816f490dff3c50e",148:"246b99350f224421d826",149:"86eeee27317eedf83895",150:"9577811194075e6a34fd",151:"605b00cfe6c4752b39cb",152:"cee23f6f318e1efa61de",153:"db78abda1901b05b0ca9",154:"635bef5074920358298f",155:"893074fef0c43707cbc3",156:"e057db5c178ed0034a59",157:"70ed4ea3704ee7860d3c",158:"be5c205d83f3b0103812",159:"67dff3b13dca226a7e4f",160:"c29c7c7084a88d202136",161:"ebf4d4c8f7482d64798c",162:"2feb73d5dd2e1caad8d5",163:"745760c3f7d88cba4fbc",164:"11daf4f15ae70f464168",165:"c9ed0391033225c69773",166:"9885710fbee5a2a7e156",167:"1eef7206dc14ec03a109",168:"141fd2291d6ec3420087",169:"fd8bad41d1a223d33070",170:"05073ca41e75a10a94d8",171:"eb7374f564dcfb14f039",172:"37ae004a1e2b20f8ac33",173:"99238a1a493fe3d3885a",174:"92a89e1221b2bbd85fc1",175:"b56862908a26176af484",176:"39949e8c5ff3af68d8a0",177:"7a9af258cdc3fafbb250",178:"a75cf29c9a9604a7c524",179:"9c7ae94903ac8e6dea21",180:"e4c10164ca11f03c7e1d",181:"6734b49e5056d26d40cd",182:"581be57ef715a77b82a5",183:"93aa9b44b9744aad2512",184:"33ce49cae725cba2c42c",185:"b05bdc5356e4d7569fcf",186:"5b47b9f6e1232bd02fd3",187:"2faa8ef605c92c4c175e",188:"3731c6fb9bf94ea4aba8",189:"68126f35b5a70c3ad7da",190:"c20cf041993557a16f6f",192:"82383516267655348013",195:"e80c003c24ad4690ae93",196:"045222c4aee00def9d8e",197:"e2a6fc72357f624d6cea"}[e]}(e);var h=new Error;a=function(t){c.onerror=c.onload=null,clearTimeout(f);var i=n[e];if(0!==i){if(i){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;h.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",h.name="ChunkLoadError",h.type=r,h.request=o,i[1](h)}n[e]=void 0}};var f=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(i,n,function(t){return e[t]}.bind(null,n));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/js/",r.oe=function(e){throw console.error(e),e};var o=window.textWebpackJsonp=window.textWebpackJsonp||[],a=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var h=a;r(r.s=37)}([function(e,t,i){"use strict";var n=i(6),r=i(18),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function h(e){return"[object Function]"===o.call(e)}function f(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:r,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:h,isStream:function(e){return c(e)&&h(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:f,merge:function e(){var t={};function i(i,n){"object"==typeof t[n]&&"object"==typeof i?t[n]=e(t[n],i):t[n]=i}for(var n=0,r=arguments.length;n<r;n++)f(arguments[n],i);return t},deepMerge:function e(){var t={};function i(i,n){"object"==typeof t[n]&&"object"==typeof i?t[n]=e(t[n],i):t[n]="object"==typeof i?e({},i):i}for(var n=0,r=arguments.length;n<r;n++)f(arguments[n],i);return t},extend:function(e,t,i){return f(t,(function(t,r){e[r]=i&&"function"==typeof t?n(t,i):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),i.d(t,"b",(function(){return n})),i.d(t,"c",(function(){return r}));
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var n=["text/markdown"],r=["text/plain","application/cmd","application/javascript","application/json","application/xml","application/x-empty","application/x-msdos-program","application/x-php","application/x-pearl","application/x-text","application/yaml"],o=[].concat(n,r)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRootUrl=function(){return OC.getRootPath()},t.generateUrl=function(e,t,i){return OC.generateUrl(e,t,i)},t.generateFilePath=function(e,t,i){return OC.filePath(e,t,i)},t.generateRemoteUrl=function(e){return OC.linkToRemote(e)},t.generateOcsUrl=function(e,t){return void 0===t&&(t=2),OC.linkToOCS(e,t)}},function(e,i,n){"use strict";n.d(i,"a",(function(){return f})),n.d(i,"b",(function(){return l})),n.d(i,"c",(function(){return s}));var r=n(14),o=n.n(r),a=n(2),c=n(1);function h(e,t,i,n,r,o,a){try{var c=e[o](a),h=c.value}catch(e){return void i(e)}c.done?t(h):Promise.resolve(h).then(n,r)}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */
var f=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,i){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()({method:"PROPFIND",url:Object(a.generateRemoteUrl)("dav/files/".concat(t).concat(i)),headers:{requesttoken:OC.requestToken,"content-Type":"text/xml"},data:'<?xml version="1.0"?>\n<d:propfind  xmlns:d="DAV:" xmlns:oc="http://owncloud.org/ns" xmlns:nc="http://nextcloud.org/ns" xmlns:ocs="http://open-collaboration-services.org/ns">\n  <d:prop>\n    <d:getlastmodified />\n    <d:getetag />\n    <d:getcontenttype />\n    <d:resourcetype />\n    <oc:fileid />\n    <oc:permissions />\n    <oc:size />\n    <d:getcontentlength />\n    <nc:has-preview />\n    <nc:mount-type />\n    <nc:is-encrypted />\n    <ocs:share-permissions />\n    <oc:tags />\n    <oc:favorite />\n    <oc:comments-unread />\n    <oc:owner-id />\n    <oc:owner-display-name />\n    <oc:share-types />\n  </d:prop>\n</d:propfind>'});case 2:return n=e.sent,r=OCA.Files.App.fileList.filesClient._client.parseMultiStatus(n.data),e.abrupt("return",r.map((function(e){var t=OCA.Files.App.fileList.filesClient._parseFileInfo(e);return t.href=e.href,t})));case 5:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,r){var o=e.apply(t,i);function a(e){h(o,n,r,a,c,"next",e)}function c(e){h(o,n,r,a,c,"throw",e)}a(void 0)}))});return function(e,i){return t.apply(this,arguments)}}(),s=function(){var e={attach:function(e){var i=e.fileList;"files"!==i.id&&"files.public"!==i.id||e.addMenuEntry({id:"file",displayName:t("text","New text document"),templateName:t("text","New text document.md"),iconClass:"icon-filetype-text",fileType:"file",actionHandler:function(e){i.createFile(e).then((function(e,t){var n=new OCA.Files.FileInfoModel(t);void 0!==OCA.Viewer?OCA.Files.fileActions.triggerAction("view",n,i):void 0===OCA.Viewer&&OCA.Files.fileActions.triggerAction("Edit with text app",n,i)}))}})}};OC.Plugins.register("OCA.Files.NewFileMenu",e)},l=function(){var e,i=document.getElementById("sharingToken")?document.getElementById("sharingToken").value:null,r=document.getElementById("dir").value;if(!i||""!==r){var o=document.createElement("div");o.id="text-viewer-fallback",document.body.appendChild(o);for(var a=0;a<c.a.length;a++)e=c.a[a],OCA.Files.fileActions.register(e,"Edit with text app",OC.PERMISSION_UPDATE|OC.PERMISSION_READ,OC.imagePath("core","actions/rename"),(function(e){var t=window.FileList.findFile(e);Promise.all([n.e(0).then(n.bind(null,15)),Promise.all([n.e(0),n.e(197),n.e(192)]).then(n.bind(null,34))]).then((function(n){var r=window.FileList.getCurrentDirectory()+"/"+e,a=n[0].default;a.prototype.t=window.t,a.prototype.n=window.n,a.prototype.OCA=window.OCA;var c=n[1].default;new a({render:function(e){return e(c,{props:{fileId:t?t.id:null,active:!0,shareToken:i,relativePath:r,mimeType:t.mimetype}})}}).$mount(o)}))}),t("text","Edit")),OCA.Files.fileActions.setDefault(c.a[a],"Edit with text app")}}},function(e,t,i){"use strict";var n={name:"FilesEditor",components:{EditorWrapper:function(){return Promise.all([i.e(0),i.e(195),i.e(187)]).then(i.bind(null,35))}},props:{davPath:{type:String,default:null},fileId:{type:Number,default:null},active:{type:Boolean,default:!1},shareToken:{type:String,default:null},mime:{type:String,default:null}},beforeMount:function(){void 0!==this.$parent.$parent&&this.$parent.$parent.onResize&&window.removeEventListener("resize",this.$parent.$parent.onResize)}},r=i(5),o=Object(r.a)(n,(function(){var e=this.$createElement;return(this._self._c||e)("editor-wrapper",{attrs:{"file-id":this.fileId,"relative-path":this.davPath,active:this.active,"share-token":this.shareToken,mime:this.mime}})}),[],!1,null,null,null);t.a=o.exports},function(e,t,i){"use strict";function n(e,t,i,n,r,o,a,c){var h,f="function"==typeof e?e.options:e;if(t&&(f.render=t,f.staticRenderFns=i,f._compiled=!0),n&&(f.functional=!0),o&&(f._scopeId="data-v-"+o),a?(h=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),r&&r.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},f._ssrRegister=h):r&&(h=c?function(){r.call(this,this.$root.$options.shadowRoot)}:r),h)if(f.functional){f._injectStyles=h;var s=f.render;f.render=function(e,t){return h.call(t),s(e,t)}}else{var l=f.beforeCreate;f.beforeCreate=l?[].concat(l,h):[h]}return{exports:e,options:f}}i.d(t,"a",(function(){return n}))},function(e,t,i){"use strict";e.exports=function(e,t){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return e.apply(t,i)}}},function(e,t,i){"use strict";var n=i(0);function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,i){if(!t)return e;var o;if(i)o=i(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(r(t)+"="+r(e))})))})),o=a.join("&")}if(o){var c=e.indexOf("#");-1!==c&&(e=e.slice(0,c)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,i){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,i){"use strict";(function(t){var n=i(0),r=i(23),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,h={adapter:(void 0!==t&&"[object process]"===Object.prototype.toString.call(t)?c=i(10):"undefined"!=typeof XMLHttpRequest&&(c=i(10)),c),transformRequest:[function(e,t){return r(t,"Accept"),r(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};h.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){h.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){h.headers[e]=n.merge(o)})),e.exports=h}).call(this,i(16))},function(e,t,i){"use strict";var n=i(0),r=i(24),o=i(7),a=i(26),c=i(27),h=i(11);e.exports=function(e){return new Promise((function(t,f){var s=e.data,l=e.headers;n.isFormData(s)&&delete l["Content-Type"];var u=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",g=e.auth.password||"";l.Authorization="Basic "+btoa(d+":"+g)}if(u.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,u.onreadystatechange=function(){if(u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in u?a(u.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:i,config:e,request:u};r(t,f,n),u=null}},u.onabort=function(){u&&(f(h("Request aborted",e,"ECONNABORTED",u)),u=null)},u.onerror=function(){f(h("Network Error",e,null,u)),u=null},u.ontimeout=function(){f(h("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",u)),u=null},n.isStandardBrowserEnv()){var p=i(28),b=(e.withCredentials||c(e.url))&&e.xsrfCookieName?p.read(e.xsrfCookieName):void 0;b&&(l[e.xsrfHeaderName]=b)}if("setRequestHeader"in u&&n.forEach(l,(function(e,t){void 0===s&&"content-type"===t.toLowerCase()?delete l[t]:u.setRequestHeader(t,e)})),e.withCredentials&&(u.withCredentials=!0),e.responseType)try{u.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){u&&(u.abort(),f(e),u=null)})),void 0===s&&(s=null),u.send(s)}))}},function(e,t,i){"use strict";var n=i(25);e.exports=function(e,t,i,r,o){var a=new Error(e);return n(a,t,i,r,o)}},function(e,t,i){"use strict";var n=i(0);e.exports=function(e,t){t=t||{};var i={};return n.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(i[e]=t[e])})),n.forEach(["headers","auth","proxy"],(function(r){n.isObject(t[r])?i[r]=n.deepMerge(e[r],t[r]):void 0!==t[r]?i[r]=t[r]:n.isObject(e[r])?i[r]=n.deepMerge(e[r]):void 0!==e[r]&&(i[r]=e[r])})),n.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(n){void 0!==t[n]?i[n]=t[n]:void 0!==e[n]&&(i[n]=e[n])})),i}},function(e,t,i){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},function(e,t,i){e.exports=i(17)},,function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var h,f=[],s=!1,l=-1;function u(){s&&h&&(s=!1,h.length?f=h.concat(f):l=-1,f.length&&d())}function d(){if(!s){var e=c(u);s=!0;for(var t=f.length;t;){for(h=f,f=[];++l<t;)h&&h[l].run();l=-1,t=f.length}h=null,s=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new g(e,t)),1!==f.length||s||c(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){"use strict";var n=i(0),r=i(6),o=i(19),a=i(12);function c(e){var t=new o(e),i=r(o.prototype.request,t);return n.extend(i,o.prototype,t),n.extend(i,t),i}var h=c(i(9));h.Axios=o,h.create=function(e){return c(a(h.defaults,e))},h.Cancel=i(13),h.CancelToken=i(31),h.isCancel=i(8),h.all=function(e){return Promise.all(e)},h.spread=i(32),e.exports=h,e.exports.default=h},function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},function(e,t,i){"use strict";var n=i(0),r=i(7),o=i(20),a=i(21),c=i(12);function h(e){this.defaults=e,this.interceptors={request:new o,response:new o}}h.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=c(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[a,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)i=i.then(t.shift(),t.shift());return i},h.prototype.getUri=function(e){return e=c(this.defaults,e),r(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,i){return this.request(n.merge(i||{},{method:e,url:t}))}})),n.forEach(["post","put","patch"],(function(e){h.prototype[e]=function(t,i,r){return this.request(n.merge(r||{},{method:e,url:t,data:i}))}})),e.exports=h},function(e,t,i){"use strict";var n=i(0);function r(){this.handlers=[]}r.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},r.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},r.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=r},function(e,t,i){"use strict";var n=i(0),r=i(22),o=i(8),a=i(9),c=i(29),h=i(30);function f(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return f(e),e.baseURL&&!c(e.url)&&(e.url=h(e.baseURL,e.url)),e.headers=e.headers||{},e.data=r(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return f(e),t.data=r(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(f(e),t&&t.response&&(t.response.data=r(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,i){"use strict";var n=i(0);e.exports=function(e,t,i){return n.forEach(i,(function(i){e=i(e,t)})),e}},function(e,t,i){"use strict";var n=i(0);e.exports=function(e,t){n.forEach(e,(function(i,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[n])}))}},function(e,t,i){"use strict";var n=i(11);e.exports=function(e,t,i){var r=i.config.validateStatus;!r||r(i.status)?e(i):t(n("Request failed with status code "+i.status,i.config,null,i.request,i))}},function(e,t,i){"use strict";e.exports=function(e,t,i,n,r){return e.config=t,i&&(e.code=i),e.request=n,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,i){"use strict";var n=i(0),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,i,o,a={};return e?(n.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),i=n.trim(e.substr(o+1)),t){if(a[t]&&r.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([i]):a[t]?a[t]+", "+i:i}})),a):a}},function(e,t,i){"use strict";var n=i(0);e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(e){var n=e;return t&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return e=r(window.location.href),function(t){var i=n.isString(t)?r(t):t;return i.protocol===e.protocol&&i.host===e.host}}():function(){return!0}},function(e,t,i){"use strict";var n=i(0);e.exports=n.isStandardBrowserEnv()?{write:function(e,t,i,r,o,a){var c=[];c.push(e+"="+encodeURIComponent(t)),n.isNumber(i)&&c.push("expires="+new Date(i).toGMTString()),n.isString(r)&&c.push("path="+r),n.isString(o)&&c.push("domain="+o),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,i){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,i){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,i){"use strict";var n=i(13);function r(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var i=this;e((function(e){i.reason||(i.reason=new n(e),t(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.source=function(){var e;return{token:new r((function(t){e=t})),cancel:e}},e.exports=r},function(e,t,i){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},,,,,function(e,t,i){"use strict";i.r(t);var n=i(4),r=i(3),o=i(1);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}
/*
 * @copyright Copyright (c) 2019 Julius Härtl <jus@bitgrid.net>
 *
 * @author Julius Härtl <jus@bitgrid.net>
 *
 * @license GNU AGPL version 3 or any later version
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with this program. If not, see <http://www.gnu.org/licenses/>.
 *
 */(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i.nc=btoa(OC.requestToken),i.p=OC.linkTo("text","js/"),Object(r.c)(),document.addEventListener("DOMContentLoaded",(function(){if(void 0===OCA.Viewer)return console.error("Viewer app is not installed"),void Object(r.b)();OCA.Viewer.registerHandler({id:"text",mimes:[].concat(a(o.b),a(o.c)),component:n.a,group:null})})),OCA.Text={Editor:n.a}}]);
//# sourceMappingURL=files.js.map