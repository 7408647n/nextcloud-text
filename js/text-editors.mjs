const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk2.mjs'),window.OC.filePath('text', '', 'js/RichText.chunk.mjs'),window.OC.filePath('text', '', 'js/NcUserBubble-DMjZyrGY.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-BLPU1den.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk4.mjs'),window.OC.filePath('text', '', 'css/text-NcNoteCard-BLPU1den.chunk.css'),window.OC.filePath('text', '', 'js/index.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk3.mjs'),window.OC.filePath('text', '', 'js/index.chunk5.mjs'),window.OC.filePath('text', '', 'css/text-NcUserBubble-DMjZyrGY.chunk.css'),window.OC.filePath('text', '', 'js/MediaHandler.provider.chunk.mjs'),window.OC.filePath('text', '', 'js/logger.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer.chunk.mjs'),window.OC.filePath('text', '', 'css/text-RichText.chunk.css'),window.OC.filePath('text', '', 'css/text-Wrapper.chunk.css'),window.OC.filePath('text', '', 'css/text-MarkdownContentEditor.chunk.css'),window.OC.filePath('text', '', 'js/Editor.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules.chunk.mjs'),window.OC.filePath('text', '', 'css/text-Editor.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var _=n=>{throw TypeError(n)};var y=(n,t,e)=>t.has(n)||_("Cannot "+e);var o=(n,t,e)=>(y(n,t,"read from private field"),e?e.call(n):t.get(n)),O=(n,t,e)=>t.has(n)?_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),v=(n,t,e,a)=>(y(n,t,"write to private field"),a?a.call(n,e):t.set(n,e),e),l=(n,t,e)=>(y(n,t,"access private method"),e);import{_ as g}from"./modulepreload-polyfill.chunk.mjs";import{V as w}from"./vue.runtime.esm.chunk.mjs";import{s as V}from"./index.chunk.mjs";import{A as R,E as H,H as U,a as B,b as D}from"./MediaHandler.provider.chunk.mjs";import"./emoji-picker.chunk.mjs";import"./index.chunk2.mjs";import"./index.chunk3.mjs";import"./logger.chunk.mjs";import"./index.chunk5.mjs";const F="1.1";w.prototype.t=window.t,w.prototype.n=window.n,w.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,d,s,c,A;class N{constructor(t,e){O(this,s);O(this,r);O(this,d);return v(this,r,t),v(this,d,e),l(this,s,A).call(this),this}onLoaded(t=()=>{}){return o(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return o(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return o(this,r).$on("outline-toggled",e=>{t(e)}),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),o(this,r).$mount(e),this}destroy(){o(this,r).$destroy(),o(this,r).$el.innerHTML=""}setContent(t){var e,a;return o(this,r).$set(o(this,d),"content",t),(a=(e=l(this,s,c).call(this))==null?void 0:e.setContent)==null||a.call(e,t),this}async save(){var t,e;return(e=(t=l(this,s,c).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return o(this,r).$set(o(this,d),"showOutlineOutside",t),this}setReadOnly(t){return o(this,r).$set(o(this,d),"readOnly",t),this}insertAtCursor(t){l(this,s,c).call(this).$editor.chain().insertContent(t).focus().run()}focus(){l(this,s,c).call(this).$editor.commands.focus()}}r=new WeakMap,d=new WeakMap,s=new WeakSet,c=function(){return o(this,r).$children[0]},A=function(){var t;window!=null&&window._oc_debug&&(this.vm=o(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=F,window.OCA.Text.createEditor=async function({el:n,fileId:t=void 0,useSession:e=!0,filePath:a=void 0,shareToken:T=null,content:C="",readOnly:$=!1,autofocus:x=!0,readonlyBar:h={component:null,props:null},onLoaded:b=()=>{},onUpdate:I=({markdown:f})=>{},onOutlineToggle:E=f=>{},onFileInsert:L=void 0,onMentionSearch:k=void 0,onMentionInsert:M=void 0}){const{default:f}=await g(async()=>{const{default:i}=await import("./MarkdownContentEditor.chunk.mjs");return{default:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url),{default:P}=await g(async()=>{const{default:i}=await import("./Editor.chunk.mjs").then(p=>p.b);return{default:i}},__vite__mapDeps([21,7,8,2,3,9,4,5,6,10,11,12,13,14,15,16,17,18,1,19,22,23]),import.meta.url),u=w.observable({showOutlineOutside:!1,readOnly:$,content:C}),m=t&&e,S=new w({provide(){return{[R]:L,[H]:!!m,[U]:m?!0:k,[B]:m?!0:M,[D]:{resolve(i,p){return[{type:"image",url:i}]}}}},data(){return u},render:i=>{const p=h!=null&&h.component?{readonlyBar:()=>i(h.component,{props:h.props})}:{};return m?i(P,{props:{fileId:t,relativePath:a,shareToken:T,mime:"text/markdown",active:!0,autofocus:x,showOutlineOutside:u.showOutlineOutside},scopedSlots:p}):i(f,{props:{fileId:t,content:u.content,relativePath:a,shareToken:T,readOnly:u.readOnly,showOutlineOutside:u.showOutlineOutside},scopedSlots:p})},store:V});return new N(S,u).onLoaded(b).onUpdate(I).onOutlineToggle(E).render(n)};
