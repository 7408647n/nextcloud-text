const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk2.mjs'),window.OC.filePath('text', '', 'js/RichText.chunk.mjs'),window.OC.filePath('text', '', 'js/NcUserBubble-DMjZyrGY.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-BLPU1den.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk4.mjs'),window.OC.filePath('text', '', 'css/text-NcNoteCard-BLPU1den.chunk.css'),window.OC.filePath('text', '', 'js/index.chunk.mjs'),window.OC.filePath('text', '', 'js/index.chunk3.mjs'),window.OC.filePath('text', '', 'js/index.chunk5.mjs'),window.OC.filePath('text', '', 'css/text-NcUserBubble-DMjZyrGY.chunk.css'),window.OC.filePath('text', '', 'js/MediaHandler.provider.chunk.mjs'),window.OC.filePath('text', '', 'js/logger.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer.chunk.mjs'),window.OC.filePath('text', '', 'css/text-RichText.chunk.css'),window.OC.filePath('text', '', 'css/text-Wrapper.chunk.css'),window.OC.filePath('text', '', 'css/text-MarkdownContentEditor.chunk.css'),window.OC.filePath('text', '', 'js/Editor.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules.chunk.mjs'),window.OC.filePath('text', '', 'js/es.string.replace.chunk.mjs'),window.OC.filePath('text', '', 'css/text-Editor.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var _=o=>{throw TypeError(o)};var y=(o,t,e)=>t.has(o)||_("Cannot "+e);var n=(o,t,e)=>(y(o,t,"read from private field"),e?e.call(o):t.get(o)),m=(o,t,e)=>t.has(o)?_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(o):t.set(o,e),v=(o,t,e,d)=>(y(o,t,"write to private field"),d?d.call(o,e):t.set(o,e),e),l=(o,t,e)=>(y(o,t,"access private method"),e);import{_ as g}from"./modulepreload-polyfill.chunk.mjs";import{V as c}from"./vue.runtime.esm.chunk.mjs";import{s as V}from"./index.chunk.mjs";import{A as R,E as H,H as U,a as B,b as D}from"./MediaHandler.provider.chunk.mjs";import"./emoji-picker.chunk.mjs";import"./index.chunk2.mjs";import"./index.chunk3.mjs";import"./logger.chunk.mjs";import"./index.chunk5.mjs";const F="1.1";c.prototype.t=window.t,c.prototype.n=window.n,c.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,a,s,p,A;class N{constructor(t,e){m(this,s);m(this,r);m(this,a);return v(this,r,t),v(this,a,e),l(this,s,A).call(this),this}onLoaded(t=()=>{}){return n(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return n(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return n(this,r).$on("outline-toggled",e=>{t(e)}),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),n(this,r).$mount(e),this}destroy(){n(this,r).$destroy(),n(this,r).$el.innerHTML=""}setContent(t){var e,d;return n(this,r).$set(n(this,a),"content",t),(d=(e=l(this,s,p).call(this))==null?void 0:e.setContent)==null||d.call(e,t),this}async save(){var t,e;return(e=(t=l(this,s,p).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return n(this,r).$set(n(this,a),"showOutlineOutside",t),this}setReadOnly(t){return n(this,r).$set(n(this,a),"readOnly",t),this}insertAtCursor(t){l(this,s,p).call(this).$editor.chain().insertContent(t).focus().run()}focus(){l(this,s,p).call(this).$editor.commands.focus()}}r=new WeakMap,a=new WeakMap,s=new WeakSet,p=function(){return n(this,r).$children[0]},A=function(){var t;window!=null&&window._oc_debug&&(this.vm=n(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=F,window.OCA.Text.createEditor=async function({el:o,fileId:t=void 0,useSession:e=!0,filePath:d=void 0,shareToken:T=null,content:C="",readOnly:$=!1,autofocus:x=!0,readonlyBar:h={component:null,props:null},onLoaded:I=()=>{},onUpdate:b=({markdown:O})=>{},onOutlineToggle:E=O=>{},onFileInsert:L=void 0,onMentionSearch:k=void 0,onMentionInsert:M=void 0}){const{default:O}=await g(async()=>{const{default:i}=await import("./MarkdownContentEditor.chunk.mjs");return{default:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url),{default:P}=await g(async()=>{const{default:i}=await import("./Editor.chunk.mjs");return{default:i}},__vite__mapDeps([21,7,8,2,3,9,4,5,6,10,11,12,13,14,15,16,17,18,1,19,22,23,24]),import.meta.url),u=c.observable({showOutlineOutside:!1,readOnly:$,content:C}),w=t&&e,S=new c({provide(){return{[R]:L,[H]:!!w,[U]:w?!0:k,[B]:w?!0:M,[D]:{resolve(i,f){return[{type:"image",url:i}]}}}},data(){return u},render:i=>{const f=h!=null&&h.component?{readonlyBar:()=>i(h.component,{props:h.props})}:{};return w?i(P,{props:{fileId:t,relativePath:d,shareToken:T,mime:"text/markdown",active:!0,autofocus:x,showOutlineOutside:u.showOutlineOutside},scopedSlots:f}):i(O,{props:{fileId:t,content:u.content,relativePath:d,shareToken:T,readOnly:u.readOnly,showOutlineOutside:u.showOutlineOutside},scopedSlots:f})},store:V});return new N(S,u).onLoaded(I).onUpdate(b).onOutlineToggle(E).render(o)};
