const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=[window.OC.filePath('text', '', 'js/MarkdownContentEditor-hWyoqBfV.chunk.mjs'),window.OC.filePath('text', '', 'js/Wrapper-DqKp5Hrz.chunk.mjs'),window.OC.filePath('text', '', 'js/vue.runtime.esm-B--K2CPi.chunk.mjs'),window.OC.filePath('text', '', 'js/index-vg7q3Iku.chunk.mjs'),window.OC.filePath('text', '', 'js/RichText-DgAUhlRI.chunk.mjs'),window.OC.filePath('text', '', 'js/NcUserBubble-Cv-q-rH5-J_oc7qSf.chunk.mjs'),window.OC.filePath('text', '', 'js/NcNoteCard-CImn6F9p-DUtUByap.chunk.mjs'),window.OC.filePath('text', '', 'js/modulepreload-polyfill-BV4VlZ1o.chunk.mjs'),window.OC.filePath('text', '', 'js/emoji-picker-I9E7i3AY.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Ubm2itxG.chunk.mjs'),window.OC.filePath('text', '', 'css/NcNoteCard-CImn6F9p-DRHbZemr.chunk.css'),window.OC.filePath('text', '', 'js/index-BvWDGREV.chunk.mjs'),window.OC.filePath('text', '', 'js/index-Dog7X3a6.chunk.mjs'),window.OC.filePath('text', '', 'js/index-UmbwO-28.chunk.mjs'),window.OC.filePath('text', '', 'css/NcUserBubble-Cv-q-rH5-BYq5wWTa.chunk.css'),window.OC.filePath('text', '', 'js/MediaHandler.provider-D-YH1kh0.chunk.mjs'),window.OC.filePath('text', '', 'js/logger-BVmsFChG.chunk.mjs'),window.OC.filePath('text', '', 'js/_plugin-vue2_normalizer-BWKvF6pj.chunk.mjs'),window.OC.filePath('text', '', 'css/RichText-CRlZObVv.chunk.css'),window.OC.filePath('text', '', 'css/Wrapper-BfLQoXX6.chunk.css'),window.OC.filePath('text', '', 'css/MarkdownContentEditor-B_SY1GJM.chunk.css'),window.OC.filePath('text', '', 'js/Editor-BThH1mLG.chunk.mjs'),window.OC.filePath('text', '', 'js/_commonjs-dynamic-modules-CSduYUN4.chunk.mjs'),window.OC.filePath('text', '', 'css/Editor-DUgXBJQZ.chunk.css')])))=>i.map(i=>d[i]);
/*! third party licenses: js/vendor.LICENSE.txt */
var _=n=>{throw TypeError(n)};var y=(n,t,e)=>t.has(n)||_("Cannot "+e);var o=(n,t,e)=>(y(n,t,"read from private field"),e?e.call(n):t.get(n)),O=(n,t,e)=>t.has(n)?_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,e),v=(n,t,e,a)=>(y(n,t,"write to private field"),a?a.call(n,e):t.set(n,e),e),l=(n,t,e)=>(y(n,t,"access private method"),e);import{_ as g}from"./modulepreload-polyfill-BV4VlZ1o.chunk.mjs";import{V as w}from"./vue.runtime.esm-B--K2CPi.chunk.mjs";import{s as V}from"./index-BvWDGREV.chunk.mjs";import{A as R,E as H,H as U,a as B,b as D}from"./MediaHandler.provider-D-YH1kh0.chunk.mjs";import"./emoji-picker-I9E7i3AY.chunk.mjs";import"./index-vg7q3Iku.chunk.mjs";import"./index-Dog7X3a6.chunk.mjs";import"./logger-BVmsFChG.chunk.mjs";import"./index-UmbwO-28.chunk.mjs";const F="1.1";w.prototype.t=window.t,w.prototype.n=window.n,w.prototype.OCA=window.OCA,window.OCA.Text={...window.OCA.Text};var r,d,s,c,A;class N{constructor(t,e){O(this,s);O(this,r);O(this,d);return v(this,r,t),v(this,d,e),l(this,s,A).call(this),this}onLoaded(t=()=>{}){return o(this,r).$on("ready",()=>{t()}),this}onUpdate(t=()=>{}){return o(this,r).$on("update:content",e=>{t(e)}),this}onOutlineToggle(t=()=>{}){return o(this,r).$on("outline-toggled",e=>{t(e)}),this}render(t){t.innerHTML="";const e=document.createElement("div");return t.appendChild(e),o(this,r).$mount(e),this}destroy(){o(this,r).$destroy(),o(this,r).$el.innerHTML=""}setContent(t){var e,a;return o(this,r).$set(o(this,d),"content",t),(a=(e=l(this,s,c).call(this))==null?void 0:e.setContent)==null||a.call(e,t),this}async save(){var t,e;return(e=(t=l(this,s,c).call(this)).save)==null?void 0:e.call(t)}setShowOutline(t){return o(this,r).$set(o(this,d),"showOutlineOutside",t),this}setReadOnly(t){return o(this,r).$set(o(this,d),"readOnly",t),this}insertAtCursor(t){l(this,s,c).call(this).$editor.chain().insertContent(t).focus().run()}focus(){l(this,s,c).call(this).$editor.commands.focus()}}r=new WeakMap,d=new WeakMap,s=new WeakSet,c=function(){return o(this,r).$children[0]},A=function(){var t;window!=null&&window._oc_debug&&(this.vm=o(this,r),window.OCA.Text._debug=[...(t=window.OCA.Text._debug)!=null?t:[],this])};window.OCA.Text.apiVersion=F,window.OCA.Text.createEditor=async function({el:n,fileId:t=void 0,useSession:e=!0,filePath:a=void 0,shareToken:T=null,content:C="",readOnly:$=!1,autofocus:x=!0,readonlyBar:h={component:null,props:null},onLoaded:b=()=>{},onUpdate:I=({markdown:f})=>{},onOutlineToggle:E=f=>{},onFileInsert:L=void 0,onMentionSearch:k=void 0,onMentionInsert:M=void 0}){const{default:f}=await g(async()=>{const{default:i}=await import("./MarkdownContentEditor-hWyoqBfV.chunk.mjs");return{default:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),import.meta.url),{default:P}=await g(async()=>{const{default:i}=await import("./Editor-BThH1mLG.chunk.mjs").then(p=>p.b);return{default:i}},__vite__mapDeps([21,7,8,2,3,9,4,5,6,10,11,12,13,14,15,16,17,18,1,19,22,23]),import.meta.url),u=w.observable({showOutlineOutside:!1,readOnly:$,content:C}),m=t&&e,S=new w({provide(){return{[R]:L,[H]:!!m,[U]:m?!0:k,[B]:m?!0:M,[D]:{resolve(i,p){return[{type:"image",url:i}]}}}},data(){return u},render:i=>{const p=h!=null&&h.component?{readonlyBar:()=>i(h.component,{props:h.props})}:{};return m?i(P,{props:{fileId:t,relativePath:a,shareToken:T,mime:"text/markdown",active:!0,autofocus:x,showOutlineOutside:u.showOutlineOutside},scopedSlots:p}):i(f,{props:{fileId:t,content:u.content,relativePath:a,shareToken:T,readOnly:u.readOnly,showOutlineOutside:u.showOutlineOutside},scopedSlots:p})},store:V});return new N(S,u).onLoaded(b).onUpdate(I).onOutlineToggle(E).render(n)};
