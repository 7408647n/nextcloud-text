/*! third party licenses: js/vendor.LICENSE.txt */
var vr=Object.defineProperty;var yr=(u,a,g)=>a in u?vr(u,a,{enumerable:!0,configurable:!0,writable:!0,value:g}):u[a]=g;var Rt=(u,a,g)=>yr(u,typeof a!="symbol"?a+"":a,g);import{p as Mt,l as Ee,c as wr,a as Er}from"./modulepreload-polyfill-BV4VlZ1o.chunk.mjs";import{g as br}from"./index-UmbwO-28.chunk.mjs";import{i as be,g as Nr,p as It}from"./_plugin-vue2_normalizer-Ds4SJl6Q-DQicnQZ3.chunk.mjs";import{U as xr}from"./index-C2LDH5Ba.chunk.mjs";import{g as qt}from"./vue.runtime.esm-DexIh3sa.chunk.mjs";import{U as Or,T as un}from"./NcNoteCard-CImn6F9p-Cqtx687c.chunk.mjs";function Ar(u){return u&&u.split("/").map(encodeURIComponent).join("/")}function Tt(u,a,g){return a in u?Object.defineProperty(u,a,{value:g,enumerable:!0,configurable:!0,writable:!0}):u[a]=g,u}function tn(u,a,g){Rr(u,a),a.set(u,g)}function Rr(u,a){if(a.has(u))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(u,a){var g=cn(u,a,"get");return Tr(u,g)}function Tr(u,a){return a.get?a.get.call(u):a.value}function en(u,a,g){var x=cn(u,a,"set");return Pr(u,x,g),g}function cn(u,a,g){if(!a.has(u))throw new TypeError("attempted to "+g+" private field on non-instance");return a.get(u)}function Pr(u,a,g){if(a.set)a.set.call(u,g);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=g}}var Lr=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",dt=new WeakMap,kt=new WeakMap;class Yt{constructor(a){var{executor:g=()=>{},internals:x=xe(),promise:N=new Promise((T,O)=>g(T,O,v=>{x.onCancelList.push(v)}))}=a;tn(this,dt,{writable:!0,value:void 0}),tn(this,kt,{writable:!0,value:void 0}),Tt(this,Lr,"CancelablePromise"),this.cancel=this.cancel.bind(this),en(this,dt,x),en(this,kt,N||new Promise((T,O)=>g(T,O,v=>{x.onCancelList.push(v)})))}then(a,g){return Kt(pt(this,kt).then(Ht(a,pt(this,dt)),Ht(g,pt(this,dt))),pt(this,dt))}catch(a){return Kt(pt(this,kt).catch(Ht(a,pt(this,dt))),pt(this,dt))}finally(a,g){return g&&pt(this,dt).onCancelList.push(a),Kt(pt(this,kt).finally(Ht(()=>{if(a)return g&&(pt(this,dt).onCancelList=pt(this,dt).onCancelList.filter(x=>x!==a)),a()},pt(this,dt))),pt(this,dt))}cancel(){pt(this,dt).isCanceled=!0;var a=pt(this,dt).onCancelList;pt(this,dt).onCancelList=[];for(var g of a)if(typeof g=="function")try{g()}catch(x){console.error(x)}}isCanceled(){return pt(this,dt).isCanceled===!0}}class At extends Yt{constructor(a){super({executor:a})}}Tt(At,"all",function(u){return Zt(u,Promise.all(u))}),Tt(At,"allSettled",function(u){return Zt(u,Promise.allSettled(u))}),Tt(At,"any",function(u){return Zt(u,Promise.any(u))}),Tt(At,"race",function(u){return Zt(u,Promise.race(u))}),Tt(At,"resolve",function(u){return nn(Promise.resolve(u))}),Tt(At,"reject",function(u){return nn(Promise.reject(u))}),Tt(At,"isCancelable",Ne);function nn(u){return Kt(u,xe())}function Ne(u){return u instanceof At||u instanceof Yt}function Ht(u,a){if(u)return g=>{if(!a.isCanceled){var x=u(g);return Ne(x)&&a.onCancelList.push(x.cancel),x}return g}}function Kt(u,a){return new Yt({internals:a,promise:u})}function Zt(u,a){var g=xe();return g.onCancelList.push(()=>{for(var x of u)Ne(x)&&x.cancel()}),new Yt({internals:g,promise:a})}function xe(){return{isCanceled:!1,onCancelList:[]}}var me={},Ir={2:u=>{function a(N,T,O){N instanceof RegExp&&(N=g(N,O)),T instanceof RegExp&&(T=g(T,O));var v=x(N,T,O);return v&&{start:v[0],end:v[1],pre:O.slice(0,v[0]),body:O.slice(v[0]+N.length,v[1]),post:O.slice(v[1]+T.length)}}function g(N,T){var O=T.match(N);return O?O[0]:null}function x(N,T,O){var v,m,o,s,p,i=O.indexOf(N),l=O.indexOf(T,i+1),h=i;if(i>=0&&l>0){for(v=[],o=O.length;h>=0&&!p;)h==i?(v.push(h),i=O.indexOf(N,h+1)):v.length==1?p=[v.pop(),l]:((m=v.pop())<o&&(o=m,s=l),l=O.indexOf(T,h+1)),h=i<l&&i>=0?i:l;v.length&&(p=[o,s])}return p}u.exports=a,a.range=x},101:function(u,a,g){var x;u=g.nmd(u),function(N){var T=(u&&u.exports,typeof qt=="object"&&qt);T.global!==T&&T.window;var O=function(p){this.message=p};(O.prototype=new Error).name="InvalidCharacterError";var v=function(p){throw new O(p)},m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=/[\t\n\f\r ]/g,s={encode:function(p){p=String(p),/[^\0-\xFF]/.test(p)&&v("The string to be encoded contains characters outside of the Latin1 range.");for(var i,l,h,w,R=p.length%3,S="",d=-1,E=p.length-R;++d<E;)i=p.charCodeAt(d)<<16,l=p.charCodeAt(++d)<<8,h=p.charCodeAt(++d),S+=m.charAt((w=i+l+h)>>18&63)+m.charAt(w>>12&63)+m.charAt(w>>6&63)+m.charAt(63&w);return R==2?(i=p.charCodeAt(d)<<8,l=p.charCodeAt(++d),S+=m.charAt((w=i+l)>>10)+m.charAt(w>>4&63)+m.charAt(w<<2&63)+"="):R==1&&(w=p.charCodeAt(d),S+=m.charAt(w>>2)+m.charAt(w<<4&63)+"=="),S},decode:function(p){var i=(p=String(p).replace(o,"")).length;i%4==0&&(i=(p=p.replace(/==?$/,"")).length),(i%4==1||/[^+a-zA-Z0-9/]/.test(p))&&v("Invalid character: the string to be decoded is not correctly encoded.");for(var l,h,w=0,R="",S=-1;++S<i;)h=m.indexOf(p.charAt(S)),l=w%4?64*l+h:h,w++%4&&(R+=String.fromCharCode(255&l>>(-2*w&6)));return R},version:"1.0.0"};(x=(function(){return s}).call(a,g,a,u))===void 0||(u.exports=x)}()},172:(u,a)=>{a.d=function(g){if(!g)return 0;for(var x=(g=g.toString()).length,N=g.length;N--;){var T=g.charCodeAt(N);56320<=T&&T<=57343&&N--,127<T&&T<=2047?x++:2047<T&&T<=65535&&(x+=2)}return x}},526:u=>{var a={utf8:{stringToBytes:function(g){return a.bin.stringToBytes(unescape(encodeURIComponent(g)))},bytesToString:function(g){return decodeURIComponent(escape(a.bin.bytesToString(g)))}},bin:{stringToBytes:function(g){for(var x=[],N=0;N<g.length;N++)x.push(255&g.charCodeAt(N));return x},bytesToString:function(g){for(var x=[],N=0;N<g.length;N++)x.push(String.fromCharCode(g[N]));return x.join("")}}};u.exports=a},298:u=>{var a,g;a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g={rotl:function(x,N){return x<<N|x>>>32-N},rotr:function(x,N){return x<<32-N|x>>>N},endian:function(x){if(x.constructor==Number)return 16711935&g.rotl(x,8)|4278255360&g.rotl(x,24);for(var N=0;N<x.length;N++)x[N]=g.endian(x[N]);return x},randomBytes:function(x){for(var N=[];x>0;x--)N.push(Math.floor(256*Math.random()));return N},bytesToWords:function(x){for(var N=[],T=0,O=0;T<x.length;T++,O+=8)N[O>>>5]|=x[T]<<24-O%32;return N},wordsToBytes:function(x){for(var N=[],T=0;T<32*x.length;T+=8)N.push(x[T>>>5]>>>24-T%32&255);return N},bytesToHex:function(x){for(var N=[],T=0;T<x.length;T++)N.push((x[T]>>>4).toString(16)),N.push((15&x[T]).toString(16));return N.join("")},hexToBytes:function(x){for(var N=[],T=0;T<x.length;T+=2)N.push(parseInt(x.substr(T,2),16));return N},bytesToBase64:function(x){for(var N=[],T=0;T<x.length;T+=3)for(var O=x[T]<<16|x[T+1]<<8|x[T+2],v=0;v<4;v++)8*T+6*v<=8*x.length?N.push(a.charAt(O>>>6*(3-v)&63)):N.push("=");return N.join("")},base64ToBytes:function(x){x=x.replace(/[^A-Z0-9+\/]/gi,"");for(var N=[],T=0,O=0;T<x.length;O=++T%4)O!=0&&N.push((a.indexOf(x.charAt(T-1))&Math.pow(2,-2*O+8)-1)<<2*O|a.indexOf(x.charAt(T))>>>6-2*O);return N}},u.exports=g},635:(u,a,g)=>{const x=g(31),N=g(338),T=g(221);u.exports={XMLParser:N,XMLValidator:x,XMLBuilder:T}},705:(u,a)=>{const g=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x="["+g+"]["+g+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",N=new RegExp("^"+x+"$");a.isExist=function(T){return T!==void 0},a.isEmptyObject=function(T){return Object.keys(T).length===0},a.merge=function(T,O,v){if(O){const m=Object.keys(O),o=m.length;for(let s=0;s<o;s++)T[m[s]]=v==="strict"?[O[m[s]]]:O[m[s]]}},a.getValue=function(T){return a.isExist(T)?T:""},a.isName=function(T){return N.exec(T)!=null},a.getAllMatches=function(T,O){const v=[];let m=O.exec(T);for(;m;){const o=[];o.startIndex=O.lastIndex-m[0].length;const s=m.length;for(let p=0;p<s;p++)o.push(m[p]);v.push(o),m=O.exec(T)}return v},a.nameRegexp=x},31:(u,a,g)=>{const x=g(705),N={allowBooleanAttributes:!1,unpairedTags:[]};function T(d){return d===" "||d==="	"||d==="\n"||d==="\r"}function O(d,E){const P=E;for(;E<d.length;E++)if(!(d[E]!="?"&&d[E]!=" ")){const y=d.substr(P,E-P);if(E>5&&y==="xml")return h("InvalidXml","XML declaration allowed only at the start of the document.",R(d,E));if(d[E]=="?"&&d[E+1]==">"){E++;break}}return E}function v(d,E){if(d.length>E+5&&d[E+1]==="-"&&d[E+2]==="-"){for(E+=3;E<d.length;E++)if(d[E]==="-"&&d[E+1]==="-"&&d[E+2]===">"){E+=2;break}}else if(d.length>E+8&&d[E+1]==="D"&&d[E+2]==="O"&&d[E+3]==="C"&&d[E+4]==="T"&&d[E+5]==="Y"&&d[E+6]==="P"&&d[E+7]==="E"){let P=1;for(E+=8;E<d.length;E++)if(d[E]==="<")P++;else if(d[E]===">"&&(P--,P===0))break}else if(d.length>E+9&&d[E+1]==="["&&d[E+2]==="C"&&d[E+3]==="D"&&d[E+4]==="A"&&d[E+5]==="T"&&d[E+6]==="A"&&d[E+7]==="["){for(E+=8;E<d.length;E++)if(d[E]==="]"&&d[E+1]==="]"&&d[E+2]===">"){E+=2;break}}return E}a.validate=function(d,E){E=Object.assign({},N,E);const P=[];let y=!1,_=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let I=0;I<d.length;I++)if(d[I]==="<"&&d[I+1]==="?"){if(I+=2,I=O(d,I),I.err)return I}else{if(d[I]!=="<"){if(T(d[I]))continue;return h("InvalidChar","char '"+d[I]+"' is not expected.",R(d,I))}{let F=I;if(I++,d[I]==="!"){I=v(d,I);continue}{let G=!1;d[I]==="/"&&(G=!0,I++);let k="";for(;I<d.length&&d[I]!==">"&&d[I]!==" "&&d[I]!=="	"&&d[I]!=="\n"&&d[I]!=="\r";I++)k+=d[I];if(k=k.trim(),k[k.length-1]==="/"&&(k=k.substring(0,k.length-1),I--),L=k,!x.isName(L)){let V;return V=k.trim().length===0?"Invalid space after '<'.":"Tag '"+k+"' is an invalid name.",h("InvalidTag",V,R(d,I))}const M=s(d,I);if(M===!1)return h("InvalidAttr","Attributes for '"+k+"' have open quote.",R(d,I));let j=M.value;if(I=M.index,j[j.length-1]==="/"){const V=I-j.length;j=j.substring(0,j.length-1);const J=i(j,E);if(J!==!0)return h(J.err.code,J.err.msg,R(d,V+J.err.line));y=!0}else if(G){if(!M.tagClosed)return h("InvalidTag","Closing tag '"+k+"' doesn't have proper closing.",R(d,I));if(j.trim().length>0)return h("InvalidTag","Closing tag '"+k+"' can't have attributes or invalid starting.",R(d,F));{const V=P.pop();if(k!==V.tagName){let J=R(d,V.tagStartPos);return h("InvalidTag","Expected closing tag '"+V.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+k+"'.",R(d,F))}P.length==0&&(_=!0)}}else{const V=i(j,E);if(V!==!0)return h(V.err.code,V.err.msg,R(d,I-j.length+V.err.line));if(_===!0)return h("InvalidXml","Multiple possible root nodes found.",R(d,I));E.unpairedTags.indexOf(k)!==-1||P.push({tagName:k,tagStartPos:F}),y=!0}for(I++;I<d.length;I++)if(d[I]==="<"){if(d[I+1]==="!"){I++,I=v(d,I);continue}if(d[I+1]!=="?")break;if(I=O(d,++I),I.err)return I}else if(d[I]==="&"){const V=l(d,I);if(V==-1)return h("InvalidChar","char '&' is not expected.",R(d,I));I=V}else if(_===!0&&!T(d[I]))return h("InvalidXml","Extra text at the end",R(d,I));d[I]==="<"&&I--}}}var L;return y?P.length==1?h("InvalidTag","Unclosed tag '"+P[0].tagName+"'.",R(d,P[0].tagStartPos)):!(P.length>0)||h("InvalidXml","Invalid '"+JSON.stringify(P.map(I=>I.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):h("InvalidXml","Start tag expected.",1)};const m='"',o="'";function s(d,E){let P="",y="",_=!1;for(;E<d.length;E++){if(d[E]===m||d[E]===o)y===""?y=d[E]:y!==d[E]||(y="");else if(d[E]===">"&&y===""){_=!0;break}P+=d[E]}return y===""&&{value:P,index:E,tagClosed:_}}const p=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function i(d,E){const P=x.getAllMatches(d,p),y={};for(let _=0;_<P.length;_++){if(P[_][1].length===0)return h("InvalidAttr","Attribute '"+P[_][2]+"' has no space in starting.",S(P[_]));if(P[_][3]!==void 0&&P[_][4]===void 0)return h("InvalidAttr","Attribute '"+P[_][2]+"' is without value.",S(P[_]));if(P[_][3]===void 0&&!E.allowBooleanAttributes)return h("InvalidAttr","boolean attribute '"+P[_][2]+"' is not allowed.",S(P[_]));const L=P[_][2];if(!w(L))return h("InvalidAttr","Attribute '"+L+"' is an invalid name.",S(P[_]));if(y.hasOwnProperty(L))return h("InvalidAttr","Attribute '"+L+"' is repeated.",S(P[_]));y[L]=1}return!0}function l(d,E){if(d[++E]===";")return-1;if(d[E]==="#")return function(y,_){let L=/\d/;for(y[_]==="x"&&(_++,L=/[\da-fA-F]/);_<y.length;_++){if(y[_]===";")return _;if(!y[_].match(L))break}return-1}(d,++E);let P=0;for(;E<d.length;E++,P++)if(!(d[E].match(/\w/)&&P<20)){if(d[E]===";")break;return-1}return E}function h(d,E,P){return{err:{code:d,msg:E,line:P.line||P,col:P.col}}}function w(d){return x.isName(d)}function R(d,E){const P=d.substring(0,E).split(/\r?\n/);return{line:P.length,col:P[P.length-1].length+1}}function S(d){return d.startIndex+d[1].length}},221:(u,a,g)=>{const x=g(87),N={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(o,s){return s},attributeValueProcessor:function(o,s){return s},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function T(o){this.options=Object.assign({},N,o),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=m),this.processTextOrObjNode=O,this.options.format?(this.indentate=v,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function O(o,s,p){const i=this.j2x(o,p+1);return o[this.options.textNodeName]!==void 0&&Object.keys(o).length===1?this.buildTextValNode(o[this.options.textNodeName],s,i.attrStr,p):this.buildObjectNode(i.val,s,i.attrStr,p)}function v(o){return this.options.indentBy.repeat(o)}function m(o){return!(!o.startsWith(this.options.attributeNamePrefix)||o===this.options.textNodeName)&&o.substr(this.attrPrefixLen)}T.prototype.build=function(o){return this.options.preserveOrder?x(o,this.options):(Array.isArray(o)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(o={[this.options.arrayNodeName]:o}),this.j2x(o,0).val)},T.prototype.j2x=function(o,s){let p="",i="";for(let l in o)if(o[l]===void 0)this.isAttribute(l)&&(i+="");else if(o[l]===null)this.isAttribute(l)?i+="":l[0]==="?"?i+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:i+=this.indentate(s)+"<"+l+"/"+this.tagEndChar;else if(o[l]instanceof Date)i+=this.buildTextValNode(o[l],l,"",s);else if(typeof o[l]!="object"){const h=this.isAttribute(l);if(h)p+=this.buildAttrPairStr(h,""+o[l]);else if(l===this.options.textNodeName){let w=this.options.tagValueProcessor(l,""+o[l]);i+=this.replaceEntitiesValue(w)}else i+=this.buildTextValNode(o[l],l,"",s)}else if(Array.isArray(o[l])){const h=o[l].length;let w="";for(let R=0;R<h;R++){const S=o[l][R];S===void 0||(S===null?l[0]==="?"?i+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:i+=this.indentate(s)+"<"+l+"/"+this.tagEndChar:typeof S=="object"?this.options.oneListGroup?w+=this.j2x(S,s+1).val:w+=this.processTextOrObjNode(S,l,s):w+=this.buildTextValNode(S,l,"",s))}this.options.oneListGroup&&(w=this.buildObjectNode(w,l,"",s)),i+=w}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const h=Object.keys(o[l]),w=h.length;for(let R=0;R<w;R++)p+=this.buildAttrPairStr(h[R],""+o[l][h[R]])}else i+=this.processTextOrObjNode(o[l],l,s);return{attrStr:p,val:i}},T.prototype.buildAttrPairStr=function(o,s){return s=this.options.attributeValueProcessor(o,""+s),s=this.replaceEntitiesValue(s),this.options.suppressBooleanAttributes&&s==="true"?" "+o:" "+o+'="'+s+'"'},T.prototype.buildObjectNode=function(o,s,p,i){if(o==="")return s[0]==="?"?this.indentate(i)+"<"+s+p+"?"+this.tagEndChar:this.indentate(i)+"<"+s+p+this.closeTag(s)+this.tagEndChar;{let l="</"+s+this.tagEndChar,h="";return s[0]==="?"&&(h="?",l=""),!p&&p!==""||o.indexOf("<")!==-1?this.options.commentPropName!==!1&&s===this.options.commentPropName&&h.length===0?this.indentate(i)+"<!--".concat(o,"-->")+this.newLine:this.indentate(i)+"<"+s+p+h+this.tagEndChar+o+this.indentate(i)+l:this.indentate(i)+"<"+s+p+h+">"+o+l}},T.prototype.closeTag=function(o){let s="";return this.options.unpairedTags.indexOf(o)!==-1?this.options.suppressUnpairedNode||(s="/"):s=this.options.suppressEmptyNode?"/":"></".concat(o),s},T.prototype.buildTextValNode=function(o,s,p,i){if(this.options.cdataPropName!==!1&&s===this.options.cdataPropName)return this.indentate(i)+"<![CDATA[".concat(o,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&s===this.options.commentPropName)return this.indentate(i)+"<!--".concat(o,"-->")+this.newLine;if(s[0]==="?")return this.indentate(i)+"<"+s+p+"?"+this.tagEndChar;{let l=this.options.tagValueProcessor(s,o);return l=this.replaceEntitiesValue(l),l===""?this.indentate(i)+"<"+s+p+this.closeTag(s)+this.tagEndChar:this.indentate(i)+"<"+s+p+">"+l+"</"+s+this.tagEndChar}},T.prototype.replaceEntitiesValue=function(o){if(o&&o.length>0&&this.options.processEntities)for(let s=0;s<this.options.entities.length;s++){const p=this.options.entities[s];o=o.replace(p.regex,p.val)}return o},u.exports=T},87:u=>{function a(O,v,m,o){let s="",p=!1;for(let i=0;i<O.length;i++){const l=O[i],h=g(l);let w="";if(w=m.length===0?h:"".concat(m,".").concat(h),h===v.textNodeName){let P=l[h];N(w,v)||(P=v.tagValueProcessor(h,P),P=T(P,v)),p&&(s+=o),s+=P,p=!1;continue}if(h===v.cdataPropName){p&&(s+=o),s+="<![CDATA[".concat(l[h][0][v.textNodeName],"]]>"),p=!1;continue}if(h===v.commentPropName){s+=o+"<!--".concat(l[h][0][v.textNodeName],"-->"),p=!0;continue}if(h[0]==="?"){const P=x(l[":@"],v),y=h==="?xml"?"":o;let _=l[h][0][v.textNodeName];_=_.length!==0?" "+_:"",s+=y+"<".concat(h).concat(_).concat(P,"?>"),p=!0;continue}let R=o;R!==""&&(R+=v.indentBy);const S=x(l[":@"],v),d=o+"<".concat(h).concat(S),E=a(l[h],v,w,R);v.unpairedTags.indexOf(h)!==-1?v.suppressUnpairedNode?s+=d+">":s+=d+"/>":E&&E.length!==0||!v.suppressEmptyNode?E&&E.endsWith(">")?s+=d+">".concat(E).concat(o,"</").concat(h,">"):(s+=d+">",E&&o!==""&&(E.includes("/>")||E.includes("</"))?s+=o+v.indentBy+E+o:s+=E,s+="</".concat(h,">")):s+=d+"/>",p=!0}return s}function g(O){const v=Object.keys(O);for(let m=0;m<v.length;m++){const o=v[m];if(o!==":@")return o}}function x(O,v){let m="";if(O&&!v.ignoreAttributes)for(let o in O){let s=v.attributeValueProcessor(o,O[o]);s=T(s,v),s===!0&&v.suppressBooleanAttributes?m+=" ".concat(o.substr(v.attributeNamePrefix.length)):m+=" ".concat(o.substr(v.attributeNamePrefix.length),'="').concat(s,'"')}return m}function N(O,v){let m=(O=O.substr(0,O.length-v.textNodeName.length-1)).substr(O.lastIndexOf(".")+1);for(let o in v.stopNodes)if(v.stopNodes[o]===O||v.stopNodes[o]==="*."+m)return!0;return!1}function T(O,v){if(O&&O.length>0&&v.processEntities)for(let m=0;m<v.entities.length;m++){const o=v.entities[m];O=O.replace(o.regex,o.val)}return O}u.exports=function(O,v){let m="";return v.format&&v.indentBy.length>0&&(m="\n"),a(O,v,"",m)}},193:(u,a,g)=>{const x=g(705);function N(p,i){let l="";for(;i<p.length&&p[i]!=="'"&&p[i]!=='"';i++)l+=p[i];if(l=l.trim(),l.indexOf(" ")!==-1)throw new Error("External entites are not supported");const h=p[i++];let w="";for(;i<p.length&&p[i]!==h;i++)w+=p[i];return[l,w,i]}function T(p,i){return p[i+1]==="!"&&p[i+2]==="-"&&p[i+3]==="-"}function O(p,i){return p[i+1]==="!"&&p[i+2]==="E"&&p[i+3]==="N"&&p[i+4]==="T"&&p[i+5]==="I"&&p[i+6]==="T"&&p[i+7]==="Y"}function v(p,i){return p[i+1]==="!"&&p[i+2]==="E"&&p[i+3]==="L"&&p[i+4]==="E"&&p[i+5]==="M"&&p[i+6]==="E"&&p[i+7]==="N"&&p[i+8]==="T"}function m(p,i){return p[i+1]==="!"&&p[i+2]==="A"&&p[i+3]==="T"&&p[i+4]==="T"&&p[i+5]==="L"&&p[i+6]==="I"&&p[i+7]==="S"&&p[i+8]==="T"}function o(p,i){return p[i+1]==="!"&&p[i+2]==="N"&&p[i+3]==="O"&&p[i+4]==="T"&&p[i+5]==="A"&&p[i+6]==="T"&&p[i+7]==="I"&&p[i+8]==="O"&&p[i+9]==="N"}function s(p){if(x.isName(p))return p;throw new Error("Invalid entity name ".concat(p))}u.exports=function(p,i){const l={};if(p[i+3]!=="O"||p[i+4]!=="C"||p[i+5]!=="T"||p[i+6]!=="Y"||p[i+7]!=="P"||p[i+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{i+=9;let h=1,w=!1,R=!1,S="";for(;i<p.length;i++)if(p[i]!=="<"||R)if(p[i]===">"){if(R?p[i-1]==="-"&&p[i-2]==="-"&&(R=!1,h--):h--,h===0)break}else p[i]==="["?w=!0:S+=p[i];else{if(w&&O(p,i))i+=7,[entityName,val,i]=N(p,i+1),val.indexOf("&")===-1&&(l[s(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(w&&v(p,i))i+=8;else if(w&&m(p,i))i+=8;else if(w&&o(p,i))i+=9;else{if(!T)throw new Error("Invalid DOCTYPE");R=!0}h++,S=""}if(h!==0)throw new Error("Unclosed DOCTYPE")}return{entities:l,i}}},63:(u,a)=>{const g={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(x,N){return N},attributeValueProcessor:function(x,N){return N},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(x,N,T){return x}};a.buildOptions=function(x){return Object.assign({},g,x)},a.defaultOptions=g},299:(u,a,g)=>{const x=g(705),N=g(365),T=g(193),O=g(494);function v(y){const _=Object.keys(y);for(let L=0;L<_.length;L++){const I=_[L];this.lastEntities[I]={regex:new RegExp("&"+I+";","g"),val:y[I]}}}function m(y,_,L,I,F,G,k){if(y!==void 0&&(this.options.trimValues&&!I&&(y=y.trim()),y.length>0)){k||(y=this.replaceEntitiesValue(y));const M=this.options.tagValueProcessor(_,y,L,F,G);return M==null?y:typeof M!=typeof y||M!==y?M:this.options.trimValues||y.trim()===y?P(y,this.options.parseTagValue,this.options.numberParseOptions):y}}function o(y){if(this.options.removeNSPrefix){const _=y.split(":"),L=y.charAt(0)==="/"?"/":"";if(_[0]==="xmlns")return"";_.length===2&&(y=L+_[1])}return y}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,x.nameRegexp);const s=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function p(y,_,L){if(!this.options.ignoreAttributes&&typeof y=="string"){const I=x.getAllMatches(y,s),F=I.length,G={};for(let k=0;k<F;k++){const M=this.resolveNameSpace(I[k][1]);let j=I[k][4],V=this.options.attributeNamePrefix+M;if(M.length)if(this.options.transformAttributeName&&(V=this.options.transformAttributeName(V)),V==="__proto__"&&(V="#__proto__"),j!==void 0){this.options.trimValues&&(j=j.trim()),j=this.replaceEntitiesValue(j);const J=this.options.attributeValueProcessor(M,j,_);G[V]=J==null?j:typeof J!=typeof j||J!==j?J:P(j,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(G[V]=!0)}if(!Object.keys(G).length)return;if(this.options.attributesGroupName){const k={};return k[this.options.attributesGroupName]=G,k}return G}}const i=function(y){y=y.replace(/\r\n?/g,"\n");const _=new N("!xml");let L=_,I="",F="";for(let G=0;G<y.length;G++)if(y[G]==="<")if(y[G+1]==="/"){const k=S(y,">",G,"Closing Tag is not closed.");let M=y.substring(G+2,k).trim();if(this.options.removeNSPrefix){const J=M.indexOf(":");J!==-1&&(M=M.substr(J+1))}this.options.transformTagName&&(M=this.options.transformTagName(M)),L&&(I=this.saveTextToParentTag(I,L,F));const j=F.substring(F.lastIndexOf(".")+1);if(M&&this.options.unpairedTags.indexOf(M)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(M,">"));let V=0;j&&this.options.unpairedTags.indexOf(j)!==-1?(V=F.lastIndexOf(".",F.lastIndexOf(".")-1),this.tagsNodeStack.pop()):V=F.lastIndexOf("."),F=F.substring(0,V),L=this.tagsNodeStack.pop(),I="",G=k}else if(y[G+1]==="?"){let k=d(y,G,!1,"?>");if(!k)throw new Error("Pi Tag is not closed.");if(I=this.saveTextToParentTag(I,L,F),!(this.options.ignoreDeclaration&&k.tagName==="?xml"||this.options.ignorePiTags)){const M=new N(k.tagName);M.add(this.options.textNodeName,""),k.tagName!==k.tagExp&&k.attrExpPresent&&(M[":@"]=this.buildAttributesMap(k.tagExp,F,k.tagName)),this.addChild(L,M,F)}G=k.closeIndex+1}else if(y.substr(G+1,3)==="!--"){const k=S(y,"-->",G+4,"Comment is not closed.");if(this.options.commentPropName){const M=y.substring(G+4,k-2);I=this.saveTextToParentTag(I,L,F),L.add(this.options.commentPropName,[{[this.options.textNodeName]:M}])}G=k}else if(y.substr(G+1,2)==="!D"){const k=T(y,G);this.docTypeEntities=k.entities,G=k.i}else if(y.substr(G+1,2)==="!["){const k=S(y,"]]>",G,"CDATA is not closed.")-2,M=y.substring(G+9,k);if(I=this.saveTextToParentTag(I,L,F),this.options.cdataPropName)L.add(this.options.cdataPropName,[{[this.options.textNodeName]:M}]);else{let j=this.parseTextData(M,L.tagname,F,!0,!1,!0);j==null&&(j=""),L.add(this.options.textNodeName,j)}G=k+2}else{let k=d(y,G,this.options.removeNSPrefix),M=k.tagName,j=k.tagExp,V=k.attrExpPresent,J=k.closeIndex;this.options.transformTagName&&(M=this.options.transformTagName(M)),L&&I&&L.tagname!=="!xml"&&(I=this.saveTextToParentTag(I,L,F,!1));const ct=L;if(ct&&this.options.unpairedTags.indexOf(ct.tagname)!==-1&&(L=this.tagsNodeStack.pop(),F=F.substring(0,F.lastIndexOf("."))),M!==_.tagname&&(F+=F?"."+M:M),this.isItStopNode(this.options.stopNodes,F,M)){let Q="";if(j.length>0&&j.lastIndexOf("/")===j.length-1)G=k.closeIndex;else if(this.options.unpairedTags.indexOf(M)!==-1)G=k.closeIndex;else{const rt=this.readStopNodeData(y,M,J+1);if(!rt)throw new Error("Unexpected end of ".concat(M));G=rt.i,Q=rt.tagContent}const et=new N(M);M!==j&&V&&(et[":@"]=this.buildAttributesMap(j,F,M)),Q&&(Q=this.parseTextData(Q,M,F,!0,V,!0,!0)),F=F.substr(0,F.lastIndexOf(".")),et.add(this.options.textNodeName,Q),this.addChild(L,et,F)}else{if(j.length>0&&j.lastIndexOf("/")===j.length-1){M[M.length-1]==="/"?(M=M.substr(0,M.length-1),F=F.substr(0,F.length-1),j=M):j=j.substr(0,j.length-1),this.options.transformTagName&&(M=this.options.transformTagName(M));const Q=new N(M);M!==j&&V&&(Q[":@"]=this.buildAttributesMap(j,F,M)),this.addChild(L,Q,F),F=F.substr(0,F.lastIndexOf("."))}else{const Q=new N(M);this.tagsNodeStack.push(L),M!==j&&V&&(Q[":@"]=this.buildAttributesMap(j,F,M)),this.addChild(L,Q,F),L=Q}I="",G=J}}else I+=y[G];return _.child};function l(y,_,L){const I=this.options.updateTag(_.tagname,L,_[":@"]);I===!1||(typeof I=="string"&&(_.tagname=I),y.addChild(_))}const h=function(y){if(this.options.processEntities){for(let _ in this.docTypeEntities){const L=this.docTypeEntities[_];y=y.replace(L.regx,L.val)}for(let _ in this.lastEntities){const L=this.lastEntities[_];y=y.replace(L.regex,L.val)}if(this.options.htmlEntities)for(let _ in this.htmlEntities){const L=this.htmlEntities[_];y=y.replace(L.regex,L.val)}y=y.replace(this.ampEntity.regex,this.ampEntity.val)}return y};function w(y,_,L,I){return y&&(I===void 0&&(I=Object.keys(_.child).length===0),(y=this.parseTextData(y,_.tagname,L,!1,!!_[":@"]&&Object.keys(_[":@"]).length!==0,I))!==void 0&&y!==""&&_.add(this.options.textNodeName,y),y=""),y}function R(y,_,L){const I="*."+L;for(const F in y){const G=y[F];if(I===G||_===G)return!0}return!1}function S(y,_,L,I){const F=y.indexOf(_,L);if(F===-1)throw new Error(I);return F+_.length-1}function d(y,_,L){const I=function(V,J){let ct,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",et="";for(let rt=J;rt<V.length;rt++){let ut=V[rt];if(ct)ut===ct&&(ct="");else if(ut==='"'||ut==="'")ct=ut;else if(ut===Q[0]){if(!Q[1])return{data:et,index:rt};if(V[rt+1]===Q[1])return{data:et,index:rt}}else ut==="	"&&(ut=" ");et+=ut}}(y,_+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!I)return;let F=I.data;const G=I.index,k=F.search(/\s/);let M=F,j=!0;if(k!==-1&&(M=F.substr(0,k).replace(/\s\s*$/,""),F=F.substr(k+1)),L){const V=M.indexOf(":");V!==-1&&(M=M.substr(V+1),j=M!==I.data.substr(V+1))}return{tagName:M,tagExp:F,closeIndex:G,attrExpPresent:j}}function E(y,_,L){const I=L;let F=1;for(;L<y.length;L++)if(y[L]==="<")if(y[L+1]==="/"){const G=S(y,">",L,"".concat(_," is not closed"));if(y.substring(L+2,G).trim()===_&&(F--,F===0))return{tagContent:y.substring(I,L),i:G};L=G}else if(y[L+1]==="?")L=S(y,"?>",L+1,"StopNode is not closed.");else if(y.substr(L+1,3)==="!--")L=S(y,"-->",L+3,"StopNode is not closed.");else if(y.substr(L+1,2)==="![")L=S(y,"]]>",L,"StopNode is not closed.")-2;else{const G=d(y,L,">");G&&((G&&G.tagName)===_&&G.tagExp[G.tagExp.length-1]!=="/"&&F++,L=G.closeIndex)}}function P(y,_,L){if(_&&typeof y=="string"){const I=y.trim();return I==="true"||I!=="false"&&O(y,L)}return x.isExist(y)?y:""}u.exports=class{constructor(y){this.options=y,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=v,this.parseXml=i,this.parseTextData=m,this.resolveNameSpace=o,this.buildAttributesMap=p,this.isItStopNode=R,this.replaceEntitiesValue=h,this.readStopNodeData=E,this.saveTextToParentTag=w,this.addChild=l}}},338:(u,a,g)=>{const{buildOptions:x}=g(63),N=g(299),{prettify:T}=g(728),O=g(31);u.exports=class{constructor(v){this.externalEntities={},this.options=x(v)}parse(v,m){if(typeof v!="string"){if(!v.toString)throw new Error("XML data is accepted in String or Bytes[] form.");v=v.toString()}if(m){m===!0&&(m={});const p=O.validate(v,m);if(p!==!0)throw Error("".concat(p.err.msg,":").concat(p.err.line,":").concat(p.err.col))}const o=new N(this.options);o.addExternalEntities(this.externalEntities);const s=o.parseXml(v);return this.options.preserveOrder||s===void 0?s:T(s,this.options)}addEntity(v,m){if(m.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(v.indexOf("&")!==-1||v.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(m==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[v]=m}}},728:(u,a)=>{function g(O,v,m){let o;const s={};for(let p=0;p<O.length;p++){const i=O[p],l=x(i);let h="";if(h=m===void 0?l:m+"."+l,l===v.textNodeName)o===void 0?o=i[l]:o+=""+i[l];else{if(l===void 0)continue;if(i[l]){let w=g(i[l],v,h);const R=T(w,v);i[":@"]?N(w,i[":@"],h,v):Object.keys(w).length!==1||w[v.textNodeName]===void 0||v.alwaysCreateTextNode?Object.keys(w).length===0&&(v.alwaysCreateTextNode?w[v.textNodeName]="":w=""):w=w[v.textNodeName],s[l]!==void 0&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(w)):v.isArray(l,h,R)?s[l]=[w]:s[l]=w}}}return typeof o=="string"?o.length>0&&(s[v.textNodeName]=o):o!==void 0&&(s[v.textNodeName]=o),s}function x(O){const v=Object.keys(O);for(let m=0;m<v.length;m++){const o=v[m];if(o!==":@")return o}}function N(O,v,m,o){if(v){const s=Object.keys(v),p=s.length;for(let i=0;i<p;i++){const l=s[i];o.isArray(l,m+"."+l,!0,!0)?O[l]=[v[l]]:O[l]=v[l]}}}function T(O,v){const{textNodeName:m}=v,o=Object.keys(O).length;return o===0||!(o!==1||!O[m]&&typeof O[m]!="boolean"&&O[m]!==0)}a.prettify=function(O,v){return g(O,v)}},365:u=>{u.exports=class{constructor(a){this.tagname=a,this.child=[],this[":@"]={}}add(a,g){a==="__proto__"&&(a="#__proto__"),this.child.push({[a]:g})}addChild(a){a.tagname==="__proto__"&&(a.tagname="#__proto__"),a[":@"]&&Object.keys(a[":@"]).length>0?this.child.push({[a.tagname]:a.child,":@":a[":@"]}):this.child.push({[a.tagname]:a.child})}}},135:u=>{function a(g){return!!g.constructor&&typeof g.constructor.isBuffer=="function"&&g.constructor.isBuffer(g)}u.exports=function(g){return g!=null&&(a(g)||function(x){return typeof x.readFloatLE=="function"&&typeof x.slice=="function"&&a(x.slice(0,0))}(g)||!!g._isBuffer)}},542:(u,a,g)=>{var x,N,T,O,v;x=g(298),N=g(526).utf8,T=g(135),O=g(526).bin,(v=function(m,o){m.constructor==String?m=o&&o.encoding==="binary"?O.stringToBytes(m):N.stringToBytes(m):T(m)?m=Array.prototype.slice.call(m,0):Array.isArray(m)||m.constructor===Uint8Array||(m=m.toString());for(var s=x.bytesToWords(m),p=8*m.length,i=1732584193,l=-271733879,h=-1732584194,w=271733878,R=0;R<s.length;R++)s[R]=16711935&(s[R]<<8|s[R]>>>24)|4278255360&(s[R]<<24|s[R]>>>8);s[p>>>5]|=128<<p%32,s[14+(p+64>>>9<<4)]=p;var S=v._ff,d=v._gg,E=v._hh,P=v._ii;for(R=0;R<s.length;R+=16){var y=i,_=l,L=h,I=w;i=S(i,l,h,w,s[R+0],7,-680876936),w=S(w,i,l,h,s[R+1],12,-389564586),h=S(h,w,i,l,s[R+2],17,606105819),l=S(l,h,w,i,s[R+3],22,-1044525330),i=S(i,l,h,w,s[R+4],7,-176418897),w=S(w,i,l,h,s[R+5],12,1200080426),h=S(h,w,i,l,s[R+6],17,-1473231341),l=S(l,h,w,i,s[R+7],22,-45705983),i=S(i,l,h,w,s[R+8],7,1770035416),w=S(w,i,l,h,s[R+9],12,-1958414417),h=S(h,w,i,l,s[R+10],17,-42063),l=S(l,h,w,i,s[R+11],22,-1990404162),i=S(i,l,h,w,s[R+12],7,1804603682),w=S(w,i,l,h,s[R+13],12,-40341101),h=S(h,w,i,l,s[R+14],17,-1502002290),i=d(i,l=S(l,h,w,i,s[R+15],22,1236535329),h,w,s[R+1],5,-165796510),w=d(w,i,l,h,s[R+6],9,-1069501632),h=d(h,w,i,l,s[R+11],14,643717713),l=d(l,h,w,i,s[R+0],20,-373897302),i=d(i,l,h,w,s[R+5],5,-701558691),w=d(w,i,l,h,s[R+10],9,38016083),h=d(h,w,i,l,s[R+15],14,-660478335),l=d(l,h,w,i,s[R+4],20,-405537848),i=d(i,l,h,w,s[R+9],5,568446438),w=d(w,i,l,h,s[R+14],9,-1019803690),h=d(h,w,i,l,s[R+3],14,-187363961),l=d(l,h,w,i,s[R+8],20,1163531501),i=d(i,l,h,w,s[R+13],5,-1444681467),w=d(w,i,l,h,s[R+2],9,-51403784),h=d(h,w,i,l,s[R+7],14,1735328473),i=E(i,l=d(l,h,w,i,s[R+12],20,-1926607734),h,w,s[R+5],4,-378558),w=E(w,i,l,h,s[R+8],11,-2022574463),h=E(h,w,i,l,s[R+11],16,1839030562),l=E(l,h,w,i,s[R+14],23,-35309556),i=E(i,l,h,w,s[R+1],4,-1530992060),w=E(w,i,l,h,s[R+4],11,1272893353),h=E(h,w,i,l,s[R+7],16,-155497632),l=E(l,h,w,i,s[R+10],23,-1094730640),i=E(i,l,h,w,s[R+13],4,681279174),w=E(w,i,l,h,s[R+0],11,-358537222),h=E(h,w,i,l,s[R+3],16,-722521979),l=E(l,h,w,i,s[R+6],23,76029189),i=E(i,l,h,w,s[R+9],4,-640364487),w=E(w,i,l,h,s[R+12],11,-421815835),h=E(h,w,i,l,s[R+15],16,530742520),i=P(i,l=E(l,h,w,i,s[R+2],23,-995338651),h,w,s[R+0],6,-198630844),w=P(w,i,l,h,s[R+7],10,1126891415),h=P(h,w,i,l,s[R+14],15,-1416354905),l=P(l,h,w,i,s[R+5],21,-57434055),i=P(i,l,h,w,s[R+12],6,1700485571),w=P(w,i,l,h,s[R+3],10,-1894986606),h=P(h,w,i,l,s[R+10],15,-1051523),l=P(l,h,w,i,s[R+1],21,-2054922799),i=P(i,l,h,w,s[R+8],6,1873313359),w=P(w,i,l,h,s[R+15],10,-30611744),h=P(h,w,i,l,s[R+6],15,-1560198380),l=P(l,h,w,i,s[R+13],21,1309151649),i=P(i,l,h,w,s[R+4],6,-145523070),w=P(w,i,l,h,s[R+11],10,-1120210379),h=P(h,w,i,l,s[R+2],15,718787259),l=P(l,h,w,i,s[R+9],21,-343485551),i=i+y>>>0,l=l+_>>>0,h=h+L>>>0,w=w+I>>>0}return x.endian([i,l,h,w])})._ff=function(m,o,s,p,i,l,h){var w=m+(o&s|~o&p)+(i>>>0)+h;return(w<<l|w>>>32-l)+o},v._gg=function(m,o,s,p,i,l,h){var w=m+(o&p|s&~p)+(i>>>0)+h;return(w<<l|w>>>32-l)+o},v._hh=function(m,o,s,p,i,l,h){var w=m+(o^s^p)+(i>>>0)+h;return(w<<l|w>>>32-l)+o},v._ii=function(m,o,s,p,i,l,h){var w=m+(s^(o|~p))+(i>>>0)+h;return(w<<l|w>>>32-l)+o},v._blocksize=16,v._digestsize=16,u.exports=function(m,o){if(m==null)throw new Error("Illegal argument "+m);var s=x.wordsToBytes(v(m,o));return o&&o.asBytes?s:o&&o.asString?O.bytesToString(s):x.bytesToHex(s)}},285:(u,a,g)=>{var x=g(2);u.exports=function(S){return S?(S.substr(0,2)==="{}"&&(S="\\{\\}"+S.substr(2)),R(function(d){return d.split("\\\\").join(N).split("\\{").join(T).split("\\}").join(O).split("\\,").join(v).split("\\.").join(m)}(S),!0).map(s)):[]};var N="\0SLASH"+Math.random()+"\0",T="\0OPEN"+Math.random()+"\0",O="\0CLOSE"+Math.random()+"\0",v="\0COMMA"+Math.random()+"\0",m="\0PERIOD"+Math.random()+"\0";function o(S){return parseInt(S,10)==S?parseInt(S,10):S.charCodeAt(0)}function s(S){return S.split(N).join("\\").split(T).join("{").split(O).join("}").split(v).join(",").split(m).join(".")}function p(S){if(!S)return[""];var d=[],E=x("{","}",S);if(!E)return S.split(",");var P=E.pre,y=E.body,_=E.post,L=P.split(",");L[L.length-1]+="{"+y+"}";var I=p(_);return _.length&&(L[L.length-1]+=I.shift(),L.push.apply(L,I)),d.push.apply(d,L),d}function i(S){return"{"+S+"}"}function l(S){return/^-?0\d/.test(S)}function h(S,d){return S<=d}function w(S,d){return S>=d}function R(S,d){var E=[],P=x("{","}",S);if(!P)return[S];var y=P.pre,_=P.post.length?R(P.post,!1):[""];if(/\$$/.test(P.pre))for(var L=0;L<_.length;L++){var I=y+"{"+P.body+"}"+_[L];E.push(I)}else{var F,G,k=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(P.body),M=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(P.body),j=k||M,V=P.body.indexOf(",")>=0;if(!j&&!V)return P.post.match(/,.*\}/)?R(S=P.pre+"{"+P.body+O+P.post):[S];if(j)F=P.body.split(/\.\./);else if((F=p(P.body)).length===1&&(F=R(F[0],!1).map(i)).length===1)return _.map(function(Jt){return P.pre+F[0]+Jt});if(j){var J=o(F[0]),ct=o(F[1]),Q=Math.max(F[0].length,F[1].length),et=F.length==3?Math.abs(o(F[2])):1,rt=h;ct<J&&(et*=-1,rt=w);var ut=F.some(l);G=[];for(var vt=J;rt(vt,ct);vt+=et){var Et;if(M)(Et=String.fromCharCode(vt))==="\\"&&(Et="");else if(Et=String(vt),ut){var Ut=Q-Et.length;if(Ut>0){var Ct=new Array(Ut+1).join("0");Et=vt<0?"-"+Ct+Et.slice(1):Ct+Et}}G.push(Et)}}else{G=[];for(var xt=0;xt<F.length;xt++)G.push.apply(G,R(F[xt],!1))}for(xt=0;xt<G.length;xt++)for(L=0;L<_.length;L++)I=y+G[xt]+_[L],(!d||j||I)&&E.push(I)}return E}},829:u=>{function a(o){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a(o)}function g(o){var s=typeof Map=="function"?new Map:void 0;return g=function(p){if(p===null||(i=p,Function.toString.call(i).indexOf("[native code]")===-1))return p;var i;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(p))return s.get(p);s.set(p,l)}function l(){return x(p,arguments,T(this).constructor)}return l.prototype=Object.create(p.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),N(l,p)},g(o)}function x(o,s,p){return x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(i,l,h){var w=[null];w.push.apply(w,l);var R=new(Function.bind.apply(i,w));return h&&N(R,h.prototype),R},x.apply(null,arguments)}function N(o,s){return N=Object.setPrototypeOf||function(p,i){return p.__proto__=i,p},N(o,s)}function T(o){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},T(o)}var O=function(o){function s(p){var i;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,s),(i=function(l,h){return!h||a(h)!=="object"&&typeof h!="function"?function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(l):h}(this,T(s).call(this,p))).name="ObjectPrototypeMutationError",i}return function(p,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(i&&i.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),i&&N(p,i)}(s,o),s}(g(Error));function v(o,s){for(var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},i=s.split("."),l=i.length,h=function(S){var d=i[S];if(!o)return{v:void 0};if(d==="+"){if(Array.isArray(o))return{v:o.map(function(P,y){var _=i.slice(S+1);return _.length>0?v(P,_.join("."),p):p(o,y,i,S)})};var E=i.slice(0,S).join(".");throw new Error("Object at wildcard (".concat(E,") is not an array"))}o=p(o,d,i,S)},w=0;w<l;w++){var R=h(w);if(a(R)==="object")return R.v}return o}function m(o,s){return o.length===s+1}u.exports={set:function(o,s,p){if(a(o)!="object"||o===null||s===void 0)return o;if(typeof s=="number")return o[s]=p,o[s];try{return v(o,s,function(i,l,h,w){if(i===Reflect.getPrototypeOf({}))throw new O("Attempting to mutate Object.prototype");if(!i[l]){var R=Number.isInteger(Number(h[w+1])),S=h[w+1]==="+";i[l]=R||S?[]:{}}return m(h,w)&&(i[l]=p),i[l]})}catch(i){if(i instanceof O)throw i;return o}},get:function(o,s){if(a(o)!="object"||o===null||s===void 0)return o;if(typeof s=="number")return o[s];try{return v(o,s,function(p,i){return p[i]})}catch{return o}},has:function(o,s){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(a(o)!="object"||o===null||s===void 0)return!1;if(typeof s=="number")return s in o;try{var i=!1;return v(o,s,function(l,h,w,R){if(!m(w,R))return l&&l[h];i=p.own?l.hasOwnProperty(h):h in l}),i}catch{return!1}},hasOwn:function(o,s,p){return this.has(o,s,p||{own:!0})},isIn:function(o,s,p){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(a(o)!="object"||o===null||s===void 0)return!1;try{var l=!1,h=!1;return v(o,s,function(w,R,S,d){return l=l||w===p||!!w&&w[R]===p,h=m(S,d)&&a(w)==="object"&&R in w,w&&w[R]}),i.validPath?l&&h:l}catch{return!1}},ObjectPrototypeMutationError:O}},47:(u,a,g)=>{var x=g(410),N=function(o){return typeof o=="string"};function T(o,s){for(var p=[],i=0;i<o.length;i++){var l=o[i];l&&l!=="."&&(l===".."?p.length&&p[p.length-1]!==".."?p.pop():s&&p.push(".."):p.push(l))}return p}var O=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,v={};function m(o){return O.exec(o).slice(1)}v.resolve=function(){for(var o="",s=!1,p=arguments.length-1;p>=-1&&!s;p--){var i=p>=0?arguments[p]:Mt.cwd();if(!N(i))throw new TypeError("Arguments to path.resolve must be strings");i&&(o=i+"/"+o,s=i.charAt(0)==="/")}return(s?"/":"")+(o=T(o.split("/"),!s).join("/"))||"."},v.normalize=function(o){var s=v.isAbsolute(o),p=o.substr(-1)==="/";return(o=T(o.split("/"),!s).join("/"))||s||(o="."),o&&p&&(o+="/"),(s?"/":"")+o},v.isAbsolute=function(o){return o.charAt(0)==="/"},v.join=function(){for(var o="",s=0;s<arguments.length;s++){var p=arguments[s];if(!N(p))throw new TypeError("Arguments to path.join must be strings");p&&(o+=o?"/"+p:p)}return v.normalize(o)},v.relative=function(o,s){function p(d){for(var E=0;E<d.length&&d[E]==="";E++);for(var P=d.length-1;P>=0&&d[P]==="";P--);return E>P?[]:d.slice(E,P+1)}o=v.resolve(o).substr(1),s=v.resolve(s).substr(1);for(var i=p(o.split("/")),l=p(s.split("/")),h=Math.min(i.length,l.length),w=h,R=0;R<h;R++)if(i[R]!==l[R]){w=R;break}var S=[];for(R=w;R<i.length;R++)S.push("..");return(S=S.concat(l.slice(w))).join("/")},v._makeLong=function(o){return o},v.dirname=function(o){var s=m(o),p=s[0],i=s[1];return p||i?(i&&(i=i.substr(0,i.length-1)),p+i):"."},v.basename=function(o,s){var p=m(o)[2];return s&&p.substr(-1*s.length)===s&&(p=p.substr(0,p.length-s.length)),p},v.extname=function(o){return m(o)[3]},v.format=function(o){if(!x.isObject(o))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof o);var s=o.root||"";if(!N(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof o.root);return(o.dir?o.dir+v.sep:"")+(o.base||"")},v.parse=function(o){if(!N(o))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof o);var s=m(o);if(!s||s.length!==4)throw new TypeError("Invalid path '"+o+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},v.sep="/",v.delimiter=":",u.exports=v},647:(u,a)=>{var g=Object.prototype.hasOwnProperty;function x(T){try{return decodeURIComponent(T.replace(/\+/g," "))}catch{return null}}function N(T){try{return encodeURIComponent(T)}catch{return null}}a.stringify=function(T,O){O=O||"";var v,m,o=[];for(m in typeof O!="string"&&(O="?"),T)if(g.call(T,m)){if((v=T[m])||v!=null&&!isNaN(v)||(v=""),m=N(m),v=N(v),m===null||v===null)continue;o.push(m+"="+v)}return o.length?O+o.join("&"):""},a.parse=function(T){for(var O,v=/([^=?#&]+)=?([^&]*)/g,m={};O=v.exec(T);){var o=x(O[1]),s=x(O[2]);o===null||s===null||o in m||(m[o]=s)}return m}},670:u=>{u.exports=function(a,g){if(g=g.split(":")[0],!(a=+a))return!1;switch(g){case"http":case"ws":return a!==80;case"https":case"wss":return a!==443;case"ftp":return a!==21;case"gopher":return a!==70;case"file":return!1}return a!==0}},494:u=>{const a=/^[-+]?0x[a-fA-F0-9]+$/,g=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};u.exports=function(N){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T=Object.assign({},x,T),!N||typeof N!="string")return N;let O=N.trim();if(T.skipLike!==void 0&&T.skipLike.test(O))return N;if(T.hex&&a.test(O))return Number.parseInt(O,16);{const m=g.exec(O);if(m){const o=m[1],s=m[2];let p=((v=m[3])&&v.indexOf(".")!==-1&&((v=v.replace(/0+$/,""))==="."?v="0":v[0]==="."?v="0"+v:v[v.length-1]==="."&&(v=v.substr(0,v.length-1))),v);const i=m[4]||m[6];if(!T.leadingZeros&&s.length>0&&o&&O[2]!=="."||!T.leadingZeros&&s.length>0&&!o&&O[1]!==".")return N;{const l=Number(O),h=""+l;return h.search(/[eE]/)!==-1||i?T.eNotation?l:N:O.indexOf(".")!==-1?h==="0"&&p===""||h===p||o&&h==="-"+p?l:N:s?p===h||o+p===h?l:N:O===h||O===o+h?l:N}}return N}var v}},737:(u,a,g)=>{var x=g(670),N=g(647),T=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,O=/[\n\r\t]/g,v=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,m=/:\d+$/,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function p(d){return(d||"").toString().replace(T,"")}var i=[["#","hash"],["?","query"],function(d,E){return w(E.protocol)?d.replace(/\\/g,"/"):d},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function h(d){var E,P=(typeof window<"u"?window:typeof qt<"u"?qt:typeof self<"u"?self:{}).location||{},y={},_=typeof(d=d||P);if(d.protocol==="blob:")y=new S(unescape(d.pathname),{});else if(_==="string")for(E in y=new S(d,{}),l)delete y[E];else if(_==="object"){for(E in d)E in l||(y[E]=d[E]);y.slashes===void 0&&(y.slashes=v.test(d.href))}return y}function w(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function R(d,E){d=(d=p(d)).replace(O,""),E=E||{};var P,y=o.exec(d),_=y[1]?y[1].toLowerCase():"",L=!!y[2],I=!!y[3],F=0;return L?I?(P=y[2]+y[3]+y[4],F=y[2].length+y[3].length):(P=y[2]+y[4],F=y[2].length):I?(P=y[3]+y[4],F=y[3].length):P=y[4],_==="file:"?F>=2&&(P=P.slice(2)):w(_)?P=y[4]:_?L&&(P=P.slice(2)):F>=2&&w(E.protocol)&&(P=y[4]),{protocol:_,slashes:L||w(_),slashesCount:F,rest:P}}function S(d,E,P){if(d=(d=p(d)).replace(O,""),!(this instanceof S))return new S(d,E,P);var y,_,L,I,F,G,k=i.slice(),M=typeof E,j=this,V=0;for(M!=="object"&&M!=="string"&&(P=E,E=null),P&&typeof P!="function"&&(P=N.parse),y=!(_=R(d||"",E=h(E))).protocol&&!_.slashes,j.slashes=_.slashes||y&&E.slashes,j.protocol=_.protocol||E.protocol||"",d=_.rest,(_.protocol==="file:"&&(_.slashesCount!==2||s.test(d))||!_.slashes&&(_.protocol||_.slashesCount<2||!w(j.protocol)))&&(k[3]=[/(.*)/,"pathname"]);V<k.length;V++)typeof(I=k[V])!="function"?(L=I[0],G=I[1],L!=L?j[G]=d:typeof L=="string"?~(F=L==="@"?d.lastIndexOf(L):d.indexOf(L))&&(typeof I[2]=="number"?(j[G]=d.slice(0,F),d=d.slice(F+I[2])):(j[G]=d.slice(F),d=d.slice(0,F))):(F=L.exec(d))&&(j[G]=F[1],d=d.slice(0,F.index)),j[G]=j[G]||y&&I[3]&&E[G]||"",I[4]&&(j[G]=j[G].toLowerCase())):d=I(d,j);P&&(j.query=P(j.query)),y&&E.slashes&&j.pathname.charAt(0)!=="/"&&(j.pathname!==""||E.pathname!=="")&&(j.pathname=function(J,ct){if(J==="")return ct;for(var Q=(ct||"/").split("/").slice(0,-1).concat(J.split("/")),et=Q.length,rt=Q[et-1],ut=!1,vt=0;et--;)Q[et]==="."?Q.splice(et,1):Q[et]===".."?(Q.splice(et,1),vt++):vt&&(et===0&&(ut=!0),Q.splice(et,1),vt--);return ut&&Q.unshift(""),rt!=="."&&rt!==".."||Q.push(""),Q.join("/")}(j.pathname,E.pathname)),j.pathname.charAt(0)!=="/"&&w(j.protocol)&&(j.pathname="/"+j.pathname),x(j.port,j.protocol)||(j.host=j.hostname,j.port=""),j.username=j.password="",j.auth&&(~(F=j.auth.indexOf(":"))?(j.username=j.auth.slice(0,F),j.username=encodeURIComponent(decodeURIComponent(j.username)),j.password=j.auth.slice(F+1),j.password=encodeURIComponent(decodeURIComponent(j.password))):j.username=encodeURIComponent(decodeURIComponent(j.auth)),j.auth=j.password?j.username+":"+j.password:j.username),j.origin=j.protocol!=="file:"&&w(j.protocol)&&j.host?j.protocol+"//"+j.host:"null",j.href=j.toString()}S.prototype={set:function(d,E,P){var y=this;switch(d){case"query":typeof E=="string"&&E.length&&(E=(P||N.parse)(E)),y[d]=E;break;case"port":y[d]=E,x(E,y.protocol)?E&&(y.host=y.hostname+":"+E):(y.host=y.hostname,y[d]="");break;case"hostname":y[d]=E,y.port&&(E+=":"+y.port),y.host=E;break;case"host":y[d]=E,m.test(E)?(E=E.split(":"),y.port=E.pop(),y.hostname=E.join(":")):(y.hostname=E,y.port="");break;case"protocol":y.protocol=E.toLowerCase(),y.slashes=!P;break;case"pathname":case"hash":if(E){var _=d==="pathname"?"/":"#";y[d]=E.charAt(0)!==_?_+E:E}else y[d]=E;break;case"username":case"password":y[d]=encodeURIComponent(E);break;case"auth":var L=E.indexOf(":");~L?(y.username=E.slice(0,L),y.username=encodeURIComponent(decodeURIComponent(y.username)),y.password=E.slice(L+1),y.password=encodeURIComponent(decodeURIComponent(y.password))):y.username=encodeURIComponent(decodeURIComponent(E))}for(var I=0;I<i.length;I++){var F=i[I];F[4]&&(y[F[1]]=y[F[1]].toLowerCase())}return y.auth=y.password?y.username+":"+y.password:y.username,y.origin=y.protocol!=="file:"&&w(y.protocol)&&y.host?y.protocol+"//"+y.host:"null",y.href=y.toString(),y},toString:function(d){d&&typeof d=="function"||(d=N.stringify);var E,P=this,y=P.host,_=P.protocol;_&&_.charAt(_.length-1)!==":"&&(_+=":");var L=_+(P.protocol&&P.slashes||w(P.protocol)?"//":"");return P.username?(L+=P.username,P.password&&(L+=":"+P.password),L+="@"):P.password?(L+=":"+P.password,L+="@"):P.protocol!=="file:"&&w(P.protocol)&&!y&&P.pathname!=="/"&&(L+="@"),(y[y.length-1]===":"||m.test(P.hostname)&&!P.port)&&(y+=":"),L+=y+P.pathname,(E=typeof P.query=="object"?d(P.query):P.query)&&(L+=E.charAt(0)!=="?"?"?"+E:E),P.hash&&(L+=P.hash),L}},S.extractProtocol=R,S.location=h,S.trimLeft=p,S.qs=N,u.exports=S},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},rn={};function tt(u){var a=rn[u];if(a!==void 0)return a.exports;var g=rn[u]={id:u,loaded:!1,exports:{}};return Ir[u].call(g.exports,g,g.exports,tt),g.loaded=!0,g.exports}tt.n=u=>{var a=u&&u.__esModule?()=>u.default:()=>u;return tt.d(a,{a}),a},tt.d=(u,a)=>{for(var g in a)tt.o(a,g)&&!tt.o(u,g)&&Object.defineProperty(u,g,{enumerable:!0,get:a[g]})},tt.o=(u,a)=>Object.prototype.hasOwnProperty.call(u,a),tt.nmd=u=>(u.paths=[],u.children||(u.children=[]),u);var wt={};(()=>{tt.d(wt,{hT:()=>k,O4:()=>M,Kd:()=>F,YK:()=>G,UU:()=>gr,Gu:()=>rt,ky:()=>Be,h4:()=>$t,ch:()=>Xt,hq:()=>Lt,i5:()=>Ge});var u=tt(737),a=tt.n(u);function g(e){if(!x(e))throw new Error("Parameter was not an error")}function x(e){return t=e,Object.prototype.toString.call(t)==="[object Error]"||e instanceof Error;var t}class N extends Error{constructor(t,n){const r=[...arguments],{options:f,shortMessage:c}=function(A){let C,$="";if(A.length===0)C={};else if(x(A[0]))C={cause:A[0]},$=A.slice(1).join(" ")||"";else if(A[0]&&typeof A[0]=="object")C=Object.assign({},A[0]),$=A.slice(1).join(" ")||"";else{if(typeof A[0]!="string")throw new Error("Invalid arguments passed to Layerr");C={},$=$=A.join(" ")||""}return{options:C,shortMessage:$}}(r);let b=c;if(f.cause&&(b="".concat(b,": ").concat(f.cause.message)),super(b),this.message=b,f.name&&typeof f.name=="string"?this.name=f.name:this.name="Layerr",f.cause&&Object.defineProperty(this,"_cause",{value:f.cause}),Object.defineProperty(this,"_info",{value:{}}),f.info&&typeof f.info=="object"&&Object.assign(this._info,f.info),Error.captureStackTrace){const A=f.constructorOpt||this.constructor;Error.captureStackTrace(this,A)}}static cause(t){return g(t),t._cause&&x(t._cause)?t._cause:null}static fullStack(t){g(t);const n=N.cause(t);return n?"".concat(t.stack,"\ncaused by: ").concat(N.fullStack(n)):t.stack}static info(t){g(t);const n={},r=N.cause(t);return r&&Object.assign(n,N.info(r)),t._info&&Object.assign(n,t._info),n}cause(){return N.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var T=tt(47),O=tt.n(T);const v="__PATH_SEPARATOR_POSIX__",m="__PATH_SEPARATOR_WINDOWS__";function o(e){try{const t=e.replace(/\//g,v).replace(/\\\\/g,m);return encodeURIComponent(t).split(m).join("\\\\").split(v).join("/")}catch(t){throw new N(t,"Failed encoding path")}}function s(e){return e.startsWith("/")?e:"/"+e}function p(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function i(e){let t=new(a())(e).pathname;return t.length<=0&&(t="/"),p(t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var f=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var c=r.shift();r[0]=c+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var b=0;b<r.length;b++){var A=r[b];if(typeof A!="string")throw new TypeError("Url must be a string. Received "+A);A!==""&&(b>0&&(A=A.replace(/^[\/]+/,"")),A=b<r.length-1?A.replace(/[\/]+$/,""):A.replace(/[\/]+$/,"/"),f.push(A))}var C=f.join("/"),$=(C=C.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return $.shift()+($.length>0?"?":"")+$.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,f,c)=>((c===0||f!=="/"||f==="/"&&r[r.length-1]!=="/")&&r.push(f),r),[]))}var h=tt(542),w=tt.n(h);const R="abcdef0123456789";function S(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),f=e.method?e.method.toUpperCase():"GET",c=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",b="00000000".concat(t.nc).slice(-8),A=function(q,Y,X,U,B,H,Z){const z=Z||w()("".concat(Y,":").concat(X,":").concat(U));return q&&q.toLowerCase()==="md5-sess"?w()("".concat(z,":").concat(B,":").concat(H)):z}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),C=w()("".concat(f,":").concat(r)),$=c?w()("".concat(A,":").concat(t.nonce,":").concat(b,":").concat(t.cnonce,":").concat(c,":").concat(C)):w()("".concat(A,":").concat(t.nonce,":").concat(C)),D={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:c,response:$,nc:b,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},W=[];for(const q in D)D[q]&&(q==="qop"||q==="nc"||q==="algorithm"?W.push("".concat(q,"=").concat(D[q])):W.push("".concat(q,'="').concat(D[q],'"')));return"Digest ".concat(W.join(", "))}function d(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var E=tt(101),P=tt.n(E);function y(e){return P().decode(e)}function _(e,t){const n=(r="".concat(e,":").concat(t),P().encode(r));var r;return"Basic ".concat(n)}const L=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,I=L.fetch.bind(L),F=L.Request,G=L.Response;let k=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),M=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function j(e,t,n,r,f){switch(e.authType){case k.Auto:t&&n&&(e.headers.Authorization=_(t,n));break;case k.Digest:e.digest=function(b,A,C){return{username:b,password:A,ha1:C,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,f);break;case k.None:break;case k.Password:e.headers.Authorization=_(t,n);break;case k.Token:e.headers.Authorization="".concat((c=r).token_type," ").concat(c.access_token);break;default:throw new N({info:{code:M.InvalidAuthType}},"Invalid auth type: ".concat(e.authType))}var c}tt(345),tt(800);const V="@@HOTPATCHER",J=()=>{};function ct(e){return{original:e,methods:[e],final:!1}}class Q{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=V}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==V)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||J;for(var r=arguments.length,f=new Array(r>1?r-1:0),c=1;c<r;c++)f[c-1]=arguments[c];return n(...f)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,f=new Array(r),c=0;c<r;c++)f[c]=arguments[c];if(f.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var b=arguments.length,A=new Array(b),C=0;C<b;C++)A[C]=arguments[C];let $=A;const D=this;for(;f.length>0;)$=[f.shift().apply(D,$)];return $[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:f=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(f)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ct(n);else if(this.isPatched(t)){const{original:c}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ct(n),{original:c})}else this.configuration.registry[t]=ct(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,f=new Array(r>2?r-2:0),c=2;c<r;c++)f[c-2]=arguments[c];return this.execute(t,...f)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),f=1;f<n;f++)r[f-1]=arguments[f];return r.forEach(c=>{this.patch(t,c,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let et=null;function rt(){return et||(et=new Q),et}function ut(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,f=[...t];for(;f.length>0;){const c=f.shift();r=r?Et(r,c):ut(c)}return r}function Et(e,t){const n=ut(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?Et(n[r],t[r]):ut(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Ut(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function Ct(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((f,c)=>(Object.keys(c).forEach(b=>{const A=b.toLowerCase();r.hasOwnProperty(A)?f[r[A]]=c[b]:(r[A]=b,f[b]=c[b])}),f),{})}tt(805);const xt=typeof ArrayBuffer=="function",{toString:Jt}=Object.prototype;function Pe(e){return xt&&(e instanceof ArrayBuffer||Jt.call(e)==="[object ArrayBuffer]")}function Le(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function te(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function ee(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Ie=te(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=vt(e,{headers:{Authorization:S(e,t)}})),ee(Bt(e),function(n){let r=!1;return f=function(b){return r?b:n},(c=function(){if(n.status==401)return t.hasDigestAuth=function(b,A){if(!d(b))return!1;const C=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const $=b.headers&&b.headers.get("www-authenticate")||"",D=C.exec($);if(!D)break;A[D[1]]=D[2]||D[3]}return A.nc+=1,A.cnonce=function(){let $="";for(let D=0;D<32;++D)$="".concat($).concat(R[Math.floor(16*Math.random())]);return $}(),!0}(n,t),function(){if(t.hasDigestAuth)return ee(Bt(e=vt(e,{headers:{Authorization:S(e,t)}})),function(b){return b.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,b})}();t.nc++}())&&c.then?c.then(f):f(c);var f,c})}),mn=te(function(e,t){return ee(Bt(e),function(n){return n.ok?(t.authType=k.Password,n):n.status==401&&d(n)?(t.authType=k.Digest,j(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Ie(e)):n})}),ot=te(function(e,t){return t.authType===k.Auto?mn(e,t):e._digest?Ie(e):Bt(e)});function st(e,t,n){const r=ut(e);return r.headers=Ct(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Bt(e){const t=rt();return t.patchInline("request",n=>t.patchInline("fetch",I,n.url,function(r){let f={};const c={method:r.method};if(r.headers&&(f=Ct(f,r.headers)),r.data!==void 0){const[b,A]=function(C){if(typeof C=="string")return[C,{}];if(Le(C))return[C,{}];if(Pe(C))return[C,{}];if(C&&typeof C=="object")return[JSON.stringify(C),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(typeof C))}(r.data);c.body=b,f=Ct(f,A)}return r.signal&&(c.signal=r.signal),r.withCredentials&&(c.credentials="include"),c.headers=f,c}(n)),e)}var vn=tt(285);const yn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},jt=e=>e.replace(/[[\]\\-]/g,"\\$&"),Ce=e=>e.join(""),wn=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],f=[];let c=n+1,b=!1,A=!1,C=!1,$=!1,D=n,W="";t:for(;c<e.length;){const U=e.charAt(c);if(U!=="!"&&U!=="^"||c!==n+1){if(U==="]"&&b&&!C){D=c+1;break}if(b=!0,U!=="\\"||C){if(U==="["&&!C){for(const[B,[H,Z,z]]of Object.entries(yn))if(e.startsWith(B,c)){if(W)return["$.",!1,e.length-n,!0];c+=B.length,z?f.push(H):r.push(H),A=A||Z;continue t}}C=!1,W?(U>W?r.push(jt(W)+"-"+jt(U)):U===W&&r.push(jt(U)),W="",c++):e.startsWith("-]",c+1)?(r.push(jt(U+"-")),c+=2):e.startsWith("-",c+1)?(W=U,c+=2):(r.push(jt(U)),c++)}else C=!0,c++}else $=!0,c++}if(D<c)return["",!1,0,!1];if(!r.length&&!f.length)return["$.",!1,e.length-n,!0];if(f.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!$)return[(q=r[0].length===2?r[0].slice(-1):r[0],q.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,D-n,!1];var q;const Y="["+($?"^":"")+Ce(r)+"]",X="["+($?"":"^")+Ce(f)+"]";return[r.length&&f.length?"("+Y+"|"+X+")":r.length?Y:X,A,D-n,!0]};function lt(e,t,n){var r;return(t=typeof(r=function(f,c){if(typeof f!="object"||!f)return f;var b=f[Symbol.toPrimitive];if(b!==void 0){var A=b.call(f,"string");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(f)}(t))=="symbol"?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gt=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Gt(t),!(!n.nocomment&&t.charAt(0)==="#")&&new Wt(t,n).match(e)},En=gt,bn=/^\*+([^+@!?\*\[\(]*)$/,Nn=e=>t=>!t.startsWith(".")&&t.endsWith(e),xn=e=>t=>t.endsWith(e),On=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),An=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),Rn=/^\*+\.\*+$/,Tn=e=>!e.startsWith(".")&&e.includes("."),Pn=e=>e!=="."&&e!==".."&&e.includes("."),Ln=/^\.\*+$/,In=e=>e!=="."&&e!==".."&&e.startsWith("."),Cn=/^\*+$/,_n=e=>e.length!==0&&!e.startsWith("."),Sn=e=>e.length!==0&&e!=="."&&e!=="..",jn=/^\?+([^+@!?\*\[\(]*)?$/,$n=e=>{let[t,n=""]=e;const r=_e([t]);return n?(n=n.toLowerCase(),f=>r(f)&&f.toLowerCase().endsWith(n)):r},Fn=e=>{let[t,n=""]=e;const r=Se([t]);return n?(n=n.toLowerCase(),f=>r(f)&&f.toLowerCase().endsWith(n)):r},Dn=e=>{let[t,n=""]=e;const r=Se([t]);return n?f=>r(f)&&f.endsWith(n):r},kn=e=>{let[t,n=""]=e;const r=_e([t]);return n?f=>r(f)&&f.endsWith(n):r},_e=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Se=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},je=typeof Mt=="object"&&Mt?typeof me=="object"&&me&&me.__MINIMATCH_TESTING_PLATFORM__||Mt.platform:"posix";gt.sep=je==="win32"?"\\":"/";const yt=Symbol("globstar **");gt.GLOBSTAR=yt;const $e={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},ne="[^/]",re=ne+"*?",Fe=e=>e.split("").reduce((t,n)=>(t[n]=!0,t),{}),Mn=Fe("().*{}+?[]^$\\!"),Un=Fe("[.(");gt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>gt(n,e,t)};const Nt=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};gt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return gt;const t=gt;return Object.assign(function(n,r){return t(n,r,Nt(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,Nt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(Nt(e,n)).Minimatch}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,Nt(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,Nt(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,Nt(e,r))},defaults:n=>t.defaults(Nt(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,Nt(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,Nt(e,r))},match:function(n,r){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,Nt(e,f))},sep:t.sep,GLOBSTAR:yt})};const De=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Gt(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:vn(e)};gt.braceExpand=De;const Gt=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};gt.makeRe=function(e){return new Wt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},gt.match=function(e,t){const n=new Wt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const ke=/[?*]|[+@!]\(.*?\)|\[|\]/,Me=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Wt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lt(this,"options",void 0),lt(this,"set",void 0),lt(this,"pattern",void 0),lt(this,"windowsPathsNoEscape",void 0),lt(this,"nonegate",void 0),lt(this,"negate",void 0),lt(this,"comment",void 0),lt(this,"empty",void 0),lt(this,"preserveMultipleSlashes",void 0),lt(this,"partial",void 0),lt(this,"globSet",void 0),lt(this,"globParts",void 0),lt(this,"nocase",void 0),lt(this,"isWindows",void 0),lt(this,"platform",void 0),lt(this,"windowsNoMagicRoot",void 0),lt(this,"regexp",void 0),Gt(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||je,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(c=>this.slashSplit(c));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let f=this.globParts.map((c,b,A)=>{if(this.isWindows&&this.windowsNoMagicRoot){const C=!(c[0]!==""||c[1]!==""||c[2]!=="?"&&ke.test(c[2])||ke.test(c[3])),$=/^[a-z]:/i.test(c[0]);if(C)return[...c.slice(0,4),...c.slice(4).map(D=>this.parse(D))];if($)return[c[0],...c.slice(1).map(D=>this.parse(D))]}return c.map(C=>this.parse(C))});if(this.debug(this.pattern,f),this.set=f.filter(c=>c.indexOf(!1)===-1),this.isWindows)for(let c=0;c<this.set.length;c++){const b=this.set[c];b[0]===""&&b[1]===""&&this.globParts[c][2]==="?"&&typeof b[3]=="string"&&/^[a-z]:$/i.test(b[3])&&(b[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let f=0;f<t[r].length;f++)t[r][f]==="**"&&(t[r][f]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let f=r;for(;n[f+1]==="**";)f++;f!==r&&n.splice(r,f-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,f)=>{const c=r[r.length-1];return f==="**"&&c==="**"?r:f===".."&&c&&c!==".."&&c!=="."&&c!=="**"?(r.pop(),r):(r.push(f),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let f=1;f<t.length-1;f++){const c=t[f];f===1&&c===""&&t[0]===""||c!=="."&&c!==""||(n=!0,t.splice(f,1),f--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const f=t[r-1];f&&f!=="."&&f!==".."&&f!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let f=-1;for(;(f=r.indexOf("**",f+1))!==-1;){let b=f;for(;r[b+1]==="**";)b++;b>f&&r.splice(f+1,b-f);let A=r[f+1];const C=r[f+2],$=r[f+3];if(A!==".."||!C||C==="."||C===".."||!$||$==="."||$==="..")continue;n=!0,r.splice(f,1);const D=r.slice(0);D[f]="**",t.push(D),f--}if(!this.preserveMultipleSlashes){for(let b=1;b<r.length-1;b++){const A=r[b];b===1&&A===""&&r[0]===""||A!=="."&&A!==""||(n=!0,r.splice(b,1),b--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let c=0;for(;(c=r.indexOf("..",c+1))!==-1;){const b=r[c-1];if(b&&b!=="."&&b!==".."&&b!=="**"){n=!0;const A=c===1&&r[c+1]==="**"?["."]:[];r.splice(c-1,2,...A),r.length===0&&r.push(""),c-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const f=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);f&&(t[n]=f,t[r]=[])}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],f=0,c=0,b=[],A="";for(;f<t.length&&c<n.length;)if(t[f]===n[c])b.push(A==="b"?n[c]:t[f]),f++,c++;else if(r&&t[f]==="**"&&n[c]===t[f+1])b.push(t[f]),f++;else if(r&&n[c]==="**"&&t[f]===n[c+1])b.push(n[c]),c++;else if(t[f]!=="*"||!n[c]||!this.options.dot&&n[c].startsWith(".")||n[c]==="**"){if(n[c]!=="*"||!t[f]||!this.options.dot&&t[f].startsWith(".")||t[f]==="**"||A==="a")return!1;A="b",b.push(n[c]),f++,c++}else{if(A==="b")return!1;A="a",b.push(t[f]),f++,c++}return t.length===n.length&&b}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let f=0;f<t.length&&t.charAt(f)==="!";f++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const f=this.options;if(this.isWindows){const U=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),B=n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3]);if(U&&B){const H=t[3],Z=n[3];H.toLowerCase()===Z.toLowerCase()&&(t[3]=Z)}else if(B&&typeof t[0]=="string"){const H=n[3],Z=t[0];H.toLowerCase()===Z.toLowerCase()&&(n[3]=Z,n=n.slice(3))}else if(U&&typeof n[0]=="string"){const H=t[3];H.toLowerCase()===n[0].toLowerCase()&&(n[0]=H,t=t.slice(3))}}const{optimizationLevel:c=1}=this.options;c>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var b=0,A=0,C=t.length,$=n.length;b<C&&A<$;b++,A++){this.debug("matchOne loop");var D=n[A],W=t[b];if(this.debug(n,D,W),D===!1)return!1;if(D===yt){this.debug("GLOBSTAR",[n,D,W]);var q=b,Y=A+1;if(Y===$){for(this.debug("** at the end");b<C;b++)if(t[b]==="."||t[b]===".."||!f.dot&&t[b].charAt(0)===".")return!1;return!0}for(;q<C;){var X=t[q];if(this.debug("\nglobstar while",t,q,n,Y,X),this.matchOne(t.slice(q),n.slice(Y),r))return this.debug("globstar found match!",q,C,X),!0;if(X==="."||X===".."||!f.dot&&X.charAt(0)==="."){this.debug("dot detected!",t,q,n,Y);break}this.debug("globstar swallow a segment, and continue"),q++}return!(!r||(this.debug("\n>>> no match, partial?",t,q,n,Y),q!==C))}let U;if(typeof D=="string"?(U=W===D,this.debug("string match",D,W,U)):(U=D.test(W),this.debug("pattern match",D,W,U)),!U)return!1}if(b===C&&A===$)return!0;if(b===C)return r;if(A===$)return b===C-1&&t[b]==="";throw new Error("wtf?")}braceExpand(){return De(this.pattern,this.options)}parse(t){Gt(t);const n=this.options;if(t==="**")return yt;if(t==="")return"";let r,f=null;(r=t.match(Cn))?f=n.dot?Sn:_n:(r=t.match(bn))?f=(n.nocase?n.dot?An:On:n.dot?xn:Nn)(r[1]):(r=t.match(jn))?f=(n.nocase?n.dot?Fn:$n:n.dot?Dn:kn)(r):(r=t.match(Rn))?f=n.dot?Pn:Tn:(r=t.match(Ln))&&(f=In);let c="",b=!1,A=!1;const C=[],$=[];let D,W=!1,q=!1,Y=t.charAt(0)===".",X=n.dot||Y;const U=z=>z.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",B=()=>{if(W){switch(W){case"*":c+=re,b=!0;break;case"?":c+=ne,b=!0;break;default:c+="\\"+W}this.debug("clearStateChar %j %j",W,c),W=!1}};for(let z,K=0;K<t.length&&(z=t.charAt(K));K++)if(this.debug("%s	%s %s %j",t,K,c,z),A){if(z==="/")return!1;Mn[z]&&(c+="\\"),c+=z,A=!1}else switch(z){case"/":return!1;case"\\":B(),A=!0;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",t,K,c,z),this.debug("call clearStateChar %j",W),B(),W=z,n.noext&&B();continue;case"(":{if(!W){c+="\\(";continue}const nt={type:W,start:K-1,reStart:c.length,open:$e[W].open,close:$e[W].close};this.debug(this.pattern,"	",nt),C.push(nt),c+=nt.open,nt.start===0&&nt.type!=="!"&&(Y=!0,c+=U(t.slice(K+1))),this.debug("plType %j %j",W,c),W=!1;continue}case")":{const nt=C[C.length-1];if(!nt){c+="\\)";continue}C.pop(),B(),b=!0,D=nt,c+=D.close,D.type==="!"&&$.push(Object.assign(D,{reEnd:c.length}));continue}case"|":{const nt=C[C.length-1];if(!nt){c+="\\|";continue}B(),c+="|",nt.start===0&&nt.type!=="!"&&(Y=!0,c+=U(t.slice(K+1)));continue}case"[":B();const[ft,at,ht,Dt]=wn(t,K);ht?(c+=ft,q=q||at,K+=ht-1,b=b||Dt):c+="\\[";continue;case"]":c+="\\"+z;continue;default:B(),c+=Me(z)}for(D=C.pop();D;D=C.pop()){let z;z=c.slice(D.reStart+D.open.length),this.debug(this.pattern,"setting tail",c,D),z=z.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ft,at,ht)=>(ht||(ht="\\"),at+at+ht+"|")),this.debug("tail=%j\n   %s",z,z,D,c);const K=D.type==="*"?re:D.type==="?"?ne:"\\"+D.type;b=!0,c=c.slice(0,D.reStart)+K+"\\("+z}B(),A&&(c+="\\\\");const H=Un[c.charAt(0)];for(let z=$.length-1;z>-1;z--){const K=$[z],ft=c.slice(0,K.reStart),at=c.slice(K.reStart,K.reEnd-8);let ht=c.slice(K.reEnd);const Dt=c.slice(K.reEnd-8,K.reEnd)+ht,nt=ft.split(")").length,mr=ft.split("(").length-nt;let ge=ht;for(let Je=0;Je<mr;Je++)ge=ge.replace(/\)[+*?]?/,"");ht=ge,c=ft+at+ht+(ht===""?"(?:$|\\/)":"")+Dt}if(c!==""&&b&&(c="(?=.)"+c),H&&(c=(Y?"":X?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+c),!n.nocase||b||n.nocaseMagicOnly||(b=t.toUpperCase()!==t.toLowerCase()),!b)return c.replace(/\\(.)/g,"$1");const Z=(n.nocase?"i":"")+(q?"u":"");try{const z=f?{_glob:t,_src:c,test:f}:{_glob:t,_src:c};return Object.assign(new RegExp("^"+c+"$",Z),z)}catch(z){return this.debug("invalid regexp",z),new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?re:n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",f=n.nocase?"i":"";let c=t.map(b=>{const A=b.map(C=>typeof C=="string"?Me(C):C===yt?yt:C._src);return A.forEach((C,$)=>{const D=A[$+1],W=A[$-1];C===yt&&W!==yt&&(W===void 0?D!==void 0&&D!==yt?A[$+1]="(?:\\/|"+r+"\\/)?"+D:A[$]=r:D===void 0?A[$-1]=W+"(?:\\/|"+r+")?":D!==yt&&(A[$-1]=W+"(?:\\/|\\/"+r+"\\/)"+D,A[$+1]=yt))}),A.filter(C=>C!==yt).join("/")}).join("|");c="^(?:"+c+")$",this.negate&&(c="^(?!"+c+").*$");try{this.regexp=new RegExp(c,f)}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const f=this.slashSplit(t);this.debug(this.pattern,"split",f);const c=this.set;this.debug(this.pattern,"set",c);let b=f[f.length-1];if(!b)for(let A=f.length-2;!b&&A>=0;A--)b=f[A];for(let A=0;A<c.length;A++){const C=c[A];let $=f;if(r.matchBase&&C.length===1&&($=[b]),this.matchOne($,C,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return gt.defaults(t).Minimatch}}function oe(e){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(e.status," ").concat(e.statusText));return t.status=e.status,t.response=e,t}function it(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw oe(t);return t}function Lt(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Ut(e.headers):{},status:e.status,statusText:e.statusText}:t}gt.Minimatch=Wt,gt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},gt.unescape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};const Bn=(Ue=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const f=st({url:l(e.remoteURL,o(t)),method:"COPY",headers:{Destination:l(e.remoteURL,o(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return b=function(A){it(e,A)},(c=ot(f,e))&&c.then||(c=Promise.resolve(c)),b?c.then(b):c;var c,b},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(Ue.apply(this,e))}catch(n){return Promise.reject(n)}});var Ue,se=tt(635),Gn=tt(829),Ot=tt.n(Gn),_t=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(_t||{});function Vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_t.Original;const r=Ot().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function $t(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const f={multistatus:Array.isArray(r)?r[0]:r};return Ot().set(f,"multistatus.response",Vt(f,"multistatus.response",_t.Array)),Ot().set(f,"multistatus.response",Ot().get(f,"multistatus.response").map(c=>function(b){const A=Object.assign({},b);return A.status?Ot().set(A,"status",Vt(A,"status",_t.Object)):(Ot().set(A,"propstat",Vt(A,"propstat",_t.Object)),Ot().set(A,"propstat.prop",Vt(A,"propstat.prop",_t.Object))),A}(c))),f}(new se.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:f="0",resourcetype:c=null,getcontenttype:b=null,getetag:A=null}=e,C=c&&typeof c=="object"&&c.collection!==void 0?"directory":"file",$={filename:t,basename:O().basename(t),lastmod:r,size:parseInt(f,10),type:C,etag:typeof A=="string"?A.replace(/"/g,""):null};return C==="file"&&($.mime=b&&typeof b=="string"?b.split(";")[0]:""),n&&($.props=e),$}function Be(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:f,status:c}}=r,[b,A,C]=c.split(" ",3),$=parseInt(A,10);if($>=400){const D=new Error("Invalid response: ".concat($," ").concat(C));throw D.status=$,D}return Xt(f,p(t),n)}function Ge(e){switch(e.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(e,10)}}function ie(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const ae=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,f=st({url:l(e.remoteURL,o(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return ie(ot(f,e),function(c){return it(e,c),ie(c.text(),function(b){return ie($t(b),function(A){const C=Be(A,t,r);return Lt(c,C,r)})})})});function We(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Wn=Ve(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(c){if(!c||c==="/")return[];let b=c;const A=[];do A.push(b),b=O().dirname(b);while(b&&b!=="/");return A}(p(t));r.sort((c,b)=>c.length>b.length?1:b.length>c.length?-1:0);let f=!1;return function(c,b,A){if(typeof c[ze]=="function"){let U=function(B){try{for(;!(C=W.next()).done;)if((B=b(C.value))&&B.then){if(!qe(B))return void B.then(U,D||(D=mt.bind(null,$=new St,2)));B=B.v}$?mt($,1,B):$=B}catch(H){mt($||($=new St),2,H)}};var C,$,D,W=c[ze]();if(U(),W.return){var q=function(B){try{C.done||W.return()}catch{}return B};if($&&$.then)return $.then(q,function(B){throw q(B)});q()}return $}if(!("length"in c))throw new TypeError("Object is not iterable");for(var Y=[],X=0;X<c.length;X++)Y.push(c[X]);return function(U,B,H){var Z,z,K=-1;return function ft(at){try{for(;++K<U.length&&(!H||!H());)if((at=B(K))&&at.then){if(!qe(at))return void at.then(ft,z||(z=mt.bind(null,Z=new St,2)));at=at.v}Z?mt(Z,1,at):Z=at}catch(ht){mt(Z||(Z=new St),2,ht)}}(),Z}(Y,function(U){return b(Y[U])},A)}(r,function(c){return b=function(){return function(C,$){try{var D=We(ae(e,c),function(W){if(W.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(W){return $(W)}return D&&D.then?D.then(void 0,$):D}(0,function(C){const $=C;return function(){if($.status===404)return f=!0,Xe(ue(e,c,{...n,recursive:!1}));throw C}()})},(A=function(){if(f)return Xe(ue(e,c,{...n,recursive:!1}))}())&&A.then?A.then(b):b();var b,A},function(){return!1})});function Ve(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Vn(){}function Xe(e,t){if(!t)return e&&e.then?e.then(Vn):Promise.resolve()}const ze=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function mt(e,t,n){if(!e.s){if(n instanceof St){if(!n.s)return void(n.o=mt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(mt.bind(null,e,t),mt.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const St=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,f=this.s;if(f){const c=1&f?t:n;if(c){try{mt(r,1,c(this.v))}catch(b){mt(r,2,b)}return r}return this}return this.o=function(c){try{const b=c.v;1&c.s?mt(r,1,t?t(b):b):n?mt(r,1,n(b)):mt(r,2,b)}catch(b){mt(r,2,b)}},r},e}();function qe(e){return e instanceof St&&1&e.s}const ue=Ve(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return Wn(e,t,n);const r=st({url:l(e.remoteURL,(f=o(t),f.endsWith("/")?f:f+"/")),method:"MKCOL"},e,n);var f;return We(ot(r,e),function(c){it(e,c)})});var Xn=tt(388),He=tt.n(Xn);const zn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let A="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(A="".concat(A).concat(n.range.end)),r.Range=A}const f=st({url:l(e.remoteURL,o(t)),method:"GET",headers:r},e,n);return b=function(A){if(it(e,A),r.Range&&A.status!==206){const C=new Error("Invalid response code for partial request: ".concat(A.status));throw C.status=A.status,C}return n.callback&&setTimeout(()=>{n.callback(A)},0),A.body},(c=ot(f,e))&&c.then||(c=Promise.resolve(c)),b?c.then(b):c;var c,b}),qn=()=>{},Hn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=l(e.remoteURL,o(t)));const r=st(n,e,{});return c=function(b){return it(e,b),b},(f=ot(r,e))&&f.then||(f=Promise.resolve(f)),c?f.then(c):f;var f,c}),Zn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:l(e.remoteURL,o(t)),method:"DELETE"},e,n);return c=function(b){it(e,b)},(f=ot(r,e))&&f.then||(f=Promise.resolve(f)),c?f.then(c):f;var f,c}),Kn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,f){try{var c=(b=ae(e,t,n),A=function(){return!0},C?A?A(b):b:(b&&b.then||(b=Promise.resolve(b)),A?b.then(A):b))}catch($){return f($)}var b,A,C;return c&&c.then?c.then(void 0,f):c}(0,function(r){if(r.status===404)return!1;throw r})});function ce(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Yn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:l(e.remoteURL,o(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return ce(ot(r,e),function(f){return it(e,f),ce(f.text(),function(c){if(!c)throw new Error("Failed parsing directory contents: Empty response");return ce($t(c),function(b){const A=s(t);let C=function($,D,W){let q=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Y=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const X=O().join(D,"/"),{multistatus:{response:U}}=$,B=U.map(H=>{const Z=function(K){try{return K.replace(/^https?:\/\/[^\/]+/,"")}catch(ft){throw new N(ft,"Failed normalising HREF")}}(H.href),{propstat:{prop:z}}=H;return Xt(z,X==="/"?decodeURIComponent(p(Z)):p(O().relative(decodeURIComponent(X),decodeURIComponent(Z))),q)});return Y?B:B.filter(H=>H.basename&&(H.type==="file"||H.filename!==W.replace(/\/$/,"")))}(b,s(e.remoteBasePath||e.remotePath),A,n.details,n.includeSelf);return n.glob&&(C=function($,D){return $.filter(W=>En(W.filename,D,{matchBase:!0}))}(C,n.glob)),Lt(f,C,n.details)})})})});function le(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Qn=le(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:l(e.remoteURL,o(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[er]},e,n);return zt(ot(r,e),function(f){return it(e,f),zt(f.text(),function(c){return Lt(f,c,n.details)})})});function zt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Jn=le(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:l(e.remoteURL,o(t)),method:"GET"},e,n);return zt(ot(r,e),function(f){let c;return it(e,f),function(b,A){var C=b();return C&&C.then?C.then(A):A()}(function(){return zt(f.arrayBuffer(),function(b){c=b})},function(){return Lt(f,c,n.details)})})}),tr=le(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new N({info:{code:M.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?Qn(e,t,n):Jn(e,t,n)}),er=e=>e;function nr(e){return new se.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(Ze({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function Ze(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(t,":").concat(r)]=Ze(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(t,":").concat(r)]=n[r],delete n[r]));return n}function he(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function Ke(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const rr=Ke(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const f=st({url:l(e.remoteURL,o(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return he(ot(f,e),function(c){if(it(e,c),c.status!==204&&c.status!==200)throw oe(c)})}),or=Ke(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:f=sr}=n,c={Accept:"text/plain,application/xml",Timeout:f};r&&(c.If=r);const b=st({url:l(e.remoteURL,o(t)),method:"LOCK",headers:c,data:nr(e.contactHref)},e,n);return he(ot(b,e),function(A){return it(e,A),he(A.text(),function(C){const $=(q=C,new se.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(q)),D=Ot().get($,"prop.lockdiscovery.activelock.locktoken.href"),W=Ot().get($,"prop.lockdiscovery.activelock.timeout");var q;if(!D)throw oe(A,"No lock token received: ");return{token:D,serverTimeout:W}})})}),sr="Infinite, Second-4100000000";function pe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const ir=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=st({url:l(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return pe(ot(r,e),function(f){return it(e,f),pe(f.text(),function(c){return pe($t(c),function(b){const A=function(C){try{const[$]=C.multistatus.response,{propstat:{prop:{"quota-used-bytes":D,"quota-available-bytes":W}}}=$;return D!==void 0&&W!==void 0?{used:parseInt(D,10),available:Ge(W)}:null}catch{}return null}(b);return Lt(f,A,t.details)})})})});function fe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const ar=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,f=st({url:l(e.remoteURL,o(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return fe(ot(f,e),function(c){return it(e,c),fe(c.text(),function(b){return fe($t(b),function(A){const C=function($,D,W){const q={truncated:!1,results:[]};return q.truncated=$.multistatus.response.some(Y=>{var X,U;return((X=(Y.status||((U=Y.propstat)===null||U===void 0?void 0:U.status)).split(" ",3))===null||X===void 0?void 0:X[1])==="507"&&Y.href.replace(/\/$/,"").endsWith(o(D).replace(/\/$/,""))}),$.multistatus.response.forEach(Y=>{if(Y.propstat===void 0)return;const X=Y.href.split("/").map(decodeURIComponent).join("/");q.results.push(Xt(Y.propstat.prop,X,W))}),q}(A,t,r);return Lt(c,C,r)})})})}),ur=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const f=st({url:l(e.remoteURL,o(t)),method:"MOVE",headers:{Destination:l(e.remoteURL,o(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return b=function(A){it(e,A)},(c=ot(f,e))&&c.then||(c=Promise.resolve(c)),b?c.then(b):c;var c,b});var cr=tt(172);const lr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:f=!0,overwrite:c=!0}=r,b={"Content-Type":"application/octet-stream"};f===!1||(b["Content-Length"]="".concat(typeof f=="number"?f:function(D){if(Pe(D))return D.byteLength;if(Le(D))return D.length;if(typeof D=="string")return(0,cr.d)(D);throw new N({info:{code:M.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),c||(b["If-None-Match"]="*");const A=st({url:l(e.remoteURL,o(t)),method:"PUT",headers:b,data:n},e,r);return $=function(D){try{it(e,D)}catch(W){const q=W;if(q.status!==412||c)throw q;return!1}return!0},(C=ot(A,e))&&C.then||(C=Promise.resolve(C)),$?C.then($):C;var C,$}),Ye=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=st({url:l(e.remoteURL,o(t)),method:"OPTIONS"},e,n);return c=function(b){var A,C;try{it(e,b)}catch($){throw $}return{compliance:((A=b.headers.get("DAV"))!==null&&A!==void 0?A:"").split(",").map($=>$.trim()),server:(C=b.headers.get("Server"))!==null&&C!==void 0?C:""}},(f=ot(r,e))&&f.then||(f=Promise.resolve(f)),c?f.then(c):f;var f,c});function Ft(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const hr=de(function(e,t,n,r,f){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new N({info:{code:M.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const b={"Content-Type":"application/octet-stream","Content-Length":"".concat(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},A=st({url:l(e.remoteURL,o(t)),method:"PUT",headers:b,data:f},e,c);return Ft(ot(A,e),function(C){it(e,C)})});function Qe(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const pr=de(function(e,t,n,r,f){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new N({info:{code:M.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const b={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":"".concat(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},A=st({url:l(e.remoteURL,o(t)),method:"PATCH",headers:b,data:f},e,c);return Ft(ot(A,e),function(C){it(e,C)})});function de(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const fr=de(function(e,t,n,r,f){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Ft(Ye(e,t,c),function(b){let A=!1;return Qe(function(){if(b.compliance.includes("sabredav-partialupdate"))return Ft(pr(e,t,n,r,f,c),function(C){return A=!0,C})},function(C){let $=!1;return A?C:Qe(function(){if(b.server.includes("Apache")&&b.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ft(hr(e,t,n,r,f,c),function(D){return $=!0,D})},function(D){if($)return D;throw new N({info:{code:M.NotSupported}},"Not supported")})})})}),dr="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function gr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:f=dr,ha1:c,headers:b={},httpAgent:A,httpsAgent:C,password:$,token:D,username:W,withCredentials:q}=t;let Y=n;Y||(Y=W||$?k.Password:k.None);const X={authType:Y,remoteBasePath:r,contactHref:f,ha1:c,headers:Object.assign({},b),httpAgent:A,httpsAgent:C,password:$,remotePath:i(e),remoteURL:e,token:D,username:W,withCredentials:q};return j(X,W,$,D,c),{copyFile:(U,B,H)=>Bn(X,U,B,H),createDirectory:(U,B)=>ue(X,U,B),createReadStream:(U,B)=>function(H,Z){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const K=new(He()).PassThrough;return zn(H,Z,z).then(ft=>{ft.pipe(K)}).catch(ft=>{K.emit("error",ft)}),K}(X,U,B),createWriteStream:(U,B,H)=>function(Z,z){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qn;const at=new(He()).PassThrough,ht={};K.overwrite===!1&&(ht["If-None-Match"]="*");const Dt=st({url:l(Z.remoteURL,o(z)),method:"PUT",headers:ht,data:at,maxRedirects:0},Z,K);return ot(Dt,Z).then(nt=>it(Z,nt)).then(nt=>{setTimeout(()=>{ft(nt)},0)}).catch(nt=>{at.emit("error",nt)}),at}(X,U,B,H),customRequest:(U,B)=>Hn(X,U,B),deleteFile:(U,B)=>Zn(X,U,B),exists:(U,B)=>Kn(X,U,B),getDirectoryContents:(U,B)=>Yn(X,U,B),getFileContents:(U,B)=>tr(X,U,B),getFileDownloadLink:U=>function(B,H){let Z=l(B.remoteURL,o(H));const z=/^https:/i.test(Z)?"https":"http";switch(B.authType){case k.None:break;case k.Password:{const K=y(B.headers.Authorization.replace(/^Basic /i,"").trim());Z=Z.replace(/^https?:\/\//,"".concat(z,"://").concat(K,"@"));break}default:throw new N({info:{code:M.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return Z}(X,U),getFileUploadLink:U=>function(B,H){let Z="".concat(l(B.remoteURL,o(H)),"?Content-Type=application/octet-stream");const z=/^https:/i.test(Z)?"https":"http";switch(B.authType){case k.None:break;case k.Password:{const K=y(B.headers.Authorization.replace(/^Basic /i,"").trim());Z=Z.replace(/^https?:\/\//,"".concat(z,"://").concat(K,"@"));break}default:throw new N({info:{code:M.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return Z}(X,U),getHeaders:()=>Object.assign({},X.headers),getQuota:U=>ir(X,U),lock:(U,B)=>or(X,U,B),moveFile:(U,B,H)=>ur(X,U,B,H),putFileContents:(U,B,H)=>lr(X,U,B,H),partialUpdateFileContents:(U,B,H,Z,z)=>fr(X,U,B,H,Z,z),getDAVCompliance:U=>Ye(X,U),search:(U,B)=>ar(X,U,B),setHeaders:U=>{X.headers=Object.assign({},U)},stat:(U,B)=>ae(X,U,B),unlock:(U,B,H)=>rr(X,U,B,H)}}})(),wt.hT,wt.O4,wt.Kd,wt.YK;var Cr=wt.UU,_r=wt.Gu;wt.ky,wt.h4,wt.ch,wt.hq,wt.i5;var ve={};const Pt=br().setApp("@nextcloud/files").detectUser().build();var Sr=(u=>(u[u.UploadFromDevice=0]="UploadFromDevice",u[u.CreateNew=1]="CreateNew",u[u.Other=2]="Other",u))(Sr||{});class jr{constructor(){Rt(this,"_entries",[])}registerEntry(a){var g;this.validateEntry(a),a.category=(g=a.category)!=null?g:1,this._entries.push(a)}unregisterEntry(a){const g=typeof a=="string"?this.getEntryIndex(a):this.getEntryIndex(a.id);if(g===-1){Pt.warn("Entry not found, nothing removed",{entry:a,entries:this.getEntries()});return}this._entries.splice(g,1)}getEntries(a){return a?this._entries.filter(g=>typeof g.enabled=="function"?g.enabled(a):!0):this._entries}getEntryIndex(a){return this._entries.findIndex(g=>g.id===a)}validateEntry(a){if(!a.id||!a.displayName||!(a.iconSvgInline||a.iconClass)||!a.handler)throw new Error("Invalid entry");if(typeof a.id!="string"||typeof a.displayName!="string")throw new Error("Invalid id or displayName property");if(a.iconClass&&typeof a.iconClass!="string"||a.iconSvgInline&&typeof a.iconSvgInline!="string")throw new Error("Invalid icon provided");if(a.enabled!==void 0&&typeof a.enabled!="function")throw new Error("Invalid enabled property");if(typeof a.handler!="function")throw new Error("Invalid handler property");if("order"in a&&typeof a.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(a.id)!==-1)throw new Error("Duplicate entry")}}const $r=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new jr,Pt.debug("NewFileMenu initialized")),window._nc_newfilemenu};class io{constructor(a){Rt(this,"_header");this.validateHeader(a),this._header=a}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(a){if(!a.id||!a.render||!a.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof a.id!="string")throw new Error("Invalid id property");if(a.enabled!==void 0&&typeof a.enabled!="function")throw new Error("Invalid enabled property");if(a.render&&typeof a.render!="function")throw new Error("Invalid render property");if(a.updated&&typeof a.updated!="function")throw new Error("Invalid updated property")}}const ao=function(u){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],Pt.debug("FileListHeaders initialized")),window._nc_filelistheader.find(a=>a.id===u.id)){Pt.error("Header ".concat(u.id," already registered"),{header:u});return}window._nc_filelistheader.push(u)};var bt=(u=>(u[u.NONE=0]="NONE",u[u.CREATE=4]="CREATE",u[u.READ=1]="READ",u[u.UPDATE=2]="UPDATE",u[u.DELETE=8]="DELETE",u[u.SHARE=16]="SHARE",u[u.ALL=31]="ALL",u))(bt||{});const ln=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],hn={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},uo=function(u,a={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...ln],window._nc_dav_namespaces={...hn});const g={...window._nc_dav_namespaces,...a};if(window._nc_dav_properties.find(N=>N===u))return Pt.warn("".concat(u," already registered"),{prop:u}),!1;if(u.startsWith("<")||u.split(":").length!==2)return Pt.error("".concat(u," is not valid. See example: 'oc:fileid'"),{prop:u}),!1;const x=u.split(":")[0];return g[x]?(window._nc_dav_properties.push(u),window._nc_dav_namespaces=g,!0):(Pt.error("".concat(u," namespace unknown"),{prop:u,namespaces:g}),!1)},Oe=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...ln]),window._nc_dav_properties.map(u=>"<".concat(u," />")).join(" ")},Ae=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...hn}),Object.keys(window._nc_dav_namespaces).map(u=>{var a;return"xmlns:".concat(u,'="').concat((a=window._nc_dav_namespaces)==null?void 0:a[u],'"')}).join(" ")},co=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(Ae(),">\n			<d:prop>\n				").concat(Oe(),"\n			</d:prop>\n		</d:propfind>")},Fr=function(){return'<?xml version="1.0"?>\n		<oc:filter-files '.concat(Ae(),">\n			<d:prop>\n				").concat(Oe(),"\n			</d:prop>\n			<oc:filter-rules>\n				<oc:favorite>1</oc:favorite>\n			</oc:filter-rules>\n		</oc:filter-files>")},lo=function(u){var a;return'<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest '.concat(Ae(),'\n	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n	<d:basicsearch>\n		<d:select>\n			<d:prop>\n				').concat(Oe(),"\n			</d:prop>\n		</d:select>\n		<d:from>\n			<d:scope>\n				<d:href>/files/").concat((a=Ee())==null?void 0:a.uid,"/</d:href>\n				<d:depth>infinity</d:depth>\n			</d:scope>\n		</d:from>\n		<d:where>\n			<d:and>\n				<d:or>\n					<d:not>\n						<d:eq>\n							<d:prop>\n								<d:getcontenttype/>\n							</d:prop>\n							<d:literal>httpd/unix-directory</d:literal>\n						</d:eq>\n					</d:not>\n					<d:eq>\n						<d:prop>\n							<oc:size/>\n						</d:prop>\n						<d:literal>0</d:literal>\n					</d:eq>\n				</d:or>\n				<d:gt>\n					<d:prop>\n						<d:getlastmodified/>\n					</d:prop>\n					<d:literal>").concat(u,"</d:literal>\n				</d:gt>\n			</d:and>\n		</d:where>\n		<d:orderby>\n			<d:order>\n				<d:prop>\n					<d:getlastmodified/>\n				</d:prop>\n				<d:descending/>\n			</d:order>\n		</d:orderby>\n		<d:limit>\n			<d:nresults>100</d:nresults>\n			<ns:firstresult>0</ns:firstresult>\n		</d:limit>\n	</d:basicsearch>\n</d:searchrequest>")},Dr=function(u=""){let a=bt.NONE;return u&&((u.includes("C")||u.includes("K"))&&(a|=bt.CREATE),u.includes("G")&&(a|=bt.READ),(u.includes("W")||u.includes("N")||u.includes("V"))&&(a|=bt.UPDATE),u.includes("D")&&(a|=bt.DELETE),u.includes("R")&&(a|=bt.SHARE)),a};var Re=(u=>(u.Folder="folder",u.File="file",u))(Re||{});const pn=function(u,a){return u.match(a)!==null},on=(u,a)=>{if(u.id&&typeof u.id!="number")throw new Error("Invalid id type of value");if(!u.source)throw new Error("Missing mandatory source");try{new URL(u.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!u.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(u.displayname&&typeof u.displayname!="string")throw new Error("Invalid displayname type");if(u.mtime&&!(u.mtime instanceof Date))throw new Error("Invalid mtime type");if(u.crtime&&!(u.crtime instanceof Date))throw new Error("Invalid crtime type");if(!u.mime||typeof u.mime!="string"||!u.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in u&&typeof u.size!="number"&&u.size!==void 0)throw new Error("Invalid size type");if("permissions"in u&&u.permissions!==void 0&&!(typeof u.permissions=="number"&&u.permissions>=bt.NONE&&u.permissions<=bt.ALL))throw new Error("Invalid permissions");if(u.owner&&u.owner!==null&&typeof u.owner!="string")throw new Error("Invalid owner type");if(u.attributes&&typeof u.attributes!="object")throw new Error("Invalid attributes type");if(u.root&&typeof u.root!="string")throw new Error("Invalid root type");if(u.root&&!u.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(u.root&&!u.source.includes(u.root))throw new Error("Root must be part of the source");if(u.root&&pn(u.source,a)){const g=u.source.match(a)[0];if(!u.source.includes(It.join(g,u.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(u.status&&!Object.values(Te).includes(u.status))throw new Error("Status must be a valid NodeStatus")};var Te=(u=>(u.NEW="new",u.FAILED="failed",u.LOADING="loading",u.LOCKED="locked",u))(Te||{});class Qt{constructor(a,g){Rt(this,"_data");Rt(this,"_attributes");Rt(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);Rt(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(Qt.prototype)).filter(a=>typeof a[1].get=="function"&&a[0]!=="__proto__").map(a=>a[0]));Rt(this,"handler",{set:(a,g,x)=>this.readonlyAttributes.includes(g)?!1:Reflect.set(a,g,x),deleteProperty:(a,g)=>this.readonlyAttributes.includes(g)?!1:Reflect.deleteProperty(a,g),get:(a,g,x)=>this.readonlyAttributes.includes(g)?(Pt.warn('Accessing "Node.attributes.'.concat(g,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,g)):Reflect.get(a,g,x)});var x,N;on(a,g||this._knownDavService),this._data={displayname:(x=a.attributes)==null?void 0:x.displayname,...a,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update((N=a.attributes)!=null?N:{}),g&&(this._knownDavService=g)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:a}=new URL(this.source);return a+Ar(this.source.slice(a.length))}get basename(){return It.basename(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(a){this._data.displayname=a}get extension(){return It.extname(this.source)}get dirname(){if(this.root){let g=this.source;this.isDavRessource&&(g=g.split(this._knownDavService).pop());const x=g.indexOf(this.root),N=this.root.replace(/\/$/,"");return It.dirname(g.slice(x+N.length)||"/")}const a=new URL(this.source);return It.dirname(a.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(a){this._data.mtime=a}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(a){this.updateMtime(),this._data.size=a}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavRessource?bt.READ:this._data.permissions!==void 0?this._data.permissions:bt.NONE}set permissions(a){this.updateMtime(),this._data.permissions=a}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return pn(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&It.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let a=this.source;this.isDavRessource&&(a=a.split(this._knownDavService).pop());const g=a.indexOf(this.root),x=this.root.replace(/\/$/,"");return a.slice(g+x.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var a;return(a=this._data)==null?void 0:a.id}get status(){var a;return(a=this._data)==null?void 0:a.status}set status(a){this._data.status=a}move(a){on({...this._data,source:a},this._knownDavService);const g=this.basename;this._data.source=a,this.displayname===g&&this.basename!==g&&(this.displayname=this.basename),this.updateMtime()}rename(a){if(a.includes("/"))throw new Error("Invalid basename");this.move(It.dirname(this.source)+"/"+a)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(a){for(const[g,x]of Object.entries(a))try{x===void 0?delete this.attributes[g]:this.attributes[g]=x}catch(N){if(N instanceof TypeError)continue;throw N}}}class kr extends Qt{get type(){return Re.File}}class Mr extends Qt{constructor(a){super({...a,mime:"httpd/unix-directory"})}get type(){return Re.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}function Ur(){var u;return be()?"/files/".concat(Nr()):"/files/".concat((u=Ee())==null?void 0:u.uid)}const fn=Ur();function Br(){const u=xr("dav");return be()?u.replace("remote.php","public.php"):u}const dn=Br(),ho=function(u=dn,a={}){const g=Cr(u,{headers:a});function x(N){g.setHeaders({...a,"X-Requested-With":"XMLHttpRequest",requesttoken:N!=null?N:""})}return wr(x),x(Er()),_r().patch("fetch",(N,T)=>{const O=T.headers;return O!=null&&O.method&&(T.method=O.method,delete O.method),fetch(N,T)}),g},po=(u,a="/",g=fn)=>{const x=new AbortController;return new At(async(N,T,O)=>{O(()=>x.abort());try{const v=(await u.getDirectoryContents("".concat(g).concat(a),{signal:x.signal,details:!0,data:Fr(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(m=>m.filename!==a).map(m=>Gr(m,g));N(v)}catch(v){T(v)}})},Gr=function(u,a=fn,g=dn){var o,s;let x=(o=Ee())==null?void 0:o.uid;if(be())x=x!=null?x:"anonymous";else if(!x)throw new Error("No user id found");const N=u.props,T=Dr(N==null?void 0:N.permissions),O=String((N==null?void 0:N["owner-id"])||x),v=N.fileid||0,m={id:v,source:"".concat(g).concat(u.filename),mtime:new Date(Date.parse(u.lastmod)),mime:u.mime||"application/octet-stream",displayname:N.displayname!==void 0?String(N.displayname):void 0,size:(N==null?void 0:N.size)||Number.parseInt(N.getcontentlength||"0"),status:v<0?Te.FAILED:void 0,permissions:T,owner:O,root:a,attributes:{...u,...N,hasPreview:N==null?void 0:N["has-preview"]}};return(s=m.attributes)==null||delete s.props,u.type==="file"?new kr(m):new Mr(m)},ye=["B","KB","MB","GB","TB","PB"],we=["B","KiB","MiB","GiB","TiB","PiB"];function fo(u,a=!1,g=!1,x=!1){g=g&&!x,typeof u=="string"&&(u=Number(u));let N=u>0?Math.floor(Math.log(u)/Math.log(x?1e3:1024)):0;N=Math.min((g?we.length:ye.length)-1,N);const T=g?we[N]:ye[N];let O=(u/Math.pow(x?1e3:1024,N)).toFixed(1);return a===!0&&N===0?(O!=="0.0"?"< 1 ":"0 ")+(g?we[1]:ye[1]):(N<2?O=parseFloat(O).toFixed(0):O=parseFloat(O).toLocaleString(un()),O+" "+T)}function sn(u){return u instanceof Date?u.toISOString():String(u)}function Wr(u,a,g){a=a!=null?a:[T=>T],g=g!=null?g:[];const x=a.map((T,O)=>{var v;return((v=g[O])!=null?v:"asc")==="asc"?1:-1}),N=Intl.Collator([Or(),un()],{numeric:!0,usage:"sort"});return[...u].sort((T,O)=>{for(const[v,m]of a.entries()){const o=N.compare(sn(m(T)),sn(m(O)));if(o!==0)return o*x[v]}return 0})}function go(u,a={}){const g={sortingMode:"basename",sortingOrder:"asc",...a},x=O=>O.lastIndexOf(".")>0?O.slice(0,O.lastIndexOf(".")):O,N=[...g.sortFavoritesFirst?[O=>{var v;return((v=O.attributes)==null?void 0:v.favorite)!==1}]:[],...g.sortFoldersFirst?[O=>O.type!=="folder"]:[],...g.sortingMode!=="basename"?[O=>O[g.sortingMode]]:[],O=>{var v;return x(((v=O.attributes)==null?void 0:v.displayname)||O.basename)},O=>O.basename],T=[...g.sortFavoritesFirst?["asc"]:[],...g.sortFoldersFirst?["asc"]:[],...g.sortingMode==="mtime"?[g.sortingOrder==="asc"?"desc":"asc"]:[],...g.sortingMode!=="mtime"&&g.sortingMode!=="basename"?[g.sortingOrder]:[],g.sortingOrder,g.sortingOrder];return Wr(u,N,T)}var Vr={};(function(u){const a=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",g=a+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",x="["+a+"]["+g+"]*",N=new RegExp("^"+x+"$"),T=function(v,m){const o=[];let s=m.exec(v);for(;s;){const p=[];p.startIndex=m.lastIndex-s[0].length;const i=s.length;for(let l=0;l<i;l++)p.push(s[l]);o.push(p),s=m.exec(v)}return o},O=function(v){const m=N.exec(v);return!(m===null||typeof m>"u")};u.isExist=function(v){return typeof v<"u"},u.isEmptyObject=function(v){return Object.keys(v).length===0},u.merge=function(v,m,o){if(m){const s=Object.keys(m),p=s.length;for(let i=0;i<p;i++)o==="strict"?v[s[i]]=[m[s[i]]]:v[s[i]]=m[s[i]]}},u.getValue=function(v){return u.isExist(v)?v:""},u.isName=O,u.getAllMatches=T,u.nameRegexp=x})(Vr),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const Xr=typeof Mt=="object"&&ve&&ve.NODE_DEBUG&&/\bsemver\b/i.test(ve.NODE_DEBUG)?(...u)=>console.error("SEMVER",...u):()=>{};var zr=Xr;const qr="2.0.0",gn=256,Hr=Number.MAX_SAFE_INTEGER||9007199254740991,Zr=16,Kr=gn-6,Yr=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Qr={MAX_LENGTH:gn,MAX_SAFE_COMPONENT_LENGTH:Zr,MAX_SAFE_BUILD_LENGTH:Kr,MAX_SAFE_INTEGER:Hr,RELEASE_TYPES:Yr,SEMVER_SPEC_VERSION:qr,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},an={exports:{}};(function(u,a){const{MAX_SAFE_COMPONENT_LENGTH:g,MAX_SAFE_BUILD_LENGTH:x,MAX_LENGTH:N}=Qr,T=zr;a=u.exports={};const O=a.re=[],v=a.safeRe=[],m=a.src=[],o=a.t={};let s=0;const p="[a-zA-Z0-9-]",i=[["\\s",1],["\\d",N],[p,x]],l=w=>{for(const[R,S]of i)w=w.split("".concat(R,"*")).join("".concat(R,"{0,").concat(S,"}")).split("".concat(R,"+")).join("".concat(R,"{1,").concat(S,"}"));return w},h=(w,R,S)=>{const d=l(R),E=s++;T(w,E,R),o[w]=E,m[E]=R,O[E]=new RegExp(R,S?"g":void 0),v[E]=new RegExp(d,S?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(p,"*")),h("MAINVERSION","(".concat(m[o.NUMERICIDENTIFIER],")\\.(").concat(m[o.NUMERICIDENTIFIER],")\\.(").concat(m[o.NUMERICIDENTIFIER],")")),h("MAINVERSIONLOOSE","(".concat(m[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(m[o.NUMERICIDENTIFIERLOOSE],")\\.(").concat(m[o.NUMERICIDENTIFIERLOOSE],")")),h("PRERELEASEIDENTIFIER","(?:".concat(m[o.NUMERICIDENTIFIER],"|").concat(m[o.NONNUMERICIDENTIFIER],")")),h("PRERELEASEIDENTIFIERLOOSE","(?:".concat(m[o.NUMERICIDENTIFIERLOOSE],"|").concat(m[o.NONNUMERICIDENTIFIER],")")),h("PRERELEASE","(?:-(".concat(m[o.PRERELEASEIDENTIFIER],"(?:\\.").concat(m[o.PRERELEASEIDENTIFIER],")*))")),h("PRERELEASELOOSE","(?:-?(".concat(m[o.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(m[o.PRERELEASEIDENTIFIERLOOSE],")*))")),h("BUILDIDENTIFIER","".concat(p,"+")),h("BUILD","(?:\\+(".concat(m[o.BUILDIDENTIFIER],"(?:\\.").concat(m[o.BUILDIDENTIFIER],")*))")),h("FULLPLAIN","v?".concat(m[o.MAINVERSION]).concat(m[o.PRERELEASE],"?").concat(m[o.BUILD],"?")),h("FULL","^".concat(m[o.FULLPLAIN],"$")),h("LOOSEPLAIN","[v=\\s]*".concat(m[o.MAINVERSIONLOOSE]).concat(m[o.PRERELEASELOOSE],"?").concat(m[o.BUILD],"?")),h("LOOSE","^".concat(m[o.LOOSEPLAIN],"$")),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE","".concat(m[o.NUMERICIDENTIFIERLOOSE],"|x|X|\\*")),h("XRANGEIDENTIFIER","".concat(m[o.NUMERICIDENTIFIER],"|x|X|\\*")),h("XRANGEPLAIN","[v=\\s]*(".concat(m[o.XRANGEIDENTIFIER],")(?:\\.(").concat(m[o.XRANGEIDENTIFIER],")(?:\\.(").concat(m[o.XRANGEIDENTIFIER],")(?:").concat(m[o.PRERELEASE],")?").concat(m[o.BUILD],"?)?)?")),h("XRANGEPLAINLOOSE","[v=\\s]*(".concat(m[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(m[o.XRANGEIDENTIFIERLOOSE],")(?:\\.(").concat(m[o.XRANGEIDENTIFIERLOOSE],")(?:").concat(m[o.PRERELEASELOOSE],")?").concat(m[o.BUILD],"?)?)?")),h("XRANGE","^".concat(m[o.GTLT],"\\s*").concat(m[o.XRANGEPLAIN],"$")),h("XRANGELOOSE","^".concat(m[o.GTLT],"\\s*").concat(m[o.XRANGEPLAINLOOSE],"$")),h("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(g,"})(?:\\.(\\d{1,").concat(g,"}))?(?:\\.(\\d{1,").concat(g,"}))?")),h("COERCE","".concat(m[o.COERCEPLAIN],"(?:$|[^\\d])")),h("COERCEFULL",m[o.COERCEPLAIN]+"(?:".concat(m[o.PRERELEASE],")?(?:").concat(m[o.BUILD],")?(?:$|[^\\d])")),h("COERCERTL",m[o.COERCE],!0),h("COERCERTLFULL",m[o.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM","(\\s*)".concat(m[o.LONETILDE],"\\s+"),!0),a.tildeTrimReplace="$1~",h("TILDE","^".concat(m[o.LONETILDE]).concat(m[o.XRANGEPLAIN],"$")),h("TILDELOOSE","^".concat(m[o.LONETILDE]).concat(m[o.XRANGEPLAINLOOSE],"$")),h("LONECARET","(?:\\^)"),h("CARETTRIM","(\\s*)".concat(m[o.LONECARET],"\\s+"),!0),a.caretTrimReplace="$1^",h("CARET","^".concat(m[o.LONECARET]).concat(m[o.XRANGEPLAIN],"$")),h("CARETLOOSE","^".concat(m[o.LONECARET]).concat(m[o.XRANGEPLAINLOOSE],"$")),h("COMPARATORLOOSE","^".concat(m[o.GTLT],"\\s*(").concat(m[o.LOOSEPLAIN],")$|^$")),h("COMPARATOR","^".concat(m[o.GTLT],"\\s*(").concat(m[o.FULLPLAIN],")$|^$")),h("COMPARATORTRIM","(\\s*)".concat(m[o.GTLT],"\\s*(").concat(m[o.LOOSEPLAIN],"|").concat(m[o.XRANGEPLAIN],")"),!0),a.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE","^\\s*(".concat(m[o.XRANGEPLAIN],")\\s+-\\s+(").concat(m[o.XRANGEPLAIN],")\\s*$")),h("HYPHENRANGELOOSE","^\\s*(".concat(m[o.XRANGEPLAINLOOSE],")\\s+-\\s+(").concat(m[o.XRANGEPLAINLOOSE],")\\s*$")),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(an,an.exports);const mo=function(u){return $r().registerEntry(u)};export{At as C,kr as F,io as H,Sr as N,bt as P,ao as a,mo as b,fn as c,ho as d,Re as e,lo as f,po as g,Gr as h,co as i,fo as j,uo as r,go as s};
