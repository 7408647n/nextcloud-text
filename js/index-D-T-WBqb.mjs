/*! third party licenses: js/vendor.LICENSE.txt */
var uo=Object.defineProperty;var co=(o,i,d)=>i in o?uo(o,i,{enumerable:!0,configurable:!0,writable:!0,value:d}):o[i]=d;var _t=(o,i,d)=>(co(o,typeof i!="symbol"?i+"":i,d),d);import{p as te,l as ne,a as lo,d as ho}from"./modulepreload-polyfill-CtIajbZu.mjs";import{g as mn}from"./index-BAt6szDS.mjs";import{c as Ie,f as re,d as Un,e as po,g as zt,h as fo,i as go,j as mo,k as vo,w as oe,l as $n,m as Bn,t as ke,q as Re,r as Le,_ as ie,s as wo,v as qn,x as zn,y as yo,A as bo,C as xo,D as Eo,E as No,F as Ao,H as Oo,I as _o,J as To,K as jo,L as Co,M as So,O as Po,p as Pt,P as Io}from"./NcNoteCard-e7-Bxio8-D0g8rzVg.mjs";import{U as ko}from"./index-Y_Oyg-XB.mjs";import{g as Qt}from"./index-vg7q3Iku.mjs";var Dt={},Ro=Ie,Lo=re,Do=function(o){if(Ro(o)==="Function")return Lo(o)},vn=Do,Fo=Un,Mo=po,Uo=vn(vn.bind),$o=function(o,i){return Fo(o),i===void 0?o:Mo?Uo(o,i):function(){return o.apply(i,arguments)}},Bo=Ie,Wn=Array.isArray||function(o){return Bo(o)==="Array"},qo=re,zo=zt,Vn=go,Wo=mo,Vo=fo,Ho=vo,Hn=function(){},Gn=Vo("Reflect","construct"),De=/^\s*(?:class|function)\b/,Go=qo(De.exec),Zo=!De.test(Hn),Bt=function(o){if(!Vn(o))return!1;try{return Gn(Hn,[],o),!0}catch{return!1}},Zn=function(o){if(!Vn(o))return!1;switch(Wo(o)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Zo||!!Go(De,Ho(o))}catch{return!0}};Zn.sham=!0;var Xn=!Gn||zo(function(){var o;return Bt(Bt.call)||!Bt(Object)||!Bt(function(){o=!0})||o})?Zn:Bt,wn=Wn,Xo=Xn,Ko=$n,Qo=oe,Yo=Qo("species"),yn=Array,Jo=function(o){var i;return wn(o)&&(i=o.constructor,Xo(i)&&(i===yn||wn(i.prototype))?i=void 0:Ko(i)&&(i=i[Yo],i===null&&(i=void 0))),i===void 0?yn:i},ti=Jo,Kn=function(o,i){return new(ti(o))(i===0?0:i)},ei=$o,ni=re,ri=Bn,oi=ke,ii=Re,si=Kn,bn=ni([].push),Tt=function(o){var i=o===1,d=o===2,x=o===3,v=o===4,O=o===6,A=o===7,g=o===5||O;return function(N,u,s,h){for(var a=oi(N),l=ri(a),m=ii(l),y=ei(u,s),_=0,k=h||si,f=i?k(N,m):d||A?k(N,0):void 0,b,j;m>_;_++)if((g||_ in l)&&(b=l[_],j=y(b,_,a),o))if(i)f[_]=j;else if(j)switch(o){case 3:return!0;case 5:return b;case 6:return _;case 2:bn(f,b)}else switch(o){case 4:return!1;case 7:bn(f,b)}return O?-1:x||v?v:f}},Qn={forEach:Tt(0),map:Tt(1),filter:Tt(2),some:Tt(3),every:Tt(4),find:Tt(5),findIndex:Tt(6),filterReject:Tt(7)},ai=zt,ui=oe,ci=Le,li=ui("species"),Fe=function(o){return ci>=51||!ai(function(){var i=[],d=i.constructor={};return d[li]=function(){return{foo:1}},i[o](Boolean).foo!==1})},hi=ie,pi=Qn.map,fi=Fe,gi=fi("map");hi({target:"Array",proto:!0,forced:!gi},{map:function(o){return pi(this,o,arguments.length>1?arguments[1]:void 0)}});var di=Xn,mi=wo,vi=TypeError,wi=function(o){if(di(o))return o;throw new vi(mi(o)+" is not a constructor")},xn=qn,yi=wi,bi=zn,xi=oe,Ei=xi("species"),Ni=function(o,i){var d=xn(o).constructor,x;return d===void 0||bi(x=xn(d)[Ei])?i:yi(x)},Oe=xo,Yn=re,Ai=yo,Oi=qn,_i=zn,Ti=Eo,ji=Ni,Ci=No,Si=Ao,En=Oo,Pi=_o,Nn=To,Ii=bo,ki=zt,Lt=Ii.UNSUPPORTED_Y,Ri=4294967295,Li=Math.min,_e=Yn([].push),Te=Yn("".slice),Di=!ki(function(){var o=/(?:)/,i=o.exec;o.exec=function(){return i.apply(this,arguments)};var d="ab".split(o);return d.length!==2||d[0]!=="a"||d[1]!=="b"}),An="abbc".split(/(b)*/)[1]==="c"||"test".split(/(?:)/,-1).length!==4||"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||".".split(/()()/).length>1||"".split(/.?/).length;Ai("split",function(o,i,d){var x="0".split(void 0,0).length?function(v,O){return v===void 0&&O===0?[]:Oe(i,this,v,O)}:i;return[function(v,O){var A=Ti(this),g=_i(v)?void 0:Pi(v,o);return g?Oe(g,v,A,O):Oe(x,En(A),v,O)},function(v,O){var A=Oi(this),g=En(v);if(!An){var N=d(x,A,g,O,x!==i);if(N.done)return N.value}var u=ji(A,RegExp),s=A.unicode,h=(A.ignoreCase?"i":"")+(A.multiline?"m":"")+(A.unicode?"u":"")+(Lt?"g":"y"),a=new u(Lt?"^(?:"+A.source+")":A,h),l=O===void 0?Ri:O>>>0;if(l===0)return[];if(g.length===0)return Nn(a,g)===null?[g]:[];for(var m=0,y=0,_=[];y<g.length;){a.lastIndex=Lt?0:y;var k=Nn(a,Lt?Te(g,y):g),f;if(k===null||(f=Li(Si(a.lastIndex+(Lt?y:0)),g.length))===m)y=Ci(g,y,s);else{if(_e(_,Te(g,m,y)),_.length===l)return _;for(var b=1;b<=k.length-1;b++)if(_e(_,k[b]),_.length===l)return _;y=m=f}}return _e(_,Te(g,m)),_}]},An||!Di,Lt);var Fi=ie,Mi=Qn.filter,Ui=Fe,$i=Ui("filter");Fi({target:"Array",proto:!0,forced:!$i},{filter:function(o){return Mi(this,o,arguments.length>1?arguments[1]:void 0)}});var Bi=Un,qi=ke,zi=Bn,Wi=Re,On=TypeError,_n="Reduce of empty array with no initial value",Tn=function(o){return function(i,d,x,v){var O=qi(i),A=zi(O),g=Wi(O);if(Bi(d),g===0&&x<2)throw new On(_n);var N=o?g-1:0,u=o?-1:1;if(x<2)for(;;){if(N in A){v=A[N],N+=u;break}if(N+=u,o?N<0:g<=N)throw new On(_n)}for(;o?N>=0:g>N;N+=u)N in A&&(v=d(v,A[N],N,O));return v}},Vi={left:Tn(!1),right:Tn(!0)},Hi=zt,Gi=function(o,i){var d=[][o];return!!d&&Hi(function(){d.call(null,i||function(){return 1},1)})},Zi=jo,Xi=Ie,Ki=Xi(Zi.process)==="process",Qi=ie,Yi=Vi.left,Ji=Gi,jn=Le,ts=Ki,es=!ts&&jn>79&&jn<83,ns=es||!Ji("reduce");Qi({target:"Array",proto:!0,forced:ns},{reduce:function(o){var i=arguments.length;return Yi(this,o,i,i>1?arguments[1]:void 0)}});var rs=TypeError,os=9007199254740991,is=function(o){if(o>os)throw rs("Maximum allowed index exceeded");return o},ss=Co,as=So,us=Po,cs=function(o,i,d){ss?as.f(o,i,us(0,d)):o[i]=d},ls=ie,hs=zt,ps=Wn,fs=$n,gs=ke,ds=Re,Cn=is,Sn=cs,ms=Kn,vs=Fe,ws=oe,ys=Le,Jn=ws("isConcatSpreadable"),bs=ys>=51||!hs(function(){var o=[];return o[Jn]=!1,o.concat()[0]!==o}),xs=function(o){if(!fs(o))return!1;var i=o[Jn];return i!==void 0?!!i:ps(o)},Es=!bs||!vs("concat");ls({target:"Array",proto:!0,arity:1,forced:Es},{concat:function(o){var i=gs(this),d=ms(i,0),x=0,v,O,A,g,N;for(v=-1,A=arguments.length;v<A;v++)if(N=v===-1?i:arguments[v],xs(N))for(g=ds(N),Cn(x+g),O=0;O<g;O++,x++)O in N&&Sn(d,x,N[O]);else Cn(x+1),Sn(d,x++,N);return d.length=x,d}}),Object.defineProperty(Dt,"__esModule",{value:!0});var Ns=Dt.encodePath=As;Dt.basename=Os,Dt.dirname=_s,Dt.joinPaths=Pe,Dt.isSamePath=Ts;function As(o){return o&&o.split("/").map(encodeURIComponent).join("/")}function Os(o){return o.replace(/\\/g,"/").replace(/.*\//,"")}function _s(o){return o.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function Pe(){for(var o=arguments.length,i=new Array(o),d=0;d<o;d++)i[d]=arguments[d];if(arguments.length<1)return"";var x=i.filter(function(s){return s.length>0});if(x.length<1)return"";var v=x[x.length-1],O=x[0].charAt(0)==="/",A=v.charAt(v.length-1)==="/",g=x.reduce(function(s,h){return s.concat(h.split("/"))},[]),N=!O,u=g.reduce(function(s,h){return h===""?s:N?(N=!1,s+h):s+"/"+h},"");return A?u+"/":u}function Ts(o,i){var d=(o||"").split("/").filter(function(v){return v!=="."}),x=(i||"").split("/").filter(function(v){return v!=="."});return o=Pe.apply(void 0,d),i=Pe.apply(void 0,x),o===i}var je={},js={2:o=>{function i(v,O,A){v instanceof RegExp&&(v=d(v,A)),O instanceof RegExp&&(O=d(O,A));var g=x(v,O,A);return g&&{start:g[0],end:g[1],pre:A.slice(0,g[0]),body:A.slice(g[0]+v.length,g[1]),post:A.slice(g[1]+O.length)}}function d(v,O){var A=O.match(v);return A?A[0]:null}function x(v,O,A){var g,N,u,s,h,a=A.indexOf(v),l=A.indexOf(O,a+1),m=a;if(a>=0&&l>0){for(g=[],u=A.length;m>=0&&!h;)m==a?(g.push(m),a=A.indexOf(v,m+1)):g.length==1?h=[g.pop(),l]:((N=g.pop())<u&&(u=N,s=l),l=A.indexOf(O,m+1)),m=a<l&&a>=0?a:l;g.length&&(h=[u,s])}return h}o.exports=i,i.range=x},101:function(o,i,d){var x;o=d.nmd(o),function(v){var O=(o&&o.exports,typeof Qt=="object"&&Qt);O.global!==O&&O.window;var A=function(h){this.message=h};(A.prototype=new Error).name="InvalidCharacterError";var g=function(h){throw new A(h)},N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u=/[\t\n\f\r ]/g,s={encode:function(h){h=String(h),/[^\0-\xFF]/.test(h)&&g("The string to be encoded contains characters outside of the Latin1 range.");for(var a,l,m,y,_=h.length%3,k="",f=-1,b=h.length-_;++f<b;)a=h.charCodeAt(f)<<16,l=h.charCodeAt(++f)<<8,m=h.charCodeAt(++f),k+=N.charAt((y=a+l+m)>>18&63)+N.charAt(y>>12&63)+N.charAt(y>>6&63)+N.charAt(63&y);return _==2?(a=h.charCodeAt(f)<<8,l=h.charCodeAt(++f),k+=N.charAt((y=a+l)>>10)+N.charAt(y>>4&63)+N.charAt(y<<2&63)+"="):_==1&&(y=h.charCodeAt(f),k+=N.charAt(y>>2)+N.charAt(y<<4&63)+"=="),k},decode:function(h){var a=(h=String(h).replace(u,"")).length;a%4==0&&(a=(h=h.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(h))&&g("Invalid character: the string to be decoded is not correctly encoded.");for(var l,m,y=0,_="",k=-1;++k<a;)m=N.indexOf(h.charAt(k)),l=y%4?64*l+m:m,y++%4&&(_+=String.fromCharCode(255&l>>(-2*y&6)));return _},version:"1.0.0"};(x=(function(){return s}).call(i,d,i,o))===void 0||(o.exports=x)}()},172:(o,i)=>{i.d=function(d){if(!d)return 0;for(var x=(d=d.toString()).length,v=d.length;v--;){var O=d.charCodeAt(v);56320<=O&&O<=57343&&v--,127<O&&O<=2047?x++:2047<O&&O<=65535&&(x+=2)}return x}},526:o=>{var i={utf8:{stringToBytes:function(d){return i.bin.stringToBytes(unescape(encodeURIComponent(d)))},bytesToString:function(d){return decodeURIComponent(escape(i.bin.bytesToString(d)))}},bin:{stringToBytes:function(d){for(var x=[],v=0;v<d.length;v++)x.push(255&d.charCodeAt(v));return x},bytesToString:function(d){for(var x=[],v=0;v<d.length;v++)x.push(String.fromCharCode(d[v]));return x.join("")}}};o.exports=i},298:o=>{var i,d;i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d={rotl:function(x,v){return x<<v|x>>>32-v},rotr:function(x,v){return x<<32-v|x>>>v},endian:function(x){if(x.constructor==Number)return 16711935&d.rotl(x,8)|4278255360&d.rotl(x,24);for(var v=0;v<x.length;v++)x[v]=d.endian(x[v]);return x},randomBytes:function(x){for(var v=[];x>0;x--)v.push(Math.floor(256*Math.random()));return v},bytesToWords:function(x){for(var v=[],O=0,A=0;O<x.length;O++,A+=8)v[A>>>5]|=x[O]<<24-A%32;return v},wordsToBytes:function(x){for(var v=[],O=0;O<32*x.length;O+=8)v.push(x[O>>>5]>>>24-O%32&255);return v},bytesToHex:function(x){for(var v=[],O=0;O<x.length;O++)v.push((x[O]>>>4).toString(16)),v.push((15&x[O]).toString(16));return v.join("")},hexToBytes:function(x){for(var v=[],O=0;O<x.length;O+=2)v.push(parseInt(x.substr(O,2),16));return v},bytesToBase64:function(x){for(var v=[],O=0;O<x.length;O+=3)for(var A=x[O]<<16|x[O+1]<<8|x[O+2],g=0;g<4;g++)8*O+6*g<=8*x.length?v.push(i.charAt(A>>>6*(3-g)&63)):v.push("=");return v.join("")},base64ToBytes:function(x){x=x.replace(/[^A-Z0-9+\/]/gi,"");for(var v=[],O=0,A=0;O<x.length;A=++O%4)A!=0&&v.push((i.indexOf(x.charAt(O-1))&Math.pow(2,-2*A+8)-1)<<2*A|i.indexOf(x.charAt(O))>>>6-2*A);return v}},o.exports=d},635:(o,i,d)=>{const x=d(31),v=d(338),O=d(221);o.exports={XMLParser:v,XMLValidator:x,XMLBuilder:O}},705:(o,i)=>{const d=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",x="["+d+"]["+d+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",v=new RegExp("^"+x+"$");i.isExist=function(O){return O!==void 0},i.isEmptyObject=function(O){return Object.keys(O).length===0},i.merge=function(O,A,g){if(A){const N=Object.keys(A),u=N.length;for(let s=0;s<u;s++)O[N[s]]=g==="strict"?[A[N[s]]]:A[N[s]]}},i.getValue=function(O){return i.isExist(O)?O:""},i.isName=function(O){return v.exec(O)!=null},i.getAllMatches=function(O,A){const g=[];let N=A.exec(O);for(;N;){const u=[];u.startIndex=A.lastIndex-N[0].length;const s=N.length;for(let h=0;h<s;h++)u.push(N[h]);g.push(u),N=A.exec(O)}return g},i.nameRegexp=x},31:(o,i,d)=>{const x=d(705),v={allowBooleanAttributes:!1,unpairedTags:[]};function O(f){return f===" "||f==="	"||f==="\n"||f==="\r"}function A(f,b){const j=b;for(;b<f.length;b++)if(!(f[b]!="?"&&f[b]!=" ")){const w=f.substr(j,b-j);if(b>5&&w==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",_(f,b));if(f[b]=="?"&&f[b+1]==">"){b++;break}}return b}function g(f,b){if(f.length>b+5&&f[b+1]==="-"&&f[b+2]==="-"){for(b+=3;b<f.length;b++)if(f[b]==="-"&&f[b+1]==="-"&&f[b+2]===">"){b+=2;break}}else if(f.length>b+8&&f[b+1]==="D"&&f[b+2]==="O"&&f[b+3]==="C"&&f[b+4]==="T"&&f[b+5]==="Y"&&f[b+6]==="P"&&f[b+7]==="E"){let j=1;for(b+=8;b<f.length;b++)if(f[b]==="<")j++;else if(f[b]===">"&&(j--,j===0))break}else if(f.length>b+9&&f[b+1]==="["&&f[b+2]==="C"&&f[b+3]==="D"&&f[b+4]==="A"&&f[b+5]==="T"&&f[b+6]==="A"&&f[b+7]==="["){for(b+=8;b<f.length;b++)if(f[b]==="]"&&f[b+1]==="]"&&f[b+2]===">"){b+=2;break}}return b}i.validate=function(f,b){b=Object.assign({},v,b);const j=[];let w=!1,I=!1;f[0]==="\uFEFF"&&(f=f.substr(1));for(let S=0;S<f.length;S++)if(f[S]==="<"&&f[S+1]==="?"){if(S+=2,S=A(f,S),S.err)return S}else{if(f[S]!=="<"){if(O(f[S]))continue;return m("InvalidChar","char '"+f[S]+"' is not expected.",_(f,S))}{let D=S;if(S++,f[S]==="!"){S=g(f,S);continue}{let q=!1;f[S]==="/"&&(q=!0,S++);let M="";for(;S<f.length&&f[S]!==">"&&f[S]!==" "&&f[S]!=="	"&&f[S]!=="\n"&&f[S]!=="\r";S++)M+=f[S];if(M=M.trim(),M[M.length-1]==="/"&&(M=M.substring(0,M.length-1),S--),C=M,!x.isName(C)){let W;return W=M.trim().length===0?"Invalid space after '<'.":"Tag '"+M+"' is an invalid name.",m("InvalidTag",W,_(f,S))}const U=s(f,S);if(U===!1)return m("InvalidAttr","Attributes for '"+M+"' have open quote.",_(f,S));let R=U.value;if(S=U.index,R[R.length-1]==="/"){const W=S-R.length;R=R.substring(0,R.length-1);const J=a(R,b);if(J!==!0)return m(J.err.code,J.err.msg,_(f,W+J.err.line));w=!0}else if(q){if(!U.tagClosed)return m("InvalidTag","Closing tag '"+M+"' doesn't have proper closing.",_(f,S));if(R.trim().length>0)return m("InvalidTag","Closing tag '"+M+"' can't have attributes or invalid starting.",_(f,D));{const W=j.pop();if(M!==W.tagName){let J=_(f,W.tagStartPos);return m("InvalidTag","Expected closing tag '"+W.tagName+"' (opened in line "+J.line+", col "+J.col+") instead of closing tag '"+M+"'.",_(f,D))}j.length==0&&(I=!0)}}else{const W=a(R,b);if(W!==!0)return m(W.err.code,W.err.msg,_(f,S-R.length+W.err.line));if(I===!0)return m("InvalidXml","Multiple possible root nodes found.",_(f,S));b.unpairedTags.indexOf(M)!==-1||j.push({tagName:M,tagStartPos:D}),w=!0}for(S++;S<f.length;S++)if(f[S]==="<"){if(f[S+1]==="!"){S++,S=g(f,S);continue}if(f[S+1]!=="?")break;if(S=A(f,++S),S.err)return S}else if(f[S]==="&"){const W=l(f,S);if(W==-1)return m("InvalidChar","char '&' is not expected.",_(f,S));S=W}else if(I===!0&&!O(f[S]))return m("InvalidXml","Extra text at the end",_(f,S));f[S]==="<"&&S--}}}var C;return w?j.length==1?m("InvalidTag","Unclosed tag '"+j[0].tagName+"'.",_(f,j[0].tagStartPos)):!(j.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(j.map(S=>S.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const N='"',u="'";function s(f,b){let j="",w="",I=!1;for(;b<f.length;b++){if(f[b]===N||f[b]===u)w===""?w=f[b]:w!==f[b]||(w="");else if(f[b]===">"&&w===""){I=!0;break}j+=f[b]}return w===""&&{value:j,index:b,tagClosed:I}}const h=new RegExp("(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['\"])(([\\s\\S])*?)\\5)?","g");function a(f,b){const j=x.getAllMatches(f,h),w={};for(let I=0;I<j.length;I++){if(j[I][1].length===0)return m("InvalidAttr","Attribute '"+j[I][2]+"' has no space in starting.",k(j[I]));if(j[I][3]!==void 0&&j[I][4]===void 0)return m("InvalidAttr","Attribute '"+j[I][2]+"' is without value.",k(j[I]));if(j[I][3]===void 0&&!b.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+j[I][2]+"' is not allowed.",k(j[I]));const C=j[I][2];if(!y(C))return m("InvalidAttr","Attribute '"+C+"' is an invalid name.",k(j[I]));if(w.hasOwnProperty(C))return m("InvalidAttr","Attribute '"+C+"' is repeated.",k(j[I]));w[C]=1}return!0}function l(f,b){if(f[++b]===";")return-1;if(f[b]==="#")return function(w,I){let C=/\d/;for(w[I]==="x"&&(I++,C=/[\da-fA-F]/);I<w.length;I++){if(w[I]===";")return I;if(!w[I].match(C))break}return-1}(f,++b);let j=0;for(;b<f.length;b++,j++)if(!(f[b].match(/\w/)&&j<20)){if(f[b]===";")break;return-1}return b}function m(f,b,j){return{err:{code:f,msg:b,line:j.line||j,col:j.col}}}function y(f){return x.isName(f)}function _(f,b){const j=f.substring(0,b).split(/\r?\n/);return{line:j.length,col:j[j.length-1].length+1}}function k(f){return f.startIndex+f[1].length}},221:(o,i,d)=>{const x=d(87),v={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(u,s){return s},attributeValueProcessor:function(u,s){return s},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function O(u){this.options=Object.assign({},v,u),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=N),this.processTextOrObjNode=A,this.options.format?(this.indentate=g,this.tagEndChar=">\n",this.newLine="\n"):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function A(u,s,h){const a=this.j2x(u,h+1);return u[this.options.textNodeName]!==void 0&&Object.keys(u).length===1?this.buildTextValNode(u[this.options.textNodeName],s,a.attrStr,h):this.buildObjectNode(a.val,s,a.attrStr,h)}function g(u){return this.options.indentBy.repeat(u)}function N(u){return!(!u.startsWith(this.options.attributeNamePrefix)||u===this.options.textNodeName)&&u.substr(this.attrPrefixLen)}O.prototype.build=function(u){return this.options.preserveOrder?x(u,this.options):(Array.isArray(u)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(u={[this.options.arrayNodeName]:u}),this.j2x(u,0).val)},O.prototype.j2x=function(u,s){let h="",a="";for(let l in u)if(u[l]===void 0)this.isAttribute(l)&&(a+="");else if(u[l]===null)this.isAttribute(l)?a+="":l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar;else if(u[l]instanceof Date)a+=this.buildTextValNode(u[l],l,"",s);else if(typeof u[l]!="object"){const m=this.isAttribute(l);if(m)h+=this.buildAttrPairStr(m,""+u[l]);else if(l===this.options.textNodeName){let y=this.options.tagValueProcessor(l,""+u[l]);a+=this.replaceEntitiesValue(y)}else a+=this.buildTextValNode(u[l],l,"",s)}else if(Array.isArray(u[l])){const m=u[l].length;let y="";for(let _=0;_<m;_++){const k=u[l][_];k===void 0||(k===null?l[0]==="?"?a+=this.indentate(s)+"<"+l+"?"+this.tagEndChar:a+=this.indentate(s)+"<"+l+"/"+this.tagEndChar:typeof k=="object"?this.options.oneListGroup?y+=this.j2x(k,s+1).val:y+=this.processTextOrObjNode(k,l,s):y+=this.buildTextValNode(k,l,"",s))}this.options.oneListGroup&&(y=this.buildObjectNode(y,l,"",s)),a+=y}else if(this.options.attributesGroupName&&l===this.options.attributesGroupName){const m=Object.keys(u[l]),y=m.length;for(let _=0;_<y;_++)h+=this.buildAttrPairStr(m[_],""+u[l][m[_]])}else a+=this.processTextOrObjNode(u[l],l,s);return{attrStr:h,val:a}},O.prototype.buildAttrPairStr=function(u,s){return s=this.options.attributeValueProcessor(u,""+s),s=this.replaceEntitiesValue(s),this.options.suppressBooleanAttributes&&s==="true"?" "+u:" "+u+'="'+s+'"'},O.prototype.buildObjectNode=function(u,s,h,a){if(u==="")return s[0]==="?"?this.indentate(a)+"<"+s+h+"?"+this.tagEndChar:this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar;{let l="</"+s+this.tagEndChar,m="";return s[0]==="?"&&(m="?",l=""),!h&&h!==""||u.indexOf("<")!==-1?this.options.commentPropName!==!1&&s===this.options.commentPropName&&m.length===0?this.indentate(a)+"<!--".concat(u,"-->")+this.newLine:this.indentate(a)+"<"+s+h+m+this.tagEndChar+u+this.indentate(a)+l:this.indentate(a)+"<"+s+h+m+">"+u+l}},O.prototype.closeTag=function(u){let s="";return this.options.unpairedTags.indexOf(u)!==-1?this.options.suppressUnpairedNode||(s="/"):s=this.options.suppressEmptyNode?"/":"></".concat(u),s},O.prototype.buildTextValNode=function(u,s,h,a){if(this.options.cdataPropName!==!1&&s===this.options.cdataPropName)return this.indentate(a)+"<![CDATA[".concat(u,"]]>")+this.newLine;if(this.options.commentPropName!==!1&&s===this.options.commentPropName)return this.indentate(a)+"<!--".concat(u,"-->")+this.newLine;if(s[0]==="?")return this.indentate(a)+"<"+s+h+"?"+this.tagEndChar;{let l=this.options.tagValueProcessor(s,u);return l=this.replaceEntitiesValue(l),l===""?this.indentate(a)+"<"+s+h+this.closeTag(s)+this.tagEndChar:this.indentate(a)+"<"+s+h+">"+l+"</"+s+this.tagEndChar}},O.prototype.replaceEntitiesValue=function(u){if(u&&u.length>0&&this.options.processEntities)for(let s=0;s<this.options.entities.length;s++){const h=this.options.entities[s];u=u.replace(h.regex,h.val)}return u},o.exports=O},87:o=>{function i(A,g,N,u){let s="",h=!1;for(let a=0;a<A.length;a++){const l=A[a],m=d(l);let y="";if(y=N.length===0?m:"".concat(N,".").concat(m),m===g.textNodeName){let j=l[m];v(y,g)||(j=g.tagValueProcessor(m,j),j=O(j,g)),h&&(s+=u),s+=j,h=!1;continue}if(m===g.cdataPropName){h&&(s+=u),s+="<![CDATA[".concat(l[m][0][g.textNodeName],"]]>"),h=!1;continue}if(m===g.commentPropName){s+=u+"<!--".concat(l[m][0][g.textNodeName],"-->"),h=!0;continue}if(m[0]==="?"){const j=x(l[":@"],g),w=m==="?xml"?"":u;let I=l[m][0][g.textNodeName];I=I.length!==0?" "+I:"",s+=w+"<".concat(m).concat(I).concat(j,"?>"),h=!0;continue}let _=u;_!==""&&(_+=g.indentBy);const k=x(l[":@"],g),f=u+"<".concat(m).concat(k),b=i(l[m],g,y,_);g.unpairedTags.indexOf(m)!==-1?g.suppressUnpairedNode?s+=f+">":s+=f+"/>":b&&b.length!==0||!g.suppressEmptyNode?b&&b.endsWith(">")?s+=f+">".concat(b).concat(u,"</").concat(m,">"):(s+=f+">",b&&u!==""&&(b.includes("/>")||b.includes("</"))?s+=u+g.indentBy+b+u:s+=b,s+="</".concat(m,">")):s+=f+"/>",h=!0}return s}function d(A){const g=Object.keys(A);for(let N=0;N<g.length;N++){const u=g[N];if(u!==":@")return u}}function x(A,g){let N="";if(A&&!g.ignoreAttributes)for(let u in A){let s=g.attributeValueProcessor(u,A[u]);s=O(s,g),s===!0&&g.suppressBooleanAttributes?N+=" ".concat(u.substr(g.attributeNamePrefix.length)):N+=" ".concat(u.substr(g.attributeNamePrefix.length),'="').concat(s,'"')}return N}function v(A,g){let N=(A=A.substr(0,A.length-g.textNodeName.length-1)).substr(A.lastIndexOf(".")+1);for(let u in g.stopNodes)if(g.stopNodes[u]===A||g.stopNodes[u]==="*."+N)return!0;return!1}function O(A,g){if(A&&A.length>0&&g.processEntities)for(let N=0;N<g.entities.length;N++){const u=g.entities[N];A=A.replace(u.regex,u.val)}return A}o.exports=function(A,g){let N="";return g.format&&g.indentBy.length>0&&(N="\n"),i(A,g,"",N)}},193:(o,i,d)=>{const x=d(705);function v(h,a){let l="";for(;a<h.length&&h[a]!=="'"&&h[a]!=='"';a++)l+=h[a];if(l=l.trim(),l.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=h[a++];let y="";for(;a<h.length&&h[a]!==m;a++)y+=h[a];return[l,y,a]}function O(h,a){return h[a+1]==="!"&&h[a+2]==="-"&&h[a+3]==="-"}function A(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="N"&&h[a+4]==="T"&&h[a+5]==="I"&&h[a+6]==="T"&&h[a+7]==="Y"}function g(h,a){return h[a+1]==="!"&&h[a+2]==="E"&&h[a+3]==="L"&&h[a+4]==="E"&&h[a+5]==="M"&&h[a+6]==="E"&&h[a+7]==="N"&&h[a+8]==="T"}function N(h,a){return h[a+1]==="!"&&h[a+2]==="A"&&h[a+3]==="T"&&h[a+4]==="T"&&h[a+5]==="L"&&h[a+6]==="I"&&h[a+7]==="S"&&h[a+8]==="T"}function u(h,a){return h[a+1]==="!"&&h[a+2]==="N"&&h[a+3]==="O"&&h[a+4]==="T"&&h[a+5]==="A"&&h[a+6]==="T"&&h[a+7]==="I"&&h[a+8]==="O"&&h[a+9]==="N"}function s(h){if(x.isName(h))return h;throw new Error("Invalid entity name ".concat(h))}o.exports=function(h,a){const l={};if(h[a+3]!=="O"||h[a+4]!=="C"||h[a+5]!=="T"||h[a+6]!=="Y"||h[a+7]!=="P"||h[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let m=1,y=!1,_=!1,k="";for(;a<h.length;a++)if(h[a]!=="<"||_)if(h[a]===">"){if(_?h[a-1]==="-"&&h[a-2]==="-"&&(_=!1,m--):m--,m===0)break}else h[a]==="["?y=!0:k+=h[a];else{if(y&&A(h,a))a+=7,[entityName,val,a]=v(h,a+1),val.indexOf("&")===-1&&(l[s(entityName)]={regx:RegExp("&".concat(entityName,";"),"g"),val});else if(y&&g(h,a))a+=8;else if(y&&N(h,a))a+=8;else if(y&&u(h,a))a+=9;else{if(!O)throw new Error("Invalid DOCTYPE");_=!0}m++,k=""}if(m!==0)throw new Error("Unclosed DOCTYPE")}return{entities:l,i:a}}},63:(o,i)=>{const d={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(x,v){return v},attributeValueProcessor:function(x,v){return v},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(x,v,O){return x}};i.buildOptions=function(x){return Object.assign({},d,x)},i.defaultOptions=d},299:(o,i,d)=>{const x=d(705),v=d(365),O=d(193),A=d(494);function g(w){const I=Object.keys(w);for(let C=0;C<I.length;C++){const S=I[C];this.lastEntities[S]={regex:new RegExp("&"+S+";","g"),val:w[S]}}}function N(w,I,C,S,D,q,M){if(w!==void 0&&(this.options.trimValues&&!S&&(w=w.trim()),w.length>0)){M||(w=this.replaceEntitiesValue(w));const U=this.options.tagValueProcessor(I,w,C,D,q);return U==null?w:typeof U!=typeof w||U!==w?U:this.options.trimValues||w.trim()===w?j(w,this.options.parseTagValue,this.options.numberParseOptions):w}}function u(w){if(this.options.removeNSPrefix){const I=w.split(":"),C=w.charAt(0)==="/"?"/":"";if(I[0]==="xmlns")return"";I.length===2&&(w=C+I[1])}return w}"<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,x.nameRegexp);const s=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");function h(w,I,C){if(!this.options.ignoreAttributes&&typeof w=="string"){const S=x.getAllMatches(w,s),D=S.length,q={};for(let M=0;M<D;M++){const U=this.resolveNameSpace(S[M][1]);let R=S[M][4],W=this.options.attributeNamePrefix+U;if(U.length)if(this.options.transformAttributeName&&(W=this.options.transformAttributeName(W)),W==="__proto__"&&(W="#__proto__"),R!==void 0){this.options.trimValues&&(R=R.trim()),R=this.replaceEntitiesValue(R);const J=this.options.attributeValueProcessor(U,R,I);q[W]=J==null?R:typeof J!=typeof R||J!==R?J:j(R,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(q[W]=!0)}if(!Object.keys(q).length)return;if(this.options.attributesGroupName){const M={};return M[this.options.attributesGroupName]=q,M}return q}}const a=function(w){w=w.replace(/\r\n?/g,"\n");const I=new v("!xml");let C=I,S="",D="";for(let q=0;q<w.length;q++)if(w[q]==="<")if(w[q+1]==="/"){const M=k(w,">",q,"Closing Tag is not closed.");let U=w.substring(q+2,M).trim();if(this.options.removeNSPrefix){const J=U.indexOf(":");J!==-1&&(U=U.substr(J+1))}this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&(S=this.saveTextToParentTag(S,C,D));const R=D.substring(D.lastIndexOf(".")+1);if(U&&this.options.unpairedTags.indexOf(U)!==-1)throw new Error("Unpaired tag can not be used as closing tag: </".concat(U,">"));let W=0;R&&this.options.unpairedTags.indexOf(R)!==-1?(W=D.lastIndexOf(".",D.lastIndexOf(".")-1),this.tagsNodeStack.pop()):W=D.lastIndexOf("."),D=D.substring(0,W),C=this.tagsNodeStack.pop(),S="",q=M}else if(w[q+1]==="?"){let M=f(w,q,!1,"?>");if(!M)throw new Error("Pi Tag is not closed.");if(S=this.saveTextToParentTag(S,C,D),!(this.options.ignoreDeclaration&&M.tagName==="?xml"||this.options.ignorePiTags)){const U=new v(M.tagName);U.add(this.options.textNodeName,""),M.tagName!==M.tagExp&&M.attrExpPresent&&(U[":@"]=this.buildAttributesMap(M.tagExp,D,M.tagName)),this.addChild(C,U,D)}q=M.closeIndex+1}else if(w.substr(q+1,3)==="!--"){const M=k(w,"-->",q+4,"Comment is not closed.");if(this.options.commentPropName){const U=w.substring(q+4,M-2);S=this.saveTextToParentTag(S,C,D),C.add(this.options.commentPropName,[{[this.options.textNodeName]:U}])}q=M}else if(w.substr(q+1,2)==="!D"){const M=O(w,q);this.docTypeEntities=M.entities,q=M.i}else if(w.substr(q+1,2)==="!["){const M=k(w,"]]>",q,"CDATA is not closed.")-2,U=w.substring(q+9,M);if(S=this.saveTextToParentTag(S,C,D),this.options.cdataPropName)C.add(this.options.cdataPropName,[{[this.options.textNodeName]:U}]);else{let R=this.parseTextData(U,C.tagname,D,!0,!1,!0);R==null&&(R=""),C.add(this.options.textNodeName,R)}q=M+2}else{let M=f(w,q,this.options.removeNSPrefix),U=M.tagName,R=M.tagExp,W=M.attrExpPresent,J=M.closeIndex;this.options.transformTagName&&(U=this.options.transformTagName(U)),C&&S&&C.tagname!=="!xml"&&(S=this.saveTextToParentTag(S,C,D,!1));const ct=C;if(ct&&this.options.unpairedTags.indexOf(ct.tagname)!==-1&&(C=this.tagsNodeStack.pop(),D=D.substring(0,D.lastIndexOf("."))),U!==I.tagname&&(D+=D?"."+U:U),this.isItStopNode(this.options.stopNodes,D,U)){let Y="";if(R.length>0&&R.lastIndexOf("/")===R.length-1)q=M.closeIndex;else if(this.options.unpairedTags.indexOf(U)!==-1)q=M.closeIndex;else{const rt=this.readStopNodeData(w,U,J+1);if(!rt)throw new Error("Unexpected end of ".concat(U));q=rt.i,Y=rt.tagContent}const et=new v(U);U!==R&&W&&(et[":@"]=this.buildAttributesMap(R,D,U)),Y&&(Y=this.parseTextData(Y,U,D,!0,W,!0,!0)),D=D.substr(0,D.lastIndexOf(".")),et.add(this.options.textNodeName,Y),this.addChild(C,et,D)}else{if(R.length>0&&R.lastIndexOf("/")===R.length-1){U[U.length-1]==="/"?(U=U.substr(0,U.length-1),D=D.substr(0,D.length-1),R=U):R=R.substr(0,R.length-1),this.options.transformTagName&&(U=this.options.transformTagName(U));const Y=new v(U);U!==R&&W&&(Y[":@"]=this.buildAttributesMap(R,D,U)),this.addChild(C,Y,D),D=D.substr(0,D.lastIndexOf("."))}else{const Y=new v(U);this.tagsNodeStack.push(C),U!==R&&W&&(Y[":@"]=this.buildAttributesMap(R,D,U)),this.addChild(C,Y,D),C=Y}S="",q=J}}else S+=w[q];return I.child};function l(w,I,C){const S=this.options.updateTag(I.tagname,C,I[":@"]);S===!1||(typeof S=="string"&&(I.tagname=S),w.addChild(I))}const m=function(w){if(this.options.processEntities){for(let I in this.docTypeEntities){const C=this.docTypeEntities[I];w=w.replace(C.regx,C.val)}for(let I in this.lastEntities){const C=this.lastEntities[I];w=w.replace(C.regex,C.val)}if(this.options.htmlEntities)for(let I in this.htmlEntities){const C=this.htmlEntities[I];w=w.replace(C.regex,C.val)}w=w.replace(this.ampEntity.regex,this.ampEntity.val)}return w};function y(w,I,C,S){return w&&(S===void 0&&(S=Object.keys(I.child).length===0),(w=this.parseTextData(w,I.tagname,C,!1,!!I[":@"]&&Object.keys(I[":@"]).length!==0,S))!==void 0&&w!==""&&I.add(this.options.textNodeName,w),w=""),w}function _(w,I,C){const S="*."+C;for(const D in w){const q=w[D];if(S===q||I===q)return!0}return!1}function k(w,I,C,S){const D=w.indexOf(I,C);if(D===-1)throw new Error(S);return D+I.length-1}function f(w,I,C){const S=function(W,J){let ct,Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",et="";for(let rt=J;rt<W.length;rt++){let ut=W[rt];if(ct)ut===ct&&(ct="");else if(ut==='"'||ut==="'")ct=ut;else if(ut===Y[0]){if(!Y[1])return{data:et,index:rt};if(W[rt+1]===Y[1])return{data:et,index:rt}}else ut==="	"&&(ut=" ");et+=ut}}(w,I+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!S)return;let D=S.data;const q=S.index,M=D.search(/\s/);let U=D,R=!0;if(M!==-1&&(U=D.substr(0,M).replace(/\s\s*$/,""),D=D.substr(M+1)),C){const W=U.indexOf(":");W!==-1&&(U=U.substr(W+1),R=U!==S.data.substr(W+1))}return{tagName:U,tagExp:D,closeIndex:q,attrExpPresent:R}}function b(w,I,C){const S=C;let D=1;for(;C<w.length;C++)if(w[C]==="<")if(w[C+1]==="/"){const q=k(w,">",C,"".concat(I," is not closed"));if(w.substring(C+2,q).trim()===I&&(D--,D===0))return{tagContent:w.substring(S,C),i:q};C=q}else if(w[C+1]==="?")C=k(w,"?>",C+1,"StopNode is not closed.");else if(w.substr(C+1,3)==="!--")C=k(w,"-->",C+3,"StopNode is not closed.");else if(w.substr(C+1,2)==="![")C=k(w,"]]>",C,"StopNode is not closed.")-2;else{const q=f(w,C,">");q&&((q&&q.tagName)===I&&q.tagExp[q.tagExp.length-1]!=="/"&&D++,C=q.closeIndex)}}function j(w,I,C){if(I&&typeof w=="string"){const S=w.trim();return S==="true"||S!=="false"&&A(w,C)}return x.isExist(w)?w:""}o.exports=class{constructor(w){this.options=w,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=g,this.parseXml=a,this.parseTextData=N,this.resolveNameSpace=u,this.buildAttributesMap=h,this.isItStopNode=_,this.replaceEntitiesValue=m,this.readStopNodeData=b,this.saveTextToParentTag=y,this.addChild=l}}},338:(o,i,d)=>{const{buildOptions:x}=d(63),v=d(299),{prettify:O}=d(728),A=d(31);o.exports=class{constructor(g){this.externalEntities={},this.options=x(g)}parse(g,N){if(typeof g!="string"){if(!g.toString)throw new Error("XML data is accepted in String or Bytes[] form.");g=g.toString()}if(N){N===!0&&(N={});const h=A.validate(g,N);if(h!==!0)throw Error("".concat(h.err.msg,":").concat(h.err.line,":").concat(h.err.col))}const u=new v(this.options);u.addExternalEntities(this.externalEntities);const s=u.parseXml(g);return this.options.preserveOrder||s===void 0?s:O(s,this.options)}addEntity(g,N){if(N.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(g.indexOf("&")!==-1||g.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(N==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[g]=N}}},728:(o,i)=>{function d(A,g,N){let u;const s={};for(let h=0;h<A.length;h++){const a=A[h],l=x(a);let m="";if(m=N===void 0?l:N+"."+l,l===g.textNodeName)u===void 0?u=a[l]:u+=""+a[l];else{if(l===void 0)continue;if(a[l]){let y=d(a[l],g,m);const _=O(y,g);a[":@"]?v(y,a[":@"],m,g):Object.keys(y).length!==1||y[g.textNodeName]===void 0||g.alwaysCreateTextNode?Object.keys(y).length===0&&(g.alwaysCreateTextNode?y[g.textNodeName]="":y=""):y=y[g.textNodeName],s[l]!==void 0&&s.hasOwnProperty(l)?(Array.isArray(s[l])||(s[l]=[s[l]]),s[l].push(y)):g.isArray(l,m,_)?s[l]=[y]:s[l]=y}}}return typeof u=="string"?u.length>0&&(s[g.textNodeName]=u):u!==void 0&&(s[g.textNodeName]=u),s}function x(A){const g=Object.keys(A);for(let N=0;N<g.length;N++){const u=g[N];if(u!==":@")return u}}function v(A,g,N,u){if(g){const s=Object.keys(g),h=s.length;for(let a=0;a<h;a++){const l=s[a];u.isArray(l,N+"."+l,!0,!0)?A[l]=[g[l]]:A[l]=g[l]}}}function O(A,g){const{textNodeName:N}=g,u=Object.keys(A).length;return u===0||!(u!==1||!A[N]&&typeof A[N]!="boolean"&&A[N]!==0)}i.prettify=function(A,g){return d(A,g)}},365:o=>{o.exports=class{constructor(i){this.tagname=i,this.child=[],this[":@"]={}}add(i,d){i==="__proto__"&&(i="#__proto__"),this.child.push({[i]:d})}addChild(i){i.tagname==="__proto__"&&(i.tagname="#__proto__"),i[":@"]&&Object.keys(i[":@"]).length>0?this.child.push({[i.tagname]:i.child,":@":i[":@"]}):this.child.push({[i.tagname]:i.child})}}},135:o=>{function i(d){return!!d.constructor&&typeof d.constructor.isBuffer=="function"&&d.constructor.isBuffer(d)}o.exports=function(d){return d!=null&&(i(d)||function(x){return typeof x.readFloatLE=="function"&&typeof x.slice=="function"&&i(x.slice(0,0))}(d)||!!d._isBuffer)}},542:(o,i,d)=>{var x,v,O,A,g;x=d(298),v=d(526).utf8,O=d(135),A=d(526).bin,(g=function(N,u){N.constructor==String?N=u&&u.encoding==="binary"?A.stringToBytes(N):v.stringToBytes(N):O(N)?N=Array.prototype.slice.call(N,0):Array.isArray(N)||N.constructor===Uint8Array||(N=N.toString());for(var s=x.bytesToWords(N),h=8*N.length,a=1732584193,l=-271733879,m=-1732584194,y=271733878,_=0;_<s.length;_++)s[_]=16711935&(s[_]<<8|s[_]>>>24)|4278255360&(s[_]<<24|s[_]>>>8);s[h>>>5]|=128<<h%32,s[14+(h+64>>>9<<4)]=h;var k=g._ff,f=g._gg,b=g._hh,j=g._ii;for(_=0;_<s.length;_+=16){var w=a,I=l,C=m,S=y;a=k(a,l,m,y,s[_+0],7,-680876936),y=k(y,a,l,m,s[_+1],12,-389564586),m=k(m,y,a,l,s[_+2],17,606105819),l=k(l,m,y,a,s[_+3],22,-1044525330),a=k(a,l,m,y,s[_+4],7,-176418897),y=k(y,a,l,m,s[_+5],12,1200080426),m=k(m,y,a,l,s[_+6],17,-1473231341),l=k(l,m,y,a,s[_+7],22,-45705983),a=k(a,l,m,y,s[_+8],7,1770035416),y=k(y,a,l,m,s[_+9],12,-1958414417),m=k(m,y,a,l,s[_+10],17,-42063),l=k(l,m,y,a,s[_+11],22,-1990404162),a=k(a,l,m,y,s[_+12],7,1804603682),y=k(y,a,l,m,s[_+13],12,-40341101),m=k(m,y,a,l,s[_+14],17,-1502002290),a=f(a,l=k(l,m,y,a,s[_+15],22,1236535329),m,y,s[_+1],5,-165796510),y=f(y,a,l,m,s[_+6],9,-1069501632),m=f(m,y,a,l,s[_+11],14,643717713),l=f(l,m,y,a,s[_+0],20,-373897302),a=f(a,l,m,y,s[_+5],5,-701558691),y=f(y,a,l,m,s[_+10],9,38016083),m=f(m,y,a,l,s[_+15],14,-660478335),l=f(l,m,y,a,s[_+4],20,-405537848),a=f(a,l,m,y,s[_+9],5,568446438),y=f(y,a,l,m,s[_+14],9,-1019803690),m=f(m,y,a,l,s[_+3],14,-187363961),l=f(l,m,y,a,s[_+8],20,1163531501),a=f(a,l,m,y,s[_+13],5,-1444681467),y=f(y,a,l,m,s[_+2],9,-51403784),m=f(m,y,a,l,s[_+7],14,1735328473),a=b(a,l=f(l,m,y,a,s[_+12],20,-1926607734),m,y,s[_+5],4,-378558),y=b(y,a,l,m,s[_+8],11,-2022574463),m=b(m,y,a,l,s[_+11],16,1839030562),l=b(l,m,y,a,s[_+14],23,-35309556),a=b(a,l,m,y,s[_+1],4,-1530992060),y=b(y,a,l,m,s[_+4],11,1272893353),m=b(m,y,a,l,s[_+7],16,-155497632),l=b(l,m,y,a,s[_+10],23,-1094730640),a=b(a,l,m,y,s[_+13],4,681279174),y=b(y,a,l,m,s[_+0],11,-358537222),m=b(m,y,a,l,s[_+3],16,-722521979),l=b(l,m,y,a,s[_+6],23,76029189),a=b(a,l,m,y,s[_+9],4,-640364487),y=b(y,a,l,m,s[_+12],11,-421815835),m=b(m,y,a,l,s[_+15],16,530742520),a=j(a,l=b(l,m,y,a,s[_+2],23,-995338651),m,y,s[_+0],6,-198630844),y=j(y,a,l,m,s[_+7],10,1126891415),m=j(m,y,a,l,s[_+14],15,-1416354905),l=j(l,m,y,a,s[_+5],21,-57434055),a=j(a,l,m,y,s[_+12],6,1700485571),y=j(y,a,l,m,s[_+3],10,-1894986606),m=j(m,y,a,l,s[_+10],15,-1051523),l=j(l,m,y,a,s[_+1],21,-2054922799),a=j(a,l,m,y,s[_+8],6,1873313359),y=j(y,a,l,m,s[_+15],10,-30611744),m=j(m,y,a,l,s[_+6],15,-1560198380),l=j(l,m,y,a,s[_+13],21,1309151649),a=j(a,l,m,y,s[_+4],6,-145523070),y=j(y,a,l,m,s[_+11],10,-1120210379),m=j(m,y,a,l,s[_+2],15,718787259),l=j(l,m,y,a,s[_+9],21,-343485551),a=a+w>>>0,l=l+I>>>0,m=m+C>>>0,y=y+S>>>0}return x.endian([a,l,m,y])})._ff=function(N,u,s,h,a,l,m){var y=N+(u&s|~u&h)+(a>>>0)+m;return(y<<l|y>>>32-l)+u},g._gg=function(N,u,s,h,a,l,m){var y=N+(u&h|s&~h)+(a>>>0)+m;return(y<<l|y>>>32-l)+u},g._hh=function(N,u,s,h,a,l,m){var y=N+(u^s^h)+(a>>>0)+m;return(y<<l|y>>>32-l)+u},g._ii=function(N,u,s,h,a,l,m){var y=N+(s^(u|~h))+(a>>>0)+m;return(y<<l|y>>>32-l)+u},g._blocksize=16,g._digestsize=16,o.exports=function(N,u){if(N==null)throw new Error("Illegal argument "+N);var s=x.wordsToBytes(g(N,u));return u&&u.asBytes?s:u&&u.asString?A.bytesToString(s):x.bytesToHex(s)}},285:(o,i,d)=>{var x=d(2);o.exports=function(k){return k?(k.substr(0,2)==="{}"&&(k="\\{\\}"+k.substr(2)),_(function(f){return f.split("\\\\").join(v).split("\\{").join(O).split("\\}").join(A).split("\\,").join(g).split("\\.").join(N)}(k),!0).map(s)):[]};var v="\0SLASH"+Math.random()+"\0",O="\0OPEN"+Math.random()+"\0",A="\0CLOSE"+Math.random()+"\0",g="\0COMMA"+Math.random()+"\0",N="\0PERIOD"+Math.random()+"\0";function u(k){return parseInt(k,10)==k?parseInt(k,10):k.charCodeAt(0)}function s(k){return k.split(v).join("\\").split(O).join("{").split(A).join("}").split(g).join(",").split(N).join(".")}function h(k){if(!k)return[""];var f=[],b=x("{","}",k);if(!b)return k.split(",");var j=b.pre,w=b.body,I=b.post,C=j.split(",");C[C.length-1]+="{"+w+"}";var S=h(I);return I.length&&(C[C.length-1]+=S.shift(),C.push.apply(C,S)),f.push.apply(f,C),f}function a(k){return"{"+k+"}"}function l(k){return/^-?0\d/.test(k)}function m(k,f){return k<=f}function y(k,f){return k>=f}function _(k,f){var b=[],j=x("{","}",k);if(!j)return[k];var w=j.pre,I=j.post.length?_(j.post,!1):[""];if(/\$$/.test(j.pre))for(var C=0;C<I.length;C++){var S=w+"{"+j.body+"}"+I[C];b.push(S)}else{var D,q,M=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(j.body),U=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(j.body),R=M||U,W=j.body.indexOf(",")>=0;if(!R&&!W)return j.post.match(/,.*\}/)?_(k=j.pre+"{"+j.body+A+j.post):[k];if(R)D=j.body.split(/\.\./);else if((D=h(j.body)).length===1&&(D=_(D[0],!1).map(a)).length===1)return I.map(function(ue){return j.pre+D[0]+ue});if(R){var J=u(D[0]),ct=u(D[1]),Y=Math.max(D[0].length,D[1].length),et=D.length==3?Math.abs(u(D[2])):1,rt=m;ct<J&&(et*=-1,rt=y);var ut=D.some(l);q=[];for(var vt=J;rt(vt,ct);vt+=et){var bt;if(U)(bt=String.fromCharCode(vt))==="\\"&&(bt="");else if(bt=String(vt),ut){var Wt=Y-bt.length;if(Wt>0){var It=new Array(Wt+1).join("0");bt=vt<0?"-"+It+bt.slice(1):It+bt}}q.push(bt)}}else{q=[];for(var Nt=0;Nt<D.length;Nt++)q.push.apply(q,_(D[Nt],!1))}for(Nt=0;Nt<q.length;Nt++)for(C=0;C<I.length;C++)S=w+q[Nt]+I[C],(!f||R||S)&&b.push(S)}return b}},829:o=>{function i(u){return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},i(u)}function d(u){var s=typeof Map=="function"?new Map:void 0;return d=function(h){if(h===null||(a=h,Function.toString.call(a).indexOf("[native code]")===-1))return h;var a;if(typeof h!="function")throw new TypeError("Super expression must either be null or a function");if(s!==void 0){if(s.has(h))return s.get(h);s.set(h,l)}function l(){return x(h,arguments,O(this).constructor)}return l.prototype=Object.create(h.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),v(l,h)},d(u)}function x(u,s,h){return x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,l,m){var y=[null];y.push.apply(y,l);var _=new(Function.bind.apply(a,y));return m&&v(_,m.prototype),_},x.apply(null,arguments)}function v(u,s){return v=Object.setPrototypeOf||function(h,a){return h.__proto__=a,h},v(u,s)}function O(u){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(s){return s.__proto__||Object.getPrototypeOf(s)},O(u)}var A=function(u){function s(h){var a;return function(l,m){if(!(l instanceof m))throw new TypeError("Cannot call a class as a function")}(this,s),(a=function(l,m){return!m||i(m)!=="object"&&typeof m!="function"?function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(l):m}(this,O(s).call(this,h))).name="ObjectPrototypeMutationError",a}return function(h,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(a&&a.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),a&&v(h,a)}(s,u),s}(d(Error));function g(u,s){for(var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=s.split("."),l=a.length,m=function(k){var f=a[k];if(!u)return{v:void 0};if(f==="+"){if(Array.isArray(u))return{v:u.map(function(j,w){var I=a.slice(k+1);return I.length>0?g(j,I.join("."),h):h(u,w,a,k)})};var b=a.slice(0,k).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}u=h(u,f,a,k)},y=0;y<l;y++){var _=m(y);if(i(_)==="object")return _.v}return u}function N(u,s){return u.length===s+1}o.exports={set:function(u,s,h){if(i(u)!="object"||u===null||s===void 0)return u;if(typeof s=="number")return u[s]=h,u[s];try{return g(u,s,function(a,l,m,y){if(a===Reflect.getPrototypeOf({}))throw new A("Attempting to mutate Object.prototype");if(!a[l]){var _=Number.isInteger(Number(m[y+1])),k=m[y+1]==="+";a[l]=_||k?[]:{}}return N(m,y)&&(a[l]=h),a[l]})}catch(a){if(a instanceof A)throw a;return u}},get:function(u,s){if(i(u)!="object"||u===null||s===void 0)return u;if(typeof s=="number")return u[s];try{return g(u,s,function(h,a){return h[a]})}catch{return u}},has:function(u,s){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i(u)!="object"||u===null||s===void 0)return!1;if(typeof s=="number")return s in u;try{var a=!1;return g(u,s,function(l,m,y,_){if(!N(y,_))return l&&l[m];a=h.own?l.hasOwnProperty(m):m in l}),a}catch{return!1}},hasOwn:function(u,s,h){return this.has(u,s,h||{own:!0})},isIn:function(u,s,h){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(i(u)!="object"||u===null||s===void 0)return!1;try{var l=!1,m=!1;return g(u,s,function(y,_,k,f){return l=l||y===h||!!y&&y[_]===h,m=N(k,f)&&i(y)==="object"&&_ in y,y&&y[_]}),a.validPath?l&&m:l}catch{return!1}},ObjectPrototypeMutationError:A}},47:(o,i,d)=>{var x=d(410),v=function(u){return typeof u=="string"};function O(u,s){for(var h=[],a=0;a<u.length;a++){var l=u[a];l&&l!=="."&&(l===".."?h.length&&h[h.length-1]!==".."?h.pop():s&&h.push(".."):h.push(l))}return h}var A=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,g={};function N(u){return A.exec(u).slice(1)}g.resolve=function(){for(var u="",s=!1,h=arguments.length-1;h>=-1&&!s;h--){var a=h>=0?arguments[h]:te.cwd();if(!v(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(u=a+"/"+u,s=a.charAt(0)==="/")}return(s?"/":"")+(u=O(u.split("/"),!s).join("/"))||"."},g.normalize=function(u){var s=g.isAbsolute(u),h=u.substr(-1)==="/";return(u=O(u.split("/"),!s).join("/"))||s||(u="."),u&&h&&(u+="/"),(s?"/":"")+u},g.isAbsolute=function(u){return u.charAt(0)==="/"},g.join=function(){for(var u="",s=0;s<arguments.length;s++){var h=arguments[s];if(!v(h))throw new TypeError("Arguments to path.join must be strings");h&&(u+=u?"/"+h:h)}return g.normalize(u)},g.relative=function(u,s){function h(f){for(var b=0;b<f.length&&f[b]==="";b++);for(var j=f.length-1;j>=0&&f[j]==="";j--);return b>j?[]:f.slice(b,j+1)}u=g.resolve(u).substr(1),s=g.resolve(s).substr(1);for(var a=h(u.split("/")),l=h(s.split("/")),m=Math.min(a.length,l.length),y=m,_=0;_<m;_++)if(a[_]!==l[_]){y=_;break}var k=[];for(_=y;_<a.length;_++)k.push("..");return(k=k.concat(l.slice(y))).join("/")},g._makeLong=function(u){return u},g.dirname=function(u){var s=N(u),h=s[0],a=s[1];return h||a?(a&&(a=a.substr(0,a.length-1)),h+a):"."},g.basename=function(u,s){var h=N(u)[2];return s&&h.substr(-1*s.length)===s&&(h=h.substr(0,h.length-s.length)),h},g.extname=function(u){return N(u)[3]},g.format=function(u){if(!x.isObject(u))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof u);var s=u.root||"";if(!v(s))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof u.root);return(u.dir?u.dir+g.sep:"")+(u.base||"")},g.parse=function(u){if(!v(u))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof u);var s=N(u);if(!s||s.length!==4)throw new TypeError("Invalid path '"+u+"'");return s[1]=s[1]||"",s[2]=s[2]||"",s[3]=s[3]||"",{root:s[0],dir:s[0]+s[1].slice(0,s[1].length-1),base:s[2],ext:s[3],name:s[2].slice(0,s[2].length-s[3].length)}},g.sep="/",g.delimiter=":",o.exports=g},647:(o,i)=>{var d=Object.prototype.hasOwnProperty;function x(O){try{return decodeURIComponent(O.replace(/\+/g," "))}catch{return null}}function v(O){try{return encodeURIComponent(O)}catch{return null}}i.stringify=function(O,A){A=A||"";var g,N,u=[];for(N in typeof A!="string"&&(A="?"),O)if(d.call(O,N)){if((g=O[N])||g!=null&&!isNaN(g)||(g=""),N=v(N),g=v(g),N===null||g===null)continue;u.push(N+"="+g)}return u.length?A+u.join("&"):""},i.parse=function(O){for(var A,g=/([^=?#&]+)=?([^&]*)/g,N={};A=g.exec(O);){var u=x(A[1]),s=x(A[2]);u===null||s===null||u in N||(N[u]=s)}return N}},670:o=>{o.exports=function(i,d){if(d=d.split(":")[0],!(i=+i))return!1;switch(d){case"http":case"ws":return i!==80;case"https":case"wss":return i!==443;case"ftp":return i!==21;case"gopher":return i!==70;case"file":return!1}return i!==0}},494:o=>{const i=/^[-+]?0x[a-fA-F0-9]+$/,d=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const x={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};o.exports=function(v){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(O=Object.assign({},x,O),!v||typeof v!="string")return v;let A=v.trim();if(O.skipLike!==void 0&&O.skipLike.test(A))return v;if(O.hex&&i.test(A))return Number.parseInt(A,16);{const N=d.exec(A);if(N){const u=N[1],s=N[2];let h=((g=N[3])&&g.indexOf(".")!==-1&&((g=g.replace(/0+$/,""))==="."?g="0":g[0]==="."?g="0"+g:g[g.length-1]==="."&&(g=g.substr(0,g.length-1))),g);const a=N[4]||N[6];if(!O.leadingZeros&&s.length>0&&u&&A[2]!=="."||!O.leadingZeros&&s.length>0&&!u&&A[1]!==".")return v;{const l=Number(A),m=""+l;return m.search(/[eE]/)!==-1||a?O.eNotation?l:v:A.indexOf(".")!==-1?m==="0"&&h===""||m===h||u&&m==="-"+h?l:v:s?h===m||u+h===m?l:v:A===m||A===u+m?l:v}}return v}var g}},737:(o,i,d)=>{var x=d(670),v=d(647),O=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,A=/[\n\r\t]/g,g=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,N=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,s=/^[a-zA-Z]:/;function h(f){return(f||"").toString().replace(O,"")}var a=[["#","hash"],["?","query"],function(f,b){return y(b.protocol)?f.replace(/\\/g,"/"):f},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function m(f){var b,j=(typeof window<"u"?window:typeof Qt<"u"?Qt:typeof self<"u"?self:{}).location||{},w={},I=typeof(f=f||j);if(f.protocol==="blob:")w=new k(unescape(f.pathname),{});else if(I==="string")for(b in w=new k(f,{}),l)delete w[b];else if(I==="object"){for(b in f)b in l||(w[b]=f[b]);w.slashes===void 0&&(w.slashes=g.test(f.href))}return w}function y(f){return f==="file:"||f==="ftp:"||f==="http:"||f==="https:"||f==="ws:"||f==="wss:"}function _(f,b){f=(f=h(f)).replace(A,""),b=b||{};var j,w=u.exec(f),I=w[1]?w[1].toLowerCase():"",C=!!w[2],S=!!w[3],D=0;return C?S?(j=w[2]+w[3]+w[4],D=w[2].length+w[3].length):(j=w[2]+w[4],D=w[2].length):S?(j=w[3]+w[4],D=w[3].length):j=w[4],I==="file:"?D>=2&&(j=j.slice(2)):y(I)?j=w[4]:I?C&&(j=j.slice(2)):D>=2&&y(b.protocol)&&(j=w[4]),{protocol:I,slashes:C||y(I),slashesCount:D,rest:j}}function k(f,b,j){if(f=(f=h(f)).replace(A,""),!(this instanceof k))return new k(f,b,j);var w,I,C,S,D,q,M=a.slice(),U=typeof b,R=this,W=0;for(U!=="object"&&U!=="string"&&(j=b,b=null),j&&typeof j!="function"&&(j=v.parse),w=!(I=_(f||"",b=m(b))).protocol&&!I.slashes,R.slashes=I.slashes||w&&b.slashes,R.protocol=I.protocol||b.protocol||"",f=I.rest,(I.protocol==="file:"&&(I.slashesCount!==2||s.test(f))||!I.slashes&&(I.protocol||I.slashesCount<2||!y(R.protocol)))&&(M[3]=[/(.*)/,"pathname"]);W<M.length;W++)typeof(S=M[W])!="function"?(C=S[0],q=S[1],C!=C?R[q]=f:typeof C=="string"?~(D=C==="@"?f.lastIndexOf(C):f.indexOf(C))&&(typeof S[2]=="number"?(R[q]=f.slice(0,D),f=f.slice(D+S[2])):(R[q]=f.slice(D),f=f.slice(0,D))):(D=C.exec(f))&&(R[q]=D[1],f=f.slice(0,D.index)),R[q]=R[q]||w&&S[3]&&b[q]||"",S[4]&&(R[q]=R[q].toLowerCase())):f=S(f,R);j&&(R.query=j(R.query)),w&&b.slashes&&R.pathname.charAt(0)!=="/"&&(R.pathname!==""||b.pathname!=="")&&(R.pathname=function(J,ct){if(J==="")return ct;for(var Y=(ct||"/").split("/").slice(0,-1).concat(J.split("/")),et=Y.length,rt=Y[et-1],ut=!1,vt=0;et--;)Y[et]==="."?Y.splice(et,1):Y[et]===".."?(Y.splice(et,1),vt++):vt&&(et===0&&(ut=!0),Y.splice(et,1),vt--);return ut&&Y.unshift(""),rt!=="."&&rt!==".."||Y.push(""),Y.join("/")}(R.pathname,b.pathname)),R.pathname.charAt(0)!=="/"&&y(R.protocol)&&(R.pathname="/"+R.pathname),x(R.port,R.protocol)||(R.host=R.hostname,R.port=""),R.username=R.password="",R.auth&&(~(D=R.auth.indexOf(":"))?(R.username=R.auth.slice(0,D),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=R.auth.slice(D+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(R.auth)),R.auth=R.password?R.username+":"+R.password:R.username),R.origin=R.protocol!=="file:"&&y(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString()}k.prototype={set:function(f,b,j){var w=this;switch(f){case"query":typeof b=="string"&&b.length&&(b=(j||v.parse)(b)),w[f]=b;break;case"port":w[f]=b,x(b,w.protocol)?b&&(w.host=w.hostname+":"+b):(w.host=w.hostname,w[f]="");break;case"hostname":w[f]=b,w.port&&(b+=":"+w.port),w.host=b;break;case"host":w[f]=b,N.test(b)?(b=b.split(":"),w.port=b.pop(),w.hostname=b.join(":")):(w.hostname=b,w.port="");break;case"protocol":w.protocol=b.toLowerCase(),w.slashes=!j;break;case"pathname":case"hash":if(b){var I=f==="pathname"?"/":"#";w[f]=b.charAt(0)!==I?I+b:b}else w[f]=b;break;case"username":case"password":w[f]=encodeURIComponent(b);break;case"auth":var C=b.indexOf(":");~C?(w.username=b.slice(0,C),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=b.slice(C+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(b))}for(var S=0;S<a.length;S++){var D=a[S];D[4]&&(w[D[1]]=w[D[1]].toLowerCase())}return w.auth=w.password?w.username+":"+w.password:w.username,w.origin=w.protocol!=="file:"&&y(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString(),w},toString:function(f){f&&typeof f=="function"||(f=v.stringify);var b,j=this,w=j.host,I=j.protocol;I&&I.charAt(I.length-1)!==":"&&(I+=":");var C=I+(j.protocol&&j.slashes||y(j.protocol)?"//":"");return j.username?(C+=j.username,j.password&&(C+=":"+j.password),C+="@"):j.password?(C+=":"+j.password,C+="@"):j.protocol!=="file:"&&y(j.protocol)&&!w&&j.pathname!=="/"&&(C+="@"),(w[w.length-1]===":"||N.test(j.hostname)&&!j.port)&&(w+=":"),C+=w+j.pathname,(b=typeof j.query=="object"?f(j.query):j.query)&&(C+=b.charAt(0)!=="?"?"?"+b:b),j.hash&&(C+=j.hash),C}},k.extractProtocol=_,k.location=m,k.trimLeft=h,k.qs=v,o.exports=k},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},Pn={};function tt(o){var i=Pn[o];if(i!==void 0)return i.exports;var d=Pn[o]={id:o,loaded:!1,exports:{}};return js[o].call(d.exports,d,d.exports,tt),d.loaded=!0,d.exports}tt.n=o=>{var i=o&&o.__esModule?()=>o.default:()=>o;return tt.d(i,{a:i}),i},tt.d=(o,i)=>{for(var d in i)tt.o(i,d)&&!tt.o(o,d)&&Object.defineProperty(o,d,{enumerable:!0,get:i[d]})},tt.o=(o,i)=>Object.prototype.hasOwnProperty.call(o,i),tt.nmd=o=>(o.paths=[],o.children||(o.children=[]),o);var yt={};(()=>{tt.d(yt,{hT:()=>M,O4:()=>U,Kd:()=>D,YK:()=>q,UU:()=>so,Gu:()=>rt,ky:()=>nn,h4:()=>Mt,ch:()=>Xt,hq:()=>St,i5:()=>rn});var o=tt(737),i=tt.n(o);function d(e){if(!x(e))throw new Error("Parameter was not an error")}function x(e){return t=e,Object.prototype.toString.call(t)==="[object Error]"||e instanceof Error;var t}class v extends Error{constructor(t,n){const r=[...arguments],{options:p,shortMessage:c}=function(T){let P,L="";if(T.length===0)P={};else if(x(T[0]))P={cause:T[0]},L=T.slice(1).join(" ")||"";else if(T[0]&&typeof T[0]=="object")P=Object.assign({},T[0]),L=T.slice(1).join(" ")||"";else{if(typeof T[0]!="string")throw new Error("Invalid arguments passed to Layerr");P={},L=L=T.join(" ")||""}return{options:P,shortMessage:L}}(r);let E=c;if(p.cause&&(E="".concat(E,": ").concat(p.cause.message)),super(E),this.message=E,p.name&&typeof p.name=="string"?this.name=p.name:this.name="Layerr",p.cause&&Object.defineProperty(this,"_cause",{value:p.cause}),Object.defineProperty(this,"_info",{value:{}}),p.info&&typeof p.info=="object"&&Object.assign(this._info,p.info),Error.captureStackTrace){const T=p.constructorOpt||this.constructor;Error.captureStackTrace(this,T)}}static cause(t){return d(t),t._cause&&x(t._cause)?t._cause:null}static fullStack(t){d(t);const n=v.cause(t);return n?"".concat(t.stack,"\ncaused by: ").concat(v.fullStack(n)):t.stack}static info(t){d(t);const n={},r=v.cause(t);return r&&Object.assign(n,v.info(r)),t._info&&Object.assign(n,t._info),n}cause(){return v.cause(this)}toString(){let t=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t="".concat(t,": ").concat(this.message)),t}}var O=tt(47),A=tt.n(O);const g="__PATH_SEPARATOR_POSIX__",N="__PATH_SEPARATOR_WINDOWS__";function u(e){try{const t=e.replace(/\//g,g).replace(/\\\\/g,N);return encodeURIComponent(t).split(N).join("\\\\").split(g).join("/")}catch(t){throw new v(t,"Failed encoding path")}}function s(e){return e.startsWith("/")?e:"/"+e}function h(e){let t=e;return t[0]!=="/"&&(t="/"+t),/^.+\/$/.test(t)&&(t=t.substr(0,t.length-1)),t}function a(e){let t=new(i())(e).pathname;return t.length<=0&&(t="/"),h(t)}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){return function(r){var p=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var c=r.shift();r[0]=c+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var E=0;E<r.length;E++){var T=r[E];if(typeof T!="string")throw new TypeError("Url must be a string. Received "+T);T!==""&&(E>0&&(T=T.replace(/^[\/]+/,"")),T=E<r.length-1?T.replace(/[\/]+$/,""):T.replace(/[\/]+$/,"/"),p.push(T))}var P=p.join("/"),L=(P=P.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return L.shift()+(L.length>0?"?":"")+L.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(t.reduce((r,p,c)=>((c===0||p!=="/"||p==="/"&&r[r.length-1]!=="/")&&r.push(p),r),[]))}var m=tt(542),y=tt.n(m);const _="abcdef0123456789";function k(e,t){const n=e.url.replace("//",""),r=n.indexOf("/")==-1?"/":n.slice(n.indexOf("/")),p=e.method?e.method.toUpperCase():"GET",c=!!/(^|,)\s*auth\s*($|,)/.test(t.qop)&&"auth",E="00000000".concat(t.nc).slice(-8),T=function(G,Q,V,$,B,Z,X){const H=X||y()("".concat(Q,":").concat(V,":").concat($));return G&&G.toLowerCase()==="md5-sess"?y()("".concat(H,":").concat(B,":").concat(Z)):H}(t.algorithm,t.username,t.realm,t.password,t.nonce,t.cnonce,t.ha1),P=y()("".concat(p,":").concat(r)),L=c?y()("".concat(T,":").concat(t.nonce,":").concat(E,":").concat(t.cnonce,":").concat(c,":").concat(P)):y()("".concat(T,":").concat(t.nonce,":").concat(P)),F={username:t.username,realm:t.realm,nonce:t.nonce,uri:r,qop:c,response:L,nc:E,cnonce:t.cnonce,algorithm:t.algorithm,opaque:t.opaque},z=[];for(const G in F)F[G]&&(G==="qop"||G==="nc"||G==="algorithm"?z.push("".concat(G,"=").concat(F[G])):z.push("".concat(G,'="').concat(F[G],'"')));return"Digest ".concat(z.join(", "))}function f(e){return(e.headers&&e.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var b=tt(101),j=tt.n(b);function w(e){return j().decode(e)}function I(e,t){const n=(r="".concat(e,":").concat(t),j().encode(r));var r;return"Basic ".concat(n)}const C=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,S=C.fetch.bind(C),D=C.Request,q=C.Response;let M=function(e){return e.Auto="auto",e.Digest="digest",e.None="none",e.Password="password",e.Token="token",e}({}),U=function(e){return e.DataTypeNoLength="data-type-no-length",e.InvalidAuthType="invalid-auth-type",e.InvalidOutputFormat="invalid-output-format",e.LinkUnsupportedAuthType="link-unsupported-auth",e.InvalidUpdateRange="invalid-update-range",e.NotSupported="not-supported",e}({});function R(e,t,n,r,p){switch(e.authType){case M.Auto:t&&n&&(e.headers.Authorization=I(t,n));break;case M.Digest:e.digest=function(E,T,P){return{username:E,password:T,ha1:P,nc:0,algorithm:"md5",hasDigestAuth:!1}}(t,n,p);break;case M.None:break;case M.Password:e.headers.Authorization=I(t,n);break;case M.Token:e.headers.Authorization="".concat((c=r).token_type," ").concat(c.access_token);break;default:throw new v({info:{code:U.InvalidAuthType}},"Invalid auth type: ".concat(e.authType))}var c}tt(345),tt(800);const W="@@HOTPATCHER",J=()=>{};function ct(e){return{original:e,methods:[e],final:!1}}class Y{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=W}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(t){this.configuration.getEmptyAction=t}control(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!t||t.__type__!==W)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(t.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?n&&(this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},t.configuration.registry[r])}),t._configuration=this.configuration,this}execute(t){const n=this.get(t)||J;for(var r=arguments.length,p=new Array(r>1?r-1:0),c=1;c<r;c++)p[c-1]=arguments[c];return n(...p)}get(t){const n=this.configuration.registry[t];if(!n)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error("Failed handling method request: No method provided for override: ".concat(t));default:throw new Error("Failed handling request which resulted in an empty method: Invalid empty-action specified: ".concat(this.getEmptyAction))}return function(){for(var r=arguments.length,p=new Array(r),c=0;c<r;c++)p[c]=arguments[c];if(p.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var E=arguments.length,T=new Array(E),P=0;P<E;P++)T[P]=arguments[P];let L=T;const F=this;for(;p.length>0;)L=[p.shift().apply(F,L)];return L[0]}}(...n.methods)}isPatched(t){return!!this.configuration.registry[t]}patch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:p=!1}=r;if(this.configuration.registry[t]&&this.configuration.registry[t].final)throw new Error("Failed patching '".concat(t,"': Method marked as being final"));if(typeof n!="function")throw new Error("Failed patching '".concat(t,"': Provided method is not a function"));if(p)this.configuration.registry[t]?this.configuration.registry[t].methods.push(n):this.configuration.registry[t]=ct(n);else if(this.isPatched(t)){const{original:c}=this.configuration.registry[t];this.configuration.registry[t]=Object.assign(ct(n),{original:c})}else this.configuration.registry[t]=ct(n);return this}patchInline(t,n){this.isPatched(t)||this.patch(t,n);for(var r=arguments.length,p=new Array(r>2?r-2:0),c=2;c<r;c++)p[c-2]=arguments[c];return this.execute(t,...p)}plugin(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),p=1;p<n;p++)r[p-1]=arguments[p];return r.forEach(c=>{this.patch(t,c,{chain:!0})}),this}restore(t){if(!this.isPatched(t))throw new Error("Failed restoring method: No method present for key: ".concat(t));if(typeof this.configuration.registry[t].original!="function")throw new Error("Failed restoring method: Original method not found or of invalid type for key: ".concat(t));return this.configuration.registry[t].methods=[this.configuration.registry[t].original],this}setFinal(t){if(!this.configuration.registry.hasOwnProperty(t))throw new Error("Failed marking '".concat(t,"' as final: No method found for key"));return this.configuration.registry[t].final=!0,this}}let et=null;function rt(){return et||(et=new Y),et}function ut(e){return function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n}(e)?Object.assign({},e):Object.setPrototypeOf(Object.assign({},e),Object.getPrototypeOf(e))}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=null,p=[...t];for(;p.length>0;){const c=p.shift();r=r?bt(r,c):ut(c)}return r}function bt(e,t){const n=ut(e);return Object.keys(t).forEach(r=>{n.hasOwnProperty(r)?Array.isArray(t[r])?n[r]=Array.isArray(n[r])?[...n[r],...t[r]]:[...t[r]]:typeof t[r]=="object"&&t[r]?n[r]=typeof n[r]=="object"&&n[r]?bt(n[r],t[r]):ut(t[r]):n[r]=t[r]:n[r]=t[r]}),n}function Wt(e){const t={};for(const n of e.keys())t[n]=e.get(n);return t}function It(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===0)return{};const r={};return t.reduce((p,c)=>(Object.keys(c).forEach(E=>{const T=E.toLowerCase();r.hasOwnProperty(T)?p[r[T]]=c[E]:(r[T]=E,p[E]=c[E])}),p),{})}tt(805);const Nt=typeof ArrayBuffer=="function",{toString:ue}=Object.prototype;function ze(e){return Nt&&(e instanceof ArrayBuffer||ue.call(e)==="[object ArrayBuffer]")}function We(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function ce(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function le(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Ve=ce(function(e){const t=e._digest;return delete e._digest,t.hasDigestAuth&&(e=vt(e,{headers:{Authorization:k(e,t)}})),le(Vt(e),function(n){let r=!1;return p=function(E){return r?E:n},(c=function(){if(n.status==401)return t.hasDigestAuth=function(E,T){if(!f(E))return!1;const P=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const L=E.headers&&E.headers.get("www-authenticate")||"",F=P.exec(L);if(!F)break;T[F[1]]=F[2]||F[3]}return T.nc+=1,T.cnonce=function(){let L="";for(let F=0;F<32;++F)L="".concat(L).concat(_[Math.floor(16*Math.random())]);return L}(),!0}(n,t),function(){if(t.hasDigestAuth)return le(Vt(e=vt(e,{headers:{Authorization:k(e,t)}})),function(E){return E.status==401?t.hasDigestAuth=!1:t.nc++,r=!0,E})}();t.nc++}())&&c.then?c.then(p):p(c);var p,c})}),ar=ce(function(e,t){return le(Vt(e),function(n){return n.ok?(t.authType=M.Password,n):n.status==401&&f(n)?(t.authType=M.Digest,R(t,t.username,t.password,void 0,void 0),e._digest=t.digest,Ve(e)):n})}),ot=ce(function(e,t){return t.authType===M.Auto?ar(e,t):e._digest?Ve(e):Vt(e)});function it(e,t,n){const r=ut(e);return r.headers=It(t.headers,r.headers||{},n.headers||{}),n.data!==void 0&&(r.data=n.data),n.signal&&(r.signal=n.signal),t.httpAgent&&(r.httpAgent=t.httpAgent),t.httpsAgent&&(r.httpsAgent=t.httpsAgent),t.digest&&(r._digest=t.digest),typeof t.withCredentials=="boolean"&&(r.withCredentials=t.withCredentials),r}function Vt(e){const t=rt();return t.patchInline("request",n=>t.patchInline("fetch",S,n.url,function(r){let p={};const c={method:r.method};if(r.headers&&(p=It(p,r.headers)),r.data!==void 0){const[E,T]=function(P){if(typeof P=="string")return[P,{}];if(We(P))return[P,{}];if(ze(P))return[P,{}];if(P&&typeof P=="object")return[JSON.stringify(P),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: ".concat(typeof P))}(r.data);c.body=E,p=It(p,T)}return r.signal&&(c.signal=r.signal),r.withCredentials&&(c.credentials="include"),c.headers=p,c}(n)),e)}var ur=tt(285);const cr={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ft=e=>e.replace(/[[\]\\-]/g,"\\$&"),He=e=>e.join(""),lr=(e,t)=>{const n=t;if(e.charAt(n)!=="[")throw new Error("not in a brace expression");const r=[],p=[];let c=n+1,E=!1,T=!1,P=!1,L=!1,F=n,z="";t:for(;c<e.length;){const $=e.charAt(c);if($!=="!"&&$!=="^"||c!==n+1){if($==="]"&&E&&!P){F=c+1;break}if(E=!0,$!=="\\"||P){if($==="["&&!P){for(const[B,[Z,X,H]]of Object.entries(cr))if(e.startsWith(B,c)){if(z)return["$.",!1,e.length-n,!0];c+=B.length,H?p.push(Z):r.push(Z),T=T||X;continue t}}P=!1,z?($>z?r.push(Ft(z)+"-"+Ft($)):$===z&&r.push(Ft($)),z="",c++):e.startsWith("-]",c+1)?(r.push(Ft($+"-")),c+=2):e.startsWith("-",c+1)?(z=$,c+=2):(r.push(Ft($)),c++)}else P=!0,c++}else L=!0,c++}if(F<c)return["",!1,0,!1];if(!r.length&&!p.length)return["$.",!1,e.length-n,!0];if(p.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!L)return[(G=r[0].length===2?r[0].slice(-1):r[0],G.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,F-n,!1];var G;const Q="["+(L?"^":"")+He(r)+"]",V="["+(L?"":"^")+He(p)+"]";return[r.length&&p.length?"("+Q+"|"+V+")":r.length?Q:V,T,F-n,!0]};function lt(e,t,n){var r;return(t=typeof(r=function(p,c){if(typeof p!="object"||!p)return p;var E=p[Symbol.toPrimitive];if(E!==void 0){var T=E.call(p,"string");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(p)}(t))=="symbol"?r:String(r))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const dt=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Ht(t),!(!n.nocomment&&t.charAt(0)==="#")&&new Gt(t,n).match(e)},hr=dt,pr=/^\*+([^+@!?\*\[\(]*)$/,fr=e=>t=>!t.startsWith(".")&&t.endsWith(e),gr=e=>t=>t.endsWith(e),dr=e=>(e=e.toLowerCase(),t=>!t.startsWith(".")&&t.toLowerCase().endsWith(e)),mr=e=>(e=e.toLowerCase(),t=>t.toLowerCase().endsWith(e)),vr=/^\*+\.\*+$/,wr=e=>!e.startsWith(".")&&e.includes("."),yr=e=>e!=="."&&e!==".."&&e.includes("."),br=/^\.\*+$/,xr=e=>e!=="."&&e!==".."&&e.startsWith("."),Er=/^\*+$/,Nr=e=>e.length!==0&&!e.startsWith("."),Ar=e=>e.length!==0&&e!=="."&&e!=="..",Or=/^\?+([^+@!?\*\[\(]*)?$/,_r=e=>{let[t,n=""]=e;const r=Ge([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},Tr=e=>{let[t,n=""]=e;const r=Ze([t]);return n?(n=n.toLowerCase(),p=>r(p)&&p.toLowerCase().endsWith(n)):r},jr=e=>{let[t,n=""]=e;const r=Ze([t]);return n?p=>r(p)&&p.endsWith(n):r},Cr=e=>{let[t,n=""]=e;const r=Ge([t]);return n?p=>r(p)&&p.endsWith(n):r},Ge=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&!r.startsWith(".")},Ze=e=>{let[t]=e;const n=t.length;return r=>r.length===n&&r!=="."&&r!==".."},Xe=typeof te=="object"&&te?typeof je=="object"&&je&&je.__MINIMATCH_TESTING_PLATFORM__||te.platform:"posix";dt.sep=Xe==="win32"?"\\":"/";const wt=Symbol("globstar **");dt.GLOBSTAR=wt;const Ke={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},he="[^/]",pe=he+"*?",Qe=e=>e.split("").reduce((t,n)=>(t[n]=!0,t),{}),Sr=Qe("().*{}+?[]^$\\!"),Pr=Qe("[.(");dt.filter=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=>dt(n,e,t)};const Et=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},e,t)};dt.defaults=e=>{if(!e||typeof e!="object"||!Object.keys(e).length)return dt;const t=dt;return Object.assign(function(n,r){return t(n,r,Et(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends t.Minimatch{constructor(n){super(n,Et(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(n){return t.defaults(Et(e,n)).Minimatch}},unescape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.unescape(n,Et(e,r))},escape:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.escape(n,Et(e,r))},filter:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.filter(n,Et(e,r))},defaults:n=>t.defaults(Et(e,n)),makeRe:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.makeRe(n,Et(e,r))},braceExpand:function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.braceExpand(n,Et(e,r))},match:function(n,r){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t.match(n,r,Et(e,p))},sep:t.sep,GLOBSTAR:wt})};const Ye=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Ht(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:ur(e)};dt.braceExpand=Ye;const Ht=e=>{if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};dt.makeRe=function(e){return new Gt(e,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},dt.match=function(e,t){const n=new Gt(t,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return e=e.filter(r=>n.match(r)),n.options.nonull&&!e.length&&e.push(t),e};const Je=/[?*]|[+@!]\(.*?\)|\[|\]/,tn=e=>e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Gt{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};lt(this,"options",void 0),lt(this,"set",void 0),lt(this,"pattern",void 0),lt(this,"windowsPathsNoEscape",void 0),lt(this,"nonegate",void 0),lt(this,"negate",void 0),lt(this,"comment",void 0),lt(this,"empty",void 0),lt(this,"preserveMultipleSlashes",void 0),lt(this,"partial",void 0),lt(this,"globSet",void 0),lt(this,"globParts",void 0),lt(this,"nocase",void 0),lt(this,"isWindows",void 0),lt(this,"platform",void 0),lt(this,"windowsNoMagicRoot",void 0),lt(this,"regexp",void 0),Ht(t),n=n||{},this.options=n,this.pattern=t,this.platform=n.platform||Xe,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!n.windowsPathsNoEscape||n.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!n.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!n.nonegate,this.comment=!1,this.empty=!1,this.partial=!!n.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=n.windowsNoMagicRoot!==void 0?n.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const n of t)if(typeof n!="string")return!0;return!1}debug(){}make(){const t=this.pattern,n=this.options;if(!n.nocomment&&t.charAt(0)==="#")return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],n.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(c=>this.slashSplit(c));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let p=this.globParts.map((c,E,T)=>{if(this.isWindows&&this.windowsNoMagicRoot){const P=!(c[0]!==""||c[1]!==""||c[2]!=="?"&&Je.test(c[2])||Je.test(c[3])),L=/^[a-z]:/i.test(c[0]);if(P)return[...c.slice(0,4),...c.slice(4).map(F=>this.parse(F))];if(L)return[c[0],...c.slice(1).map(F=>this.parse(F))]}return c.map(P=>this.parse(P))});if(this.debug(this.pattern,p),this.set=p.filter(c=>c.indexOf(!1)===-1),this.isWindows)for(let c=0;c<this.set.length;c++){const E=this.set[c];E[0]===""&&E[1]===""&&this.globParts[c][2]==="?"&&typeof E[3]=="string"&&/^[a-z]:$/i.test(E[3])&&(E[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let r=0;r<t.length;r++)for(let p=0;p<t[r].length;p++)t[r][p]==="**"&&(t[r][p]="*");const{optimizationLevel:n=1}=this.options;return n>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=n>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map(n=>{let r=-1;for(;(r=n.indexOf("**",r+1))!==-1;){let p=r;for(;n[p+1]==="**";)p++;p!==r&&n.splice(r,p-r)}return n})}levelOneOptimize(t){return t.map(n=>(n=n.reduce((r,p)=>{const c=r[r.length-1];return p==="**"&&c==="**"?r:p===".."&&c&&c!==".."&&c!=="."&&c!=="**"?(r.pop(),r):(r.push(p),r)},[])).length===0?[""]:n)}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let n=!1;do{if(n=!1,!this.preserveMultipleSlashes){for(let p=1;p<t.length-1;p++){const c=t[p];p===1&&c===""&&t[0]===""||c!=="."&&c!==""||(n=!0,t.splice(p,1),p--)}t[0]!=="."||t.length!==2||t[1]!=="."&&t[1]!==""||(n=!0,t.pop())}let r=0;for(;(r=t.indexOf("..",r+1))!==-1;){const p=t[r-1];p&&p!=="."&&p!==".."&&p!=="**"&&(n=!0,t.splice(r-1,2),r-=2)}}while(n);return t.length===0?[""]:t}firstPhasePreProcess(t){let n=!1;do{n=!1;for(let r of t){let p=-1;for(;(p=r.indexOf("**",p+1))!==-1;){let E=p;for(;r[E+1]==="**";)E++;E>p&&r.splice(p+1,E-p);let T=r[p+1];const P=r[p+2],L=r[p+3];if(T!==".."||!P||P==="."||P===".."||!L||L==="."||L==="..")continue;n=!0,r.splice(p,1);const F=r.slice(0);F[p]="**",t.push(F),p--}if(!this.preserveMultipleSlashes){for(let E=1;E<r.length-1;E++){const T=r[E];E===1&&T===""&&r[0]===""||T!=="."&&T!==""||(n=!0,r.splice(E,1),E--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(n=!0,r.pop())}let c=0;for(;(c=r.indexOf("..",c+1))!==-1;){const E=r[c-1];if(E&&E!=="."&&E!==".."&&E!=="**"){n=!0;const T=c===1&&r[c+1]==="**"?["."]:[];r.splice(c-1,2,...T),r.length===0&&r.push(""),c-=2}}}}while(n);return t}secondPhasePreProcess(t){for(let n=0;n<t.length-1;n++)for(let r=n+1;r<t.length;r++){const p=this.partsMatch(t[n],t[r],!this.preserveMultipleSlashes);p&&(t[n]=p,t[r]=[])}return t.filter(n=>n.length)}partsMatch(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],p=0,c=0,E=[],T="";for(;p<t.length&&c<n.length;)if(t[p]===n[c])E.push(T==="b"?n[c]:t[p]),p++,c++;else if(r&&t[p]==="**"&&n[c]===t[p+1])E.push(t[p]),p++;else if(r&&n[c]==="**"&&t[p]===n[c+1])E.push(n[c]),c++;else if(t[p]!=="*"||!n[c]||!this.options.dot&&n[c].startsWith(".")||n[c]==="**"){if(n[c]!=="*"||!t[p]||!this.options.dot&&t[p].startsWith(".")||t[p]==="**"||T==="a")return!1;T="b",E.push(n[c]),p++,c++}else{if(T==="b")return!1;T="a",E.push(t[p]),p++,c++}return t.length===n.length&&E}parseNegate(){if(this.nonegate)return;const t=this.pattern;let n=!1,r=0;for(let p=0;p<t.length&&t.charAt(p)==="!";p++)n=!n,r++;r&&(this.pattern=t.slice(r)),this.negate=n}matchOne(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const p=this.options;if(this.isWindows){const $=t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3]),B=n[0]===""&&n[1]===""&&n[2]==="?"&&typeof n[3]=="string"&&/^[a-z]:$/i.test(n[3]);if($&&B){const Z=t[3],X=n[3];Z.toLowerCase()===X.toLowerCase()&&(t[3]=X)}else if(B&&typeof t[0]=="string"){const Z=n[3],X=t[0];Z.toLowerCase()===X.toLowerCase()&&(n[3]=X,n=n.slice(3))}else if($&&typeof n[0]=="string"){const Z=t[3];Z.toLowerCase()===n[0].toLowerCase()&&(n[0]=Z,t=t.slice(3))}}const{optimizationLevel:c=1}=this.options;c>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:n}),this.debug("matchOne",t.length,n.length);for(var E=0,T=0,P=t.length,L=n.length;E<P&&T<L;E++,T++){this.debug("matchOne loop");var F=n[T],z=t[E];if(this.debug(n,F,z),F===!1)return!1;if(F===wt){this.debug("GLOBSTAR",[n,F,z]);var G=E,Q=T+1;if(Q===L){for(this.debug("** at the end");E<P;E++)if(t[E]==="."||t[E]===".."||!p.dot&&t[E].charAt(0)===".")return!1;return!0}for(;G<P;){var V=t[G];if(this.debug("\nglobstar while",t,G,n,Q,V),this.matchOne(t.slice(G),n.slice(Q),r))return this.debug("globstar found match!",G,P,V),!0;if(V==="."||V===".."||!p.dot&&V.charAt(0)==="."){this.debug("dot detected!",t,G,n,Q);break}this.debug("globstar swallow a segment, and continue"),G++}return!(!r||(this.debug("\n>>> no match, partial?",t,G,n,Q),G!==P))}let $;if(typeof F=="string"?($=z===F,this.debug("string match",F,z,$)):($=F.test(z),this.debug("pattern match",F,z,$)),!$)return!1}if(E===P&&T===L)return!0;if(E===P)return r;if(T===L)return E===P-1&&t[E]==="";throw new Error("wtf?")}braceExpand(){return Ye(this.pattern,this.options)}parse(t){Ht(t);const n=this.options;if(t==="**")return wt;if(t==="")return"";let r,p=null;(r=t.match(Er))?p=n.dot?Ar:Nr:(r=t.match(pr))?p=(n.nocase?n.dot?mr:dr:n.dot?gr:fr)(r[1]):(r=t.match(Or))?p=(n.nocase?n.dot?Tr:_r:n.dot?jr:Cr)(r):(r=t.match(vr))?p=n.dot?yr:wr:(r=t.match(br))&&(p=xr);let c="",E=!1,T=!1;const P=[],L=[];let F,z=!1,G=!1,Q=t.charAt(0)===".",V=n.dot||Q;const $=H=>H.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",B=()=>{if(z){switch(z){case"*":c+=pe,E=!0;break;case"?":c+=he,E=!0;break;default:c+="\\"+z}this.debug("clearStateChar %j %j",z,c),z=!1}};for(let H,K=0;K<t.length&&(H=t.charAt(K));K++)if(this.debug("%s	%s %s %j",t,K,c,H),T){if(H==="/")return!1;Sr[H]&&(c+="\\"),c+=H,T=!1}else switch(H){case"/":return!1;case"\\":B(),T=!0;continue;case"?":case"*":case"+":case"@":case"!":this.debug("%s	%s %s %j <-- stateChar",t,K,c,H),this.debug("call clearStateChar %j",z),B(),z=H,n.noext&&B();continue;case"(":{if(!z){c+="\\(";continue}const nt={type:z,start:K-1,reStart:c.length,open:Ke[z].open,close:Ke[z].close};this.debug(this.pattern,"	",nt),P.push(nt),c+=nt.open,nt.start===0&&nt.type!=="!"&&(Q=!0,c+=$(t.slice(K+1))),this.debug("plType %j %j",z,c),z=!1;continue}case")":{const nt=P[P.length-1];if(!nt){c+="\\)";continue}P.pop(),B(),E=!0,F=nt,c+=F.close,F.type==="!"&&L.push(Object.assign(F,{reEnd:c.length}));continue}case"|":{const nt=P[P.length-1];if(!nt){c+="\\|";continue}B(),c+="|",nt.start===0&&nt.type!=="!"&&(Q=!0,c+=$(t.slice(K+1)));continue}case"[":B();const[ft,at,ht,$t]=lr(t,K);ht?(c+=ft,G=G||at,K+=ht-1,E=E||$t):c+="\\[";continue;case"]":c+="\\"+H;continue;default:B(),c+=tn(H)}for(F=P.pop();F;F=P.pop()){let H;H=c.slice(F.reStart+F.open.length),this.debug(this.pattern,"setting tail",c,F),H=H.replace(/((?:\\{2}){0,64})(\\?)\|/g,(ft,at,ht)=>(ht||(ht="\\"),at+at+ht+"|")),this.debug("tail=%j\n   %s",H,H,F,c);const K=F.type==="*"?pe:F.type==="?"?he:"\\"+F.type;E=!0,c=c.slice(0,F.reStart)+K+"\\("+H}B(),T&&(c+="\\\\");const Z=Pr[c.charAt(0)];for(let H=L.length-1;H>-1;H--){const K=L[H],ft=c.slice(0,K.reStart),at=c.slice(K.reStart,K.reEnd-8);let ht=c.slice(K.reEnd);const $t=c.slice(K.reEnd-8,K.reEnd)+ht,nt=ft.split(")").length,ao=ft.split("(").length-nt;let Ae=ht;for(let dn=0;dn<ao;dn++)Ae=Ae.replace(/\)[+*?]?/,"");ht=Ae,c=ft+at+ht+(ht===""?"(?:$|\\/)":"")+$t}if(c!==""&&E&&(c="(?=.)"+c),Z&&(c=(Q?"":V?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)")+c),!n.nocase||E||n.nocaseMagicOnly||(E=t.toUpperCase()!==t.toLowerCase()),!E)return c.replace(/\\(.)/g,"$1");const X=(n.nocase?"i":"")+(G?"u":"");try{const H=p?{_glob:t,_src:c,test:p}:{_glob:t,_src:c};return Object.assign(new RegExp("^"+c+"$",X),H)}catch(H){return this.debug("invalid regexp",H),new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const n=this.options,r=n.noglobstar?pe:n.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",p=n.nocase?"i":"";let c=t.map(E=>{const T=E.map(P=>typeof P=="string"?tn(P):P===wt?wt:P._src);return T.forEach((P,L)=>{const F=T[L+1],z=T[L-1];P===wt&&z!==wt&&(z===void 0?F!==void 0&&F!==wt?T[L+1]="(?:\\/|"+r+"\\/)?"+F:T[L]=r:F===void 0?T[L-1]=z+"(?:\\/|"+r+")?":F!==wt&&(T[L-1]=z+"(?:\\/|\\/"+r+"\\/)"+F,T[L+1]=wt))}),T.filter(P=>P!==wt).join("/")}).join("|");c="^(?:"+c+")$",this.negate&&(c="^(?!"+c+").*$");try{this.regexp=new RegExp(c,p)}catch{this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&n)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const p=this.slashSplit(t);this.debug(this.pattern,"split",p);const c=this.set;this.debug(this.pattern,"set",c);let E=p[p.length-1];if(!E)for(let T=p.length-2;!E&&T>=0;T--)E=p[T];for(let T=0;T<c.length;T++){const P=c[T];let L=p;if(r.matchBase&&P.length===1&&(L=[E]),this.matchOne(L,P,n))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return dt.defaults(t).Minimatch}}function fe(e){const t=new Error("".concat(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"","Invalid response: ").concat(e.status," ").concat(e.statusText));return t.status=e.status,t.response=e,t}function st(e,t){const{status:n}=t;if(n===401&&e.digest)return t;if(n>=400)throw fe(t);return t}function St(e,t){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:t,headers:e.headers?Wt(e.headers):{},status:e.status,statusText:e.statusText}:t}dt.Minimatch=Gt,dt.escape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/[?*()[\]]/g,"[$&]"):e.replace(/[?*()[\]\\]/g,"\\$&")},dt.unescape=function(e){let{windowsPathsNoEscape:t=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t?e.replace(/\[([^\/\\])\]/g,"$1"):e.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")};const Ir=(en=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,u(t)),method:"COPY",headers:{Destination:l(e.remoteURL,u(n)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},e,r);return E=function(T){st(e,T)},(c=ot(p,e))&&c.then||(c=Promise.resolve(c)),E?c.then(E):c;var c,E},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(en.apply(this,e))}catch(n){return Promise.reject(n)}});var en,ge=tt(635),kr=tt(829),At=tt.n(kr),kt=function(e){return e.Array="array",e.Object="object",e.Original="original",e}(kt||{});function Zt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kt.Original;const r=At().get(e,t);return n==="array"&&Array.isArray(r)===!1?[r]:n==="object"&&Array.isArray(r)?r[0]:r}function Mt(e){return new Promise(t=>{t(function(n){const{multistatus:r}=n;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const p={multistatus:Array.isArray(r)?r[0]:r};return At().set(p,"multistatus.response",Zt(p,"multistatus.response",kt.Array)),At().set(p,"multistatus.response",At().get(p,"multistatus.response").map(c=>function(E){const T=Object.assign({},E);return T.status?At().set(T,"status",Zt(T,"status",kt.Object)):(At().set(T,"propstat",Zt(T,"propstat",kt.Object)),At().set(T,"propstat.prop",Zt(T,"propstat.prop",kt.Object))),T}(c))),p}(new ge.XMLParser({removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1}}).parse(e)))})}function Xt(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:p="0",resourcetype:c=null,getcontenttype:E=null,getetag:T=null}=e,P=c&&typeof c=="object"&&c.collection!==void 0?"directory":"file",L={filename:t,basename:A().basename(t),lastmod:r,size:parseInt(p,10),type:P,etag:typeof T=="string"?T.replace(/"/g,""):null};return P==="file"&&(L.mime=E&&typeof E=="string"?E.split(";")[0]:""),n&&(L.props=e),L}function nn(e,t){let n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{e.multistatus.response[0].propstat&&(r=e.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:p,status:c}}=r,[E,T,P]=c.split(" ",3),L=parseInt(T,10);if(L>=400){const F=new Error("Invalid response: ".concat(L," ").concat(P));throw F.status=L,F}return Xt(p,h(t),n)}function rn(e){switch(e.toString()){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(e,10)}}function de(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const me=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,u(t)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,n);return de(ot(p,e),function(c){return st(e,c),de(c.text(),function(E){return de(Mt(E),function(T){const P=nn(T,t,r);return St(c,P,r)})})})});function on(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Rr=sn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(c){if(!c||c==="/")return[];let E=c;const T=[];do T.push(E),E=A().dirname(E);while(E&&E!=="/");return T}(h(t));r.sort((c,E)=>c.length>E.length?1:E.length>c.length?-1:0);let p=!1;return function(c,E,T){if(typeof c[un]=="function"){let $=function(B){try{for(;!(P=z.next()).done;)if((B=E(P.value))&&B.then){if(!cn(B))return void B.then($,F||(F=mt.bind(null,L=new Rt,2)));B=B.v}L?mt(L,1,B):L=B}catch(Z){mt(L||(L=new Rt),2,Z)}};var P,L,F,z=c[un]();if($(),z.return){var G=function(B){try{P.done||z.return()}catch{}return B};if(L&&L.then)return L.then(G,function(B){throw G(B)});G()}return L}if(!("length"in c))throw new TypeError("Object is not iterable");for(var Q=[],V=0;V<c.length;V++)Q.push(c[V]);return function($,B,Z){var X,H,K=-1;return function ft(at){try{for(;++K<$.length&&(!Z||!Z());)if((at=B(K))&&at.then){if(!cn(at))return void at.then(ft,H||(H=mt.bind(null,X=new Rt,2)));at=at.v}X?mt(X,1,at):X=at}catch(ht){mt(X||(X=new Rt),2,ht)}}(),X}(Q,function($){return E(Q[$])},T)}(r,function(c){return E=function(){return function(P,L){try{var F=on(me(e,c),function(z){if(z.type!=="directory")throw new Error("Path includes a file: ".concat(t))})}catch(z){return L(z)}return F&&F.then?F.then(void 0,L):F}(0,function(P){const L=P;return function(){if(L.status===404)return p=!0,an(ve(e,c,{...n,recursive:!1}));throw P}()})},(T=function(){if(p)return an(ve(e,c,{...n,recursive:!1}))}())&&T.then?T.then(E):E();var E,T},function(){return!1})});function sn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}function Lr(){}function an(e,t){if(!t)return e&&e.then?e.then(Lr):Promise.resolve()}const un=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function mt(e,t,n){if(!e.s){if(n instanceof Rt){if(!n.s)return void(n.o=mt.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(mt.bind(null,e,t),mt.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}const Rt=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,p=this.s;if(p){const c=1&p?t:n;if(c){try{mt(r,1,c(this.v))}catch(E){mt(r,2,E)}return r}return this}return this.o=function(c){try{const E=c.v;1&c.s?mt(r,1,t?t(E):E):n?mt(r,1,n(E)):mt(r,2,E)}catch(E){mt(r,2,E)}},r},e}();function cn(e){return e instanceof Rt&&1&e.s}const ve=sn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(n.recursive===!0)return Rr(e,t,n);const r=it({url:l(e.remoteURL,(p=u(t),p.endsWith("/")?p:p+"/")),method:"MKCOL"},e,n);var p;return on(ot(r,e),function(c){st(e,c)})});var Dr=tt(388),ln=tt.n(Dr);const Fr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof n.range=="object"&&typeof n.range.start=="number"){let T="bytes=".concat(n.range.start,"-");typeof n.range.end=="number"&&(T="".concat(T).concat(n.range.end)),r.Range=T}const p=it({url:l(e.remoteURL,u(t)),method:"GET",headers:r},e,n);return E=function(T){if(st(e,T),r.Range&&T.status!==206){const P=new Error("Invalid response code for partial request: ".concat(T.status));throw P.status=T.status,P}return n.callback&&setTimeout(()=>{n.callback(T)},0),T.body},(c=ot(p,e))&&c.then||(c=Promise.resolve(c)),E?c.then(E):c;var c,E}),Mr=()=>{},Ur=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){n.url||(n.url=l(e.remoteURL,u(t)));const r=it(n,e,{});return c=function(E){return st(e,E),E},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),c?p.then(c):p;var p,c}),$r=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,u(t)),method:"DELETE"},e,n);return c=function(E){st(e,E)},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),c?p.then(c):p;var p,c}),Br=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,p){try{var c=(E=me(e,t,n),T=function(){return!0},P?T?T(E):E:(E&&E.then||(E=Promise.resolve(E)),T?E.then(T):E))}catch(L){return p(L)}var E,T,P;return c&&c.then?c.then(void 0,p):c}(0,function(r){if(r.status===404)return!1;throw r})});function we(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const qr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,u(t),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:n.deep?"infinity":"1"}},e,n);return we(ot(r,e),function(p){return st(e,p),we(p.text(),function(c){if(!c)throw new Error("Failed parsing directory contents: Empty response");return we(Mt(c),function(E){const T=s(t);let P=function(L,F,z){let G=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Q=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const V=A().join(F,"/"),{multistatus:{response:$}}=L,B=$.map(Z=>{const X=function(K){try{return K.replace(/^https?:\/\/[^\/]+/,"")}catch(ft){throw new v(ft,"Failed normalising HREF")}}(Z.href),{propstat:{prop:H}}=Z;return Xt(H,V==="/"?decodeURIComponent(h(X)):h(A().relative(decodeURIComponent(V),decodeURIComponent(X))),G)});return Q?B:B.filter(Z=>Z.basename&&(Z.type==="file"||Z.filename!==z.replace(/\/$/,"")))}(E,s(e.remoteBasePath||e.remotePath),T,n.details,n.includeSelf);return n.glob&&(P=function(L,F){return L.filter(z=>hr(z.filename,F,{matchBase:!0}))}(P,n.glob)),St(p,P,n.details)})})})});function ye(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const zr=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,u(t)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[Hr]},e,n);return Kt(ot(r,e),function(p){return st(e,p),Kt(p.text(),function(c){return St(p,c,n.details)})})});function Kt(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Wr=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,u(t)),method:"GET"},e,n);return Kt(ot(r,e),function(p){let c;return st(e,p),function(E,T){var P=E();return P&&P.then?P.then(T):T()}(function(){return Kt(p.arrayBuffer(),function(E){c=E})},function(){return St(p,c,n.details)})})}),Vr=ye(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=n;if(r!=="binary"&&r!=="text")throw new v({info:{code:U.InvalidOutputFormat}},"Invalid output format: ".concat(r));return r==="text"?zr(e,t,n):Wr(e,t,n)}),Hr=e=>e;function Gr(e){return new ge.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(hn({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:e}}},"d"))}function hn(e,t){const n={...e};for(const r in n)n.hasOwnProperty(r)&&(n[r]&&typeof n[r]=="object"&&r.indexOf(":")===-1?(n["".concat(t,":").concat(r)]=hn(n[r],t),delete n[r]):/^@_/.test(r)===!1&&(n["".concat(t,":").concat(r)]=n[r],delete n[r]));return n}function be(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}function pn(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const Zr=pn(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,u(t)),method:"UNLOCK",headers:{"Lock-Token":n}},e,r);return be(ot(p,e),function(c){if(st(e,c),c.status!==204&&c.status!==200)throw fe(c)})}),Xr=pn(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:p=Kr}=n,c={Accept:"text/plain,application/xml",Timeout:p};r&&(c.If=r);const E=it({url:l(e.remoteURL,u(t)),method:"LOCK",headers:c,data:Gr(e.contactHref)},e,n);return be(ot(E,e),function(T){return st(e,T),be(T.text(),function(P){const L=(G=P,new ge.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(G)),F=At().get(L,"prop.lockdiscovery.activelock.locktoken.href"),z=At().get(L,"prop.lockdiscovery.activelock.timeout");var G;if(!F)throw fe(T,"No lock token received: ");return{token:F,serverTimeout:z}})})}),Kr="Infinite, Second-4100000000";function xe(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Qr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=t.path||"/",r=it({url:l(e.remoteURL,n),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},e,t);return xe(ot(r,e),function(p){return st(e,p),xe(p.text(),function(c){return xe(Mt(c),function(E){const T=function(P){try{const[L]=P.multistatus.response,{propstat:{prop:{"quota-used-bytes":F,"quota-available-bytes":z}}}=L;return F!==void 0&&z!==void 0?{used:parseInt(F,10),available:rn(z)}:null}catch{}return null}(E);return St(p,T,t.details)})})})});function Ee(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const Yr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=n,p=it({url:l(e.remoteURL,u(t)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":e.headers["Content-Type"]||"application/xml; charset=utf-8"}},e,n);return Ee(ot(p,e),function(c){return st(e,c),Ee(c.text(),function(E){return Ee(Mt(E),function(T){const P=function(L,F,z){const G={truncated:!1,results:[]};return G.truncated=L.multistatus.response.some(Q=>{var V,$;return((V=(Q.status||(($=Q.propstat)===null||$===void 0?void 0:$.status)).split(" ",3))===null||V===void 0?void 0:V[1])==="507"&&Q.href.replace(/\/$/,"").endsWith(u(F).replace(/\/$/,""))}),L.multistatus.response.forEach(Q=>{if(Q.propstat===void 0)return;const V=Q.href.split("/").map(decodeURIComponent).join("/");G.results.push(Xt(Q.propstat.prop,V,z))}),G}(T,t,r);return St(c,P,r)})})})}),Jr=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const p=it({url:l(e.remoteURL,u(t)),method:"MOVE",headers:{Destination:l(e.remoteURL,u(n)),Overwrite:r.overwrite===!1?"F":"T"}},e,r);return E=function(T){st(e,T)},(c=ot(p,e))&&c.then||(c=Promise.resolve(c)),E?c.then(E):c;var c,E});var to=tt(172);const eo=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:p=!0,overwrite:c=!0}=r,E={"Content-Type":"application/octet-stream"};p===!1||(E["Content-Length"]="".concat(typeof p=="number"?p:function(F){if(ze(F))return F.byteLength;if(We(F))return F.length;if(typeof F=="string")return(0,to.d)(F);throw new v({info:{code:U.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(n))),c||(E["If-None-Match"]="*");const T=it({url:l(e.remoteURL,u(t)),method:"PUT",headers:E,data:n},e,r);return L=function(F){try{st(e,F)}catch(z){const G=z;if(G.status!==412||c)throw G;return!1}return!0},(P=ot(T,e))&&P.then||(P=Promise.resolve(P)),L?P.then(L):P;var P,L}),fn=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}(function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=it({url:l(e.remoteURL,u(t)),method:"OPTIONS"},e,n);return c=function(E){var T,P;try{st(e,E)}catch(L){throw L}return{compliance:((T=E.headers.get("DAV"))!==null&&T!==void 0?T:"").split(",").map(L=>L.trim()),server:(P=E.headers.get("Server"))!==null&&P!==void 0?P:""}},(p=ot(r,e))&&p.then||(p=Promise.resolve(p)),c?p.then(c):p;var p,c});function Ut(e,t,n){return n?t?t(e):e:(e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e)}const no=Ne(function(e,t,n,r,p){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const E={"Content-Type":"application/octet-stream","Content-Length":"".concat(r-n+1),"Content-Range":"bytes ".concat(n,"-").concat(r,"/*")},T=it({url:l(e.remoteURL,u(t)),method:"PUT",headers:E,data:p},e,c);return Ut(ot(T,e),function(P){st(e,P)})});function gn(e,t){var n=e();return n&&n.then?n.then(t):t(n)}const ro=Ne(function(e,t,n,r,p){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(n>r||n<0)throw new v({info:{code:U.InvalidUpdateRange}},"Invalid update range ".concat(n," for partial update"));const E={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":"".concat(r-n+1),"X-Update-Range":"bytes=".concat(n,"-").concat(r)},T=it({url:l(e.remoteURL,u(t)),method:"PATCH",headers:E,data:p},e,c);return Ut(ot(T,e),function(P){st(e,P)})});function Ne(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return Promise.resolve(e.apply(this,t))}catch(r){return Promise.reject(r)}}}const oo=Ne(function(e,t,n,r,p){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return Ut(fn(e,t,c),function(E){let T=!1;return gn(function(){if(E.compliance.includes("sabredav-partialupdate"))return Ut(ro(e,t,n,r,p,c),function(P){return T=!0,P})},function(P){let L=!1;return T?P:gn(function(){if(E.server.includes("Apache")&&E.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return Ut(no(e,t,n,r,p,c),function(F){return L=!0,F})},function(F){if(L)return F;throw new v({info:{code:U.NotSupported}},"Not supported")})})})}),io="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function so(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:n=null,remoteBasePath:r,contactHref:p=io,ha1:c,headers:E={},httpAgent:T,httpsAgent:P,password:L,token:F,username:z,withCredentials:G}=t;let Q=n;Q||(Q=z||L?M.Password:M.None);const V={authType:Q,remoteBasePath:r,contactHref:p,ha1:c,headers:Object.assign({},E),httpAgent:T,httpsAgent:P,password:L,remotePath:a(e),remoteURL:e,token:F,username:z,withCredentials:G};return R(V,z,L,F,c),{copyFile:($,B,Z)=>Ir(V,$,B,Z),createDirectory:($,B)=>ve(V,$,B),createReadStream:($,B)=>function(Z,X){let H=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const K=new(ln()).PassThrough;return Fr(Z,X,H).then(ft=>{ft.pipe(K)}).catch(ft=>{K.emit("error",ft)}),K}(V,$,B),createWriteStream:($,B,Z)=>function(X,H){let K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Mr;const at=new(ln()).PassThrough,ht={};K.overwrite===!1&&(ht["If-None-Match"]="*");const $t=it({url:l(X.remoteURL,u(H)),method:"PUT",headers:ht,data:at,maxRedirects:0},X,K);return ot($t,X).then(nt=>st(X,nt)).then(nt=>{setTimeout(()=>{ft(nt)},0)}).catch(nt=>{at.emit("error",nt)}),at}(V,$,B,Z),customRequest:($,B)=>Ur(V,$,B),deleteFile:($,B)=>$r(V,$,B),exists:($,B)=>Br(V,$,B),getDirectoryContents:($,B)=>qr(V,$,B),getFileContents:($,B)=>Vr(V,$,B),getFileDownloadLink:$=>function(B,Z){let X=l(B.remoteURL,u(Z));const H=/^https:/i.test(X)?"https":"http";switch(B.authType){case M.None:break;case M.Password:{const K=w(B.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(H,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return X}(V,$),getFileUploadLink:$=>function(B,Z){let X="".concat(l(B.remoteURL,u(Z)),"?Content-Type=application/octet-stream");const H=/^https:/i.test(X)?"https":"http";switch(B.authType){case M.None:break;case M.Password:{const K=w(B.headers.Authorization.replace(/^Basic /i,"").trim());X=X.replace(/^https?:\/\//,"".concat(H,"://").concat(K,"@"));break}default:throw new v({info:{code:U.LinkUnsupportedAuthType}},"Unsupported auth type for file link: ".concat(B.authType))}return X}(V,$),getHeaders:()=>Object.assign({},V.headers),getQuota:$=>Qr(V,$),lock:($,B)=>Xr(V,$,B),moveFile:($,B,Z)=>Jr(V,$,B,Z),putFileContents:($,B,Z)=>eo(V,$,B,Z),partialUpdateFileContents:($,B,Z,X,H)=>oo(V,$,B,Z,X,H),getDAVCompliance:$=>fn(V,$),search:($,B)=>Yr(V,$,B),setHeaders:$=>{V.headers=Object.assign({},$)},stat:($,B)=>me(V,$,B),unlock:($,B,Z)=>Zr(V,$,B,Z)}}})(),yt.hT,yt.O4,yt.Kd,yt.YK;var Cs=yt.UU,Ss=yt.Gu;yt.ky,yt.h4,yt.ch,yt.hq,yt.i5;function jt(o,i,d){return i in o?Object.defineProperty(o,i,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[i]=d,o}function In(o,i,d){Ps(o,i),i.set(o,d)}function Ps(o,i){if(i.has(o))throw new TypeError("Cannot initialize the same private elements twice on an object")}function pt(o,i){var d=tr(o,i,"get");return Is(o,d)}function Is(o,i){return i.get?i.get.call(o):i.value}function kn(o,i,d){var x=tr(o,i,"set");return ks(o,x,d),d}function tr(o,i,d){if(!i.has(o))throw new TypeError("attempted to "+d+" private field on non-instance");return i.get(o)}function ks(o,i,d){if(i.set)i.set.call(o,d);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=d}}var Rs=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",gt=new WeakMap,qt=new WeakMap;class se{constructor(i){var{executor:d=()=>{},internals:x=Ue(),promise:v=new Promise((O,A)=>d(O,A,g=>{x.onCancelList.push(g)}))}=i;In(this,gt,{writable:!0,value:void 0}),In(this,qt,{writable:!0,value:void 0}),jt(this,Rs,"CancelablePromise"),this.cancel=this.cancel.bind(this),kn(this,gt,x),kn(this,qt,v||new Promise((O,A)=>d(O,A,g=>{x.onCancelList.push(g)})))}then(i,d){return ee(pt(this,qt).then(Yt(i,pt(this,gt)),Yt(d,pt(this,gt))),pt(this,gt))}catch(i){return ee(pt(this,qt).catch(Yt(i,pt(this,gt))),pt(this,gt))}finally(i,d){return d&&pt(this,gt).onCancelList.push(i),ee(pt(this,qt).finally(Yt(()=>{if(i)return d&&(pt(this,gt).onCancelList=pt(this,gt).onCancelList.filter(x=>x!==i)),i()},pt(this,gt))),pt(this,gt))}cancel(){pt(this,gt).isCanceled=!0;var i=pt(this,gt).onCancelList;pt(this,gt).onCancelList=[];for(var d of i)if(typeof d=="function")try{d()}catch(x){console.error(x)}}isCanceled(){return pt(this,gt).isCanceled===!0}}class Ot extends se{constructor(i){super({executor:i})}}jt(Ot,"all",function(o){return Jt(o,Promise.all(o))}),jt(Ot,"allSettled",function(o){return Jt(o,Promise.allSettled(o))}),jt(Ot,"any",function(o){return Jt(o,Promise.any(o))}),jt(Ot,"race",function(o){return Jt(o,Promise.race(o))}),jt(Ot,"resolve",function(o){return Rn(Promise.resolve(o))}),jt(Ot,"reject",function(o){return Rn(Promise.reject(o))}),jt(Ot,"isCancelable",Me);function Rn(o){return ee(o,Ue())}function Me(o){return o instanceof Ot||o instanceof se}function Yt(o,i){if(o)return d=>{if(!i.isCanceled){var x=o(d);return Me(x)&&i.onCancelList.push(x.cancel),x}return d}}function ee(o,i){return new se({internals:i,promise:o})}function Jt(o,i){var d=Ue();return d.onCancelList.push(()=>{for(var x of o)Me(x)&&x.cancel()}),new se({internals:d,promise:i})}function Ue(){return{isCanceled:!1,onCancelList:[]}}const Ls=o=>o===null?mn().setApp("files").build():mn().setApp("files").setUid(o.uid).build(),Ct=Ls(ne());class Ds{constructor(){_t(this,"_entries",[])}registerEntry(i){var d;this.validateEntry(i),i.category=(d=i.category)!=null?d:1,this._entries.push(i)}unregisterEntry(i){const d=typeof i=="string"?this.getEntryIndex(i):this.getEntryIndex(i.id);if(d===-1){Ct.warn("Entry not found, nothing removed",{entry:i,entries:this.getEntries()});return}this._entries.splice(d,1)}getEntries(i){return i?this._entries.filter(d=>typeof d.enabled=="function"?d.enabled(i):!0):this._entries}getEntryIndex(i){return this._entries.findIndex(d=>d.id===i)}validateEntry(i){if(!i.id||!i.displayName||!(i.iconSvgInline||i.iconClass)||!i.handler)throw new Error("Invalid entry");if(typeof i.id!="string"||typeof i.displayName!="string")throw new Error("Invalid id or displayName property");if(i.iconClass&&typeof i.iconClass!="string"||i.iconSvgInline&&typeof i.iconSvgInline!="string")throw new Error("Invalid icon provided");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(typeof i.handler!="function")throw new Error("Invalid handler property");if("order"in i&&typeof i.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(i.id)!==-1)throw new Error("Duplicate entry")}}const Fs=function(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new Ds,Ct.debug("NewFileMenu initialized")),window._nc_newfilemenu};class Ks{constructor(i){_t(this,"_header");this.validateHeader(i),this._header=i}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(i){if(!i.id||!i.render||!i.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof i.id!="string")throw new Error("Invalid id property");if(i.enabled!==void 0&&typeof i.enabled!="function")throw new Error("Invalid enabled property");if(i.render&&typeof i.render!="function")throw new Error("Invalid render property");if(i.updated&&typeof i.updated!="function")throw new Error("Invalid updated property")}}const Qs=function(o){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],Ct.debug("FileListHeaders initialized")),window._nc_filelistheader.find(i=>i.id===o.id)){Ct.error("Header ".concat(o.id," already registered"),{header:o});return}window._nc_filelistheader.push(o)};var xt=(o=>(o[o.NONE=0]="NONE",o[o.CREATE=4]="CREATE",o[o.READ=1]="READ",o[o.UPDATE=2]="UPDATE",o[o.DELETE=8]="DELETE",o[o.SHARE=16]="SHARE",o[o.ALL=31]="ALL",o))(xt||{});const er=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],nr={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},Ys=function(o,i={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er],window._nc_dav_namespaces={...nr});const d={...window._nc_dav_namespaces,...i};if(window._nc_dav_properties.find(v=>v===o))return Ct.warn("".concat(o," already registered"),{prop:o}),!1;if(o.startsWith("<")||o.split(":").length!==2)return Ct.error("".concat(o," is not valid. See example: 'oc:fileid'"),{prop:o}),!1;const x=o.split(":")[0];return d[x]?(window._nc_dav_properties.push(o),window._nc_dav_namespaces=d,!0):(Ct.error("".concat(o," namespace unknown"),{prop:o,namespaces:d}),!1)},$e=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...er]),window._nc_dav_properties.map(o=>"<".concat(o," />")).join(" ")},Be=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...nr}),Object.keys(window._nc_dav_namespaces).map(o=>{var i;return"xmlns:".concat(o,'="').concat((i=window._nc_dav_namespaces)==null?void 0:i[o],'"')}).join(" ")},Js=function(){return'<?xml version="1.0"?>\n		<d:propfind '.concat(Be(),">\n			<d:prop>\n				").concat($e(),"\n			</d:prop>\n		</d:propfind>")},Ms=function(){return'<?xml version="1.0"?>\n		<oc:filter-files '.concat(Be(),">\n			<d:prop>\n				").concat($e(),"\n			</d:prop>\n			<oc:filter-rules>\n				<oc:favorite>1</oc:favorite>\n			</oc:filter-rules>\n		</oc:filter-files>")},ta=function(o){var i;return'<?xml version="1.0" encoding="UTF-8"?>\n<d:searchrequest '.concat(Be(),'\n	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">\n	<d:basicsearch>\n		<d:select>\n			<d:prop>\n				').concat($e(),"\n			</d:prop>\n		</d:select>\n		<d:from>\n			<d:scope>\n				<d:href>/files/").concat((i=ne())==null?void 0:i.uid,"/</d:href>\n				<d:depth>infinity</d:depth>\n			</d:scope>\n		</d:from>\n		<d:where>\n			<d:and>\n				<d:or>\n					<d:not>\n						<d:eq>\n							<d:prop>\n								<d:getcontenttype/>\n							</d:prop>\n							<d:literal>httpd/unix-directory</d:literal>\n						</d:eq>\n					</d:not>\n					<d:eq>\n						<d:prop>\n							<oc:size/>\n						</d:prop>\n						<d:literal>0</d:literal>\n					</d:eq>\n				</d:or>\n				<d:gt>\n					<d:prop>\n						<d:getlastmodified/>\n					</d:prop>\n					<d:literal>").concat(o,"</d:literal>\n				</d:gt>\n			</d:and>\n		</d:where>\n		<d:orderby>\n			<d:order>\n				<d:prop>\n					<d:getlastmodified/>\n				</d:prop>\n				<d:descending/>\n			</d:order>\n		</d:orderby>\n		<d:limit>\n			<d:nresults>100</d:nresults>\n			<ns:firstresult>0</ns:firstresult>\n		</d:limit>\n	</d:basicsearch>\n</d:searchrequest>")},Us=function(o=""){let i=xt.NONE;return o&&((o.includes("C")||o.includes("K"))&&(i|=xt.CREATE),o.includes("G")&&(i|=xt.READ),(o.includes("W")||o.includes("N")||o.includes("V"))&&(i|=xt.UPDATE),o.includes("D")&&(i|=xt.DELETE),o.includes("R")&&(i|=xt.SHARE)),i};var qe=(o=>(o.Folder="folder",o.File="file",o))(qe||{});const rr=function(o,i){return o.match(i)!==null},Ln=(o,i)=>{if(o.id&&typeof o.id!="number")throw new Error("Invalid id type of value");if(!o.source)throw new Error("Missing mandatory source");try{new URL(o.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!o.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(o.mtime&&!(o.mtime instanceof Date))throw new Error("Invalid mtime type");if(o.crtime&&!(o.crtime instanceof Date))throw new Error("Invalid crtime type");if(!o.mime||typeof o.mime!="string"||!o.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in o&&typeof o.size!="number"&&o.size!==void 0)throw new Error("Invalid size type");if("permissions"in o&&o.permissions!==void 0&&!(typeof o.permissions=="number"&&o.permissions>=xt.NONE&&o.permissions<=xt.ALL))throw new Error("Invalid permissions");if(o.owner&&o.owner!==null&&typeof o.owner!="string")throw new Error("Invalid owner type");if(o.attributes&&typeof o.attributes!="object")throw new Error("Invalid attributes type");if(o.root&&typeof o.root!="string")throw new Error("Invalid root type");if(o.root&&!o.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(o.root&&!o.source.includes(o.root))throw new Error("Root must be part of the source");if(o.root&&rr(o.source,i)){const d=o.source.match(i)[0];if(!o.source.includes(Pt.join(d,o.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(o.status&&!Object.values(or).includes(o.status))throw new Error("Status must be a valid NodeStatus")};var or=(o=>(o.NEW="new",o.FAILED="failed",o.LOADING="loading",o.LOCKED="locked",o))(or||{});class ae{constructor(i,d){_t(this,"_data");_t(this,"_attributes");_t(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);_t(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(ae.prototype)).filter(i=>typeof i[1].get=="function"&&i[0]!=="__proto__").map(i=>i[0]));_t(this,"handler",{set:(i,d,x)=>this.readonlyAttributes.includes(d)?!1:Reflect.set(i,d,x),deleteProperty:(i,d)=>this.readonlyAttributes.includes(d)?!1:Reflect.deleteProperty(i,d),get:(i,d,x)=>this.readonlyAttributes.includes(d)?(Ct.warn('Accessing "Node.attributes.'.concat(d,'" is deprecated, access it directly on the Node instance.')),Reflect.get(this,d)):Reflect.get(i,d,x)});var x;Ln(i,d||this._knownDavService),this._data={...i,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update((x=i.attributes)!=null?x:{}),d&&(this._knownDavService=d)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:i}=new URL(this.source);return i+Ns(this.source.slice(i.length))}get basename(){return Pt.basename(this.source)}get extension(){return Pt.extname(this.source)}get dirname(){if(this.root){let d=this.source;this.isDavRessource&&(d=d.split(this._knownDavService).pop());const x=d.indexOf(this.root),v=this.root.replace(/\/$/,"");return Pt.dirname(d.slice(x+v.length)||"/")}const i=new URL(this.source);return Pt.dirname(i.pathname)}get mime(){return this._data.mime}get mtime(){return this._data.mtime}set mtime(i){this._data.mtime=i}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(i){this.updateMtime(),this._data.size=i}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavRessource?xt.READ:this._data.permissions!==void 0?this._data.permissions:xt.NONE}set permissions(i){this.updateMtime(),this._data.permissions=i}get owner(){return this.isDavRessource?this._data.owner:null}get isDavRessource(){return rr(this.source,this._knownDavService)}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavRessource&&Pt.dirname(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let i=this.source;this.isDavRessource&&(i=i.split(this._knownDavService).pop());const d=i.indexOf(this.root),x=this.root.replace(/\/$/,"");return i.slice(d+x.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){var i;return(i=this._data)==null?void 0:i.id}get status(){var i;return(i=this._data)==null?void 0:i.status}set status(i){this._data.status=i}move(i){Ln({...this._data,source:i},this._knownDavService),this._data.source=i,this.updateMtime()}rename(i){if(i.includes("/"))throw new Error("Invalid basename");this.move(Pt.dirname(this.source)+"/"+i)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(i){for(const[d,x]of Object.entries(i))try{x===void 0?delete this.attributes[d]:this.attributes[d]=x}catch(v){if(v instanceof TypeError)continue;throw v}}}class $s extends ae{get type(){return qe.File}}class Bs extends ae{constructor(i){super({...i,mime:"httpd/unix-directory"})}get type(){return qe.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}}var Dn;const ir="/files/".concat((Dn=ne())==null?void 0:Dn.uid),sr=ko("dav"),ea=function(o=sr,i={}){const d=Cs(o,{headers:i});function x(v){d.setHeaders({...i,"X-Requested-With":"XMLHttpRequest",requesttoken:v!=null?v:""})}return lo(x),x(ho()),Ss().patch("fetch",(v,O)=>{const A=O.headers;return A!=null&&A.method&&(O.method=A.method,delete A.method),fetch(v,O)}),d},na=(o,i="/",d=ir)=>{const x=new AbortController;return new Ot(async(v,O,A)=>{A(()=>x.abort());try{const g=(await o.getDirectoryContents("".concat(d).concat(i),{signal:x.signal,details:!0,data:Ms(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(N=>N.filename!==i).map(N=>qs(N,d));v(g)}catch(g){O(g)}})},qs=function(o,i=ir,d=sr){var N,u,s,h;let x=(N=ne())==null?void 0:N.uid;if((u=document.querySelector("input#isPublic"))!=null&&u.value)x=x!=null?x:(s=document.querySelector("input#sharingUserId"))==null?void 0:s.value,x=x!=null?x:"anonymous";else if(!x)throw new Error("No user id found");const v=o.props,O=Us(v==null?void 0:v.permissions),A=String((v==null?void 0:v["owner-id"])||x),g={id:(v==null?void 0:v.fileid)||0,source:"".concat(d).concat(o.filename),mtime:new Date(Date.parse(o.lastmod)),mime:o.mime||"application/octet-stream",size:(v==null?void 0:v.size)||Number.parseInt(v.getcontentlength||"0"),permissions:O,owner:A,root:i,attributes:{...o,...v,hasPreview:v==null?void 0:v["has-preview"]}};return(h=g.attributes)==null||delete h.props,o.type==="file"?new $s(g):new Bs(g)};var Fn,Mn;(Fn=window._oc_config)==null||Fn.forbidden_filenames_characters,(Mn=window._oc_config)!=null&&Mn.blacklist_files_regex&&new RegExp(window._oc_config.blacklist_files_regex);const Ce=["B","KB","MB","GB","TB","PB"],Se=["B","KiB","MiB","GiB","TiB","PiB"];function ra(o,i=!1,d=!1,x=!1){d=d&&!x,typeof o=="string"&&(o=Number(o));let v=o>0?Math.floor(Math.log(o)/Math.log(x?1e3:1024)):0;v=Math.min((d?Se.length:Ce.length)-1,v);const O=d?Se[v]:Ce[v];let A=(o/Math.pow(x?1e3:1024,v)).toFixed(1);return i===!0&&v===0?(A!=="0.0"?"< 1 ":"0 ")+(d?Se[1]:Ce[1]):(v<2?A=parseFloat(A).toFixed(0):A=parseFloat(A).toLocaleString(Io()),A+" "+O)}var zs={};(function(o){const i=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",d=i+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",x="["+i+"]["+d+"]*",v=new RegExp("^"+x+"$"),O=function(g,N){const u=[];let s=N.exec(g);for(;s;){const h=[];h.startIndex=N.lastIndex-s[0].length;const a=s.length;for(let l=0;l<a;l++)h.push(s[l]);u.push(h),s=N.exec(g)}return u},A=function(g){const N=v.exec(g);return!(N===null||typeof N>"u")};o.isExist=function(g){return typeof g<"u"},o.isEmptyObject=function(g){return Object.keys(g).length===0},o.merge=function(g,N,u){if(N){const s=Object.keys(N),h=s.length;for(let a=0;a<h;a++)u==="strict"?g[s[a]]=[N[s[a]]]:g[s[a]]=N[s[a]]}},o.getValue=function(g){return o.isExist(g)?g:""},o.isName=A,o.getAllMatches=O,o.nameRegexp=x})(zs),!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const oa=function(o){return Fs().registerEntry(o)};export{Ot as C,$s as F,Ks as H,xt as P,Qs as a,oa as b,sr as c,ir as d,ea as e,Js as f,na as g,qe as h,qs as i,ta as j,ra as k,Ys as r};
